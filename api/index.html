
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://selimPCA.github.io/pca-scenery/api/">
      
      
        <link rel="prev" href="../manifest_specification/">
      
      
        <link rel="next" href="../contributing/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.42">
    
    
      
        <title>API Reference - Scenery</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.0253249f.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#api-reference" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Scenery" class="md-header__button md-logo" aria-label="Scenery" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Scenery
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              API Reference
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/selimPCA/pca-scenery" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    username/repo-name
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Scenery" class="md-nav__button md-logo" aria-label="Scenery" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Scenery
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/selimPCA/pca-scenery" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    username/repo-name
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../installation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../glossary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Glossary
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../usage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Usage
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../settings/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Settings
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../manifest_specification/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Manifest specification
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    API Reference
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    API Reference
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#common" class="md-nav__link">
    <span class="md-ellipsis">
      Common
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.common" class="md-nav__link">
    <span class="md-ellipsis">
      common
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.common.colorize" class="md-nav__link">
    <span class="md-ellipsis">
      colorize
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.common.ceil" class="md-nav__link">
    <span class="md-ellipsis">
      ceil
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.common.django_setup" class="md-nav__link">
    <span class="md-ellipsis">
      django_setup
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.common.floor" class="md-nav__link">
    <span class="md-ellipsis">
      floor
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.common.overwrite_get_runner_kwargs" class="md-nav__link">
    <span class="md-ellipsis">
      overwrite_get_runner_kwargs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.common.pretty_test_name" class="md-nav__link">
    <span class="md-ellipsis">
      pretty_test_name
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.common.read_yaml" class="md-nav__link">
    <span class="md-ellipsis">
      read_yaml
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.common.scenery_setup" class="md-nav__link">
    <span class="md-ellipsis">
      scenery_setup
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.common.serialize_unittest_result" class="md-nav__link">
    <span class="md-ellipsis">
      serialize_unittest_result
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.common.snake_to_camel_case" class="md-nav__link">
    <span class="md-ellipsis">
      snake_to_camel_case
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.common.tabulate" class="md-nav__link">
    <span class="md-ellipsis">
      tabulate
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#http-checker" class="md-nav__link">
    <span class="md-ellipsis">
      Http Checker
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.http_checker" class="md-nav__link">
    <span class="md-ellipsis">
      http_checker
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.http_checker.HttpChecker" class="md-nav__link">
    <span class="md-ellipsis">
      HttpChecker
    </span>
  </a>
  
    <nav class="md-nav" aria-label="HttpChecker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scenery.http_checker.HttpChecker.check_count_instances" class="md-nav__link">
    <span class="md-ellipsis">
      check_count_instances
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scenery.http_checker.HttpChecker.check_dom_element" class="md-nav__link">
    <span class="md-ellipsis">
      check_dom_element
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scenery.http_checker.HttpChecker.check_redirect_url" class="md-nav__link">
    <span class="md-ellipsis">
      check_redirect_url
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scenery.http_checker.HttpChecker.check_status_code" class="md-nav__link">
    <span class="md-ellipsis">
      check_status_code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scenery.http_checker.HttpChecker.exec_check" class="md-nav__link">
    <span class="md-ellipsis">
      exec_check
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scenery.http_checker.HttpChecker.get_http_client_response" class="md-nav__link">
    <span class="md-ellipsis">
      get_http_client_response
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#manifest-parser" class="md-nav__link">
    <span class="md-ellipsis">
      Manifest Parser
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.manifest_parser" class="md-nav__link">
    <span class="md-ellipsis">
      manifest_parser
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.manifest_parser.ManifestParser" class="md-nav__link">
    <span class="md-ellipsis">
      ManifestParser
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ManifestParser">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scenery.manifest_parser.ManifestParser.format_dict" class="md-nav__link">
    <span class="md-ellipsis">
      format_dict
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scenery.manifest_parser.ManifestParser.parse_dict" class="md-nav__link">
    <span class="md-ellipsis">
      parse_dict
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scenery.manifest_parser.ManifestParser.parse_formatted_dict" class="md-nav__link">
    <span class="md-ellipsis">
      parse_formatted_dict
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scenery.manifest_parser.ManifestParser.parse_yaml" class="md-nav__link">
    <span class="md-ellipsis">
      parse_yaml
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scenery.manifest_parser.ManifestParser.read_manifest_yaml" class="md-nav__link">
    <span class="md-ellipsis">
      read_manifest_yaml
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scenery.manifest_parser.ManifestParser.validate_dict" class="md-nav__link">
    <span class="md-ellipsis">
      validate_dict
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scenery.manifest_parser.ManifestParser.validate_yaml" class="md-nav__link">
    <span class="md-ellipsis">
      validate_yaml
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#manifest" class="md-nav__link">
    <span class="md-ellipsis">
      Manifest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.manifest" class="md-nav__link">
    <span class="md-ellipsis">
      manifest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.manifest.Case" class="md-nav__link">
    <span class="md-ellipsis">
      Case
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.manifest.DirectiveCommand" class="md-nav__link">
    <span class="md-ellipsis">
      DirectiveCommand
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.manifest.DomArgument" class="md-nav__link">
    <span class="md-ellipsis">
      DomArgument
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.manifest.HttpCheck" class="md-nav__link">
    <span class="md-ellipsis">
      HttpCheck
    </span>
  </a>
  
    <nav class="md-nav" aria-label="HttpCheck">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scenery.manifest.HttpCheck.__post_init__" class="md-nav__link">
    <span class="md-ellipsis">
      __post_init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.manifest.HttpDirective" class="md-nav__link">
    <span class="md-ellipsis">
      HttpDirective
    </span>
  </a>
  
    <nav class="md-nav" aria-label="HttpDirective">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scenery.manifest.HttpDirective.__post_init__" class="md-nav__link">
    <span class="md-ellipsis">
      __post_init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.manifest.HttpScene" class="md-nav__link">
    <span class="md-ellipsis">
      HttpScene
    </span>
  </a>
  
    <nav class="md-nav" aria-label="HttpScene">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scenery.manifest.HttpScene.substitute_recursively" class="md-nav__link">
    <span class="md-ellipsis">
      substitute_recursively
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.manifest.HttpTake" class="md-nav__link">
    <span class="md-ellipsis">
      HttpTake
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.manifest.Item" class="md-nav__link">
    <span class="md-ellipsis">
      Item
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.manifest.Manifest" class="md-nav__link">
    <span class="md-ellipsis">
      Manifest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.manifest.ManifestDictKeys" class="md-nav__link">
    <span class="md-ellipsis">
      ManifestDictKeys
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.manifest.ManifestFormattedDictKeys" class="md-nav__link">
    <span class="md-ellipsis">
      ManifestFormattedDictKeys
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.manifest.ManifestYAMLKeys" class="md-nav__link">
    <span class="md-ellipsis">
      ManifestYAMLKeys
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.manifest.SetUpInstruction" class="md-nav__link">
    <span class="md-ellipsis">
      SetUpInstruction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.manifest.SingleKeyDict" class="md-nav__link">
    <span class="md-ellipsis">
      SingleKeyDict
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SingleKeyDict">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scenery.manifest.SingleKeyDict.as_tuple" class="md-nav__link">
    <span class="md-ellipsis">
      as_tuple
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#metatest" class="md-nav__link">
    <span class="md-ellipsis">
      Metatest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.metatest" class="md-nav__link">
    <span class="md-ellipsis">
      metatest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.metatest.MetaTest" class="md-nav__link">
    <span class="md-ellipsis">
      MetaTest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.metatest.MetaTestDiscoverer" class="md-nav__link">
    <span class="md-ellipsis">
      MetaTestDiscoverer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MetaTestDiscoverer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scenery.metatest.MetaTestDiscoverer.discover" class="md-nav__link">
    <span class="md-ellipsis">
      discover
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.metatest.MetaTestRunner" class="md-nav__link">
    <span class="md-ellipsis">
      MetaTestRunner
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MetaTestRunner">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scenery.metatest.MetaTestRunner.__del__" class="md-nav__link">
    <span class="md-ellipsis">
      __del__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scenery.metatest.MetaTestRunner.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scenery.metatest.MetaTestRunner.run" class="md-nav__link">
    <span class="md-ellipsis">
      run
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#method-builder" class="md-nav__link">
    <span class="md-ellipsis">
      Method builder
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.method_builder" class="md-nav__link">
    <span class="md-ellipsis">
      method_builder
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.method_builder.MethodBuilder" class="md-nav__link">
    <span class="md-ellipsis">
      MethodBuilder
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MethodBuilder">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scenery.method_builder.MethodBuilder.build_setUp" class="md-nav__link">
    <span class="md-ellipsis">
      build_setUp
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scenery.method_builder.MethodBuilder.build_setUpTestData" class="md-nav__link">
    <span class="md-ellipsis">
      build_setUpTestData
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scenery.method_builder.MethodBuilder.build_test_from_take" class="md-nav__link">
    <span class="md-ellipsis">
      build_test_from_take
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#method-builder_1" class="md-nav__link">
    <span class="md-ellipsis">
      Method builder
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.set_up_handler" class="md-nav__link">
    <span class="md-ellipsis">
      set_up_handler
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.set_up_handler.SetUpHandler" class="md-nav__link">
    <span class="md-ellipsis">
      SetUpHandler
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SetUpHandler">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scenery.set_up_handler.SetUpHandler.exec_set_up_instruction" class="md-nav__link">
    <span class="md-ellipsis">
      exec_set_up_instruction
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../todo" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Examples
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../contributing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributing
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#common" class="md-nav__link">
    <span class="md-ellipsis">
      Common
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.common" class="md-nav__link">
    <span class="md-ellipsis">
      common
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.common.colorize" class="md-nav__link">
    <span class="md-ellipsis">
      colorize
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.common.ceil" class="md-nav__link">
    <span class="md-ellipsis">
      ceil
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.common.django_setup" class="md-nav__link">
    <span class="md-ellipsis">
      django_setup
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.common.floor" class="md-nav__link">
    <span class="md-ellipsis">
      floor
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.common.overwrite_get_runner_kwargs" class="md-nav__link">
    <span class="md-ellipsis">
      overwrite_get_runner_kwargs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.common.pretty_test_name" class="md-nav__link">
    <span class="md-ellipsis">
      pretty_test_name
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.common.read_yaml" class="md-nav__link">
    <span class="md-ellipsis">
      read_yaml
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.common.scenery_setup" class="md-nav__link">
    <span class="md-ellipsis">
      scenery_setup
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.common.serialize_unittest_result" class="md-nav__link">
    <span class="md-ellipsis">
      serialize_unittest_result
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.common.snake_to_camel_case" class="md-nav__link">
    <span class="md-ellipsis">
      snake_to_camel_case
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.common.tabulate" class="md-nav__link">
    <span class="md-ellipsis">
      tabulate
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#http-checker" class="md-nav__link">
    <span class="md-ellipsis">
      Http Checker
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.http_checker" class="md-nav__link">
    <span class="md-ellipsis">
      http_checker
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.http_checker.HttpChecker" class="md-nav__link">
    <span class="md-ellipsis">
      HttpChecker
    </span>
  </a>
  
    <nav class="md-nav" aria-label="HttpChecker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scenery.http_checker.HttpChecker.check_count_instances" class="md-nav__link">
    <span class="md-ellipsis">
      check_count_instances
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scenery.http_checker.HttpChecker.check_dom_element" class="md-nav__link">
    <span class="md-ellipsis">
      check_dom_element
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scenery.http_checker.HttpChecker.check_redirect_url" class="md-nav__link">
    <span class="md-ellipsis">
      check_redirect_url
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scenery.http_checker.HttpChecker.check_status_code" class="md-nav__link">
    <span class="md-ellipsis">
      check_status_code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scenery.http_checker.HttpChecker.exec_check" class="md-nav__link">
    <span class="md-ellipsis">
      exec_check
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scenery.http_checker.HttpChecker.get_http_client_response" class="md-nav__link">
    <span class="md-ellipsis">
      get_http_client_response
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#manifest-parser" class="md-nav__link">
    <span class="md-ellipsis">
      Manifest Parser
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.manifest_parser" class="md-nav__link">
    <span class="md-ellipsis">
      manifest_parser
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.manifest_parser.ManifestParser" class="md-nav__link">
    <span class="md-ellipsis">
      ManifestParser
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ManifestParser">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scenery.manifest_parser.ManifestParser.format_dict" class="md-nav__link">
    <span class="md-ellipsis">
      format_dict
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scenery.manifest_parser.ManifestParser.parse_dict" class="md-nav__link">
    <span class="md-ellipsis">
      parse_dict
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scenery.manifest_parser.ManifestParser.parse_formatted_dict" class="md-nav__link">
    <span class="md-ellipsis">
      parse_formatted_dict
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scenery.manifest_parser.ManifestParser.parse_yaml" class="md-nav__link">
    <span class="md-ellipsis">
      parse_yaml
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scenery.manifest_parser.ManifestParser.read_manifest_yaml" class="md-nav__link">
    <span class="md-ellipsis">
      read_manifest_yaml
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scenery.manifest_parser.ManifestParser.validate_dict" class="md-nav__link">
    <span class="md-ellipsis">
      validate_dict
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scenery.manifest_parser.ManifestParser.validate_yaml" class="md-nav__link">
    <span class="md-ellipsis">
      validate_yaml
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#manifest" class="md-nav__link">
    <span class="md-ellipsis">
      Manifest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.manifest" class="md-nav__link">
    <span class="md-ellipsis">
      manifest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.manifest.Case" class="md-nav__link">
    <span class="md-ellipsis">
      Case
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.manifest.DirectiveCommand" class="md-nav__link">
    <span class="md-ellipsis">
      DirectiveCommand
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.manifest.DomArgument" class="md-nav__link">
    <span class="md-ellipsis">
      DomArgument
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.manifest.HttpCheck" class="md-nav__link">
    <span class="md-ellipsis">
      HttpCheck
    </span>
  </a>
  
    <nav class="md-nav" aria-label="HttpCheck">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scenery.manifest.HttpCheck.__post_init__" class="md-nav__link">
    <span class="md-ellipsis">
      __post_init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.manifest.HttpDirective" class="md-nav__link">
    <span class="md-ellipsis">
      HttpDirective
    </span>
  </a>
  
    <nav class="md-nav" aria-label="HttpDirective">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scenery.manifest.HttpDirective.__post_init__" class="md-nav__link">
    <span class="md-ellipsis">
      __post_init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.manifest.HttpScene" class="md-nav__link">
    <span class="md-ellipsis">
      HttpScene
    </span>
  </a>
  
    <nav class="md-nav" aria-label="HttpScene">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scenery.manifest.HttpScene.substitute_recursively" class="md-nav__link">
    <span class="md-ellipsis">
      substitute_recursively
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.manifest.HttpTake" class="md-nav__link">
    <span class="md-ellipsis">
      HttpTake
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.manifest.Item" class="md-nav__link">
    <span class="md-ellipsis">
      Item
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.manifest.Manifest" class="md-nav__link">
    <span class="md-ellipsis">
      Manifest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.manifest.ManifestDictKeys" class="md-nav__link">
    <span class="md-ellipsis">
      ManifestDictKeys
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.manifest.ManifestFormattedDictKeys" class="md-nav__link">
    <span class="md-ellipsis">
      ManifestFormattedDictKeys
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.manifest.ManifestYAMLKeys" class="md-nav__link">
    <span class="md-ellipsis">
      ManifestYAMLKeys
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.manifest.SetUpInstruction" class="md-nav__link">
    <span class="md-ellipsis">
      SetUpInstruction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.manifest.SingleKeyDict" class="md-nav__link">
    <span class="md-ellipsis">
      SingleKeyDict
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SingleKeyDict">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scenery.manifest.SingleKeyDict.as_tuple" class="md-nav__link">
    <span class="md-ellipsis">
      as_tuple
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#metatest" class="md-nav__link">
    <span class="md-ellipsis">
      Metatest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.metatest" class="md-nav__link">
    <span class="md-ellipsis">
      metatest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.metatest.MetaTest" class="md-nav__link">
    <span class="md-ellipsis">
      MetaTest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.metatest.MetaTestDiscoverer" class="md-nav__link">
    <span class="md-ellipsis">
      MetaTestDiscoverer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MetaTestDiscoverer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scenery.metatest.MetaTestDiscoverer.discover" class="md-nav__link">
    <span class="md-ellipsis">
      discover
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.metatest.MetaTestRunner" class="md-nav__link">
    <span class="md-ellipsis">
      MetaTestRunner
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MetaTestRunner">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scenery.metatest.MetaTestRunner.__del__" class="md-nav__link">
    <span class="md-ellipsis">
      __del__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scenery.metatest.MetaTestRunner.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scenery.metatest.MetaTestRunner.run" class="md-nav__link">
    <span class="md-ellipsis">
      run
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#method-builder" class="md-nav__link">
    <span class="md-ellipsis">
      Method builder
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.method_builder" class="md-nav__link">
    <span class="md-ellipsis">
      method_builder
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.method_builder.MethodBuilder" class="md-nav__link">
    <span class="md-ellipsis">
      MethodBuilder
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MethodBuilder">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scenery.method_builder.MethodBuilder.build_setUp" class="md-nav__link">
    <span class="md-ellipsis">
      build_setUp
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scenery.method_builder.MethodBuilder.build_setUpTestData" class="md-nav__link">
    <span class="md-ellipsis">
      build_setUpTestData
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scenery.method_builder.MethodBuilder.build_test_from_take" class="md-nav__link">
    <span class="md-ellipsis">
      build_test_from_take
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#method-builder_1" class="md-nav__link">
    <span class="md-ellipsis">
      Method builder
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.set_up_handler" class="md-nav__link">
    <span class="md-ellipsis">
      set_up_handler
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenery.set_up_handler.SetUpHandler" class="md-nav__link">
    <span class="md-ellipsis">
      SetUpHandler
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SetUpHandler">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scenery.set_up_handler.SetUpHandler.exec_set_up_instruction" class="md-nav__link">
    <span class="md-ellipsis">
      exec_set_up_instruction
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="api-reference">API Reference</h1>
<h2 id="common">Common</h2>


<div class="doc doc-object doc-module">



<a id="scenery.common"></a>
    <div class="doc doc-contents first">

        <p>General functions and classes used by other modules</p>








  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="scenery.common.colorize" class="doc doc-heading">
            <code>colorize</code>


</h2>


    <div class="doc doc-contents ">


        <p>A context manager for colorizing text in the console.</p>
<p>This class can be used either as a context manager or called directly to wrap text in color codes.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="scenery.common.colorize.colors">colors</span></code></td>
            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A dictionary mapping color names to ANSI color codes.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><span title="scenery.common.colorize.__init__">__init__</span></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Initialize the colorize object.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><span title="scenery.common.colorize.__enter__">__enter__</span></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Set the color when entering the context.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><span title="scenery.common.colorize.__exit__">__exit__</span></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Reset the color when exiting the context.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><span title="scenery.common.colorize.__str__">__str__</span></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Return the colorized text if text was provided.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>color</code>
            </td>
            <td>
                  <code>str or callable</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The color to use, either as a string or a function that returns a color.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>text</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The text to colorize. If provided, the object can be used directly as a string.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>Exception</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If a color mapping function is provided without text.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>






              <details class="quote">
                <summary>Source code in <code>scenery/common.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-147">147</a></span>
<span class="normal"><a href="#__codelineno-0-148">148</a></span>
<span class="normal"><a href="#__codelineno-0-149">149</a></span>
<span class="normal"><a href="#__codelineno-0-150">150</a></span>
<span class="normal"><a href="#__codelineno-0-151">151</a></span>
<span class="normal"><a href="#__codelineno-0-152">152</a></span>
<span class="normal"><a href="#__codelineno-0-153">153</a></span>
<span class="normal"><a href="#__codelineno-0-154">154</a></span>
<span class="normal"><a href="#__codelineno-0-155">155</a></span>
<span class="normal"><a href="#__codelineno-0-156">156</a></span>
<span class="normal"><a href="#__codelineno-0-157">157</a></span>
<span class="normal"><a href="#__codelineno-0-158">158</a></span>
<span class="normal"><a href="#__codelineno-0-159">159</a></span>
<span class="normal"><a href="#__codelineno-0-160">160</a></span>
<span class="normal"><a href="#__codelineno-0-161">161</a></span>
<span class="normal"><a href="#__codelineno-0-162">162</a></span>
<span class="normal"><a href="#__codelineno-0-163">163</a></span>
<span class="normal"><a href="#__codelineno-0-164">164</a></span>
<span class="normal"><a href="#__codelineno-0-165">165</a></span>
<span class="normal"><a href="#__codelineno-0-166">166</a></span>
<span class="normal"><a href="#__codelineno-0-167">167</a></span>
<span class="normal"><a href="#__codelineno-0-168">168</a></span>
<span class="normal"><a href="#__codelineno-0-169">169</a></span>
<span class="normal"><a href="#__codelineno-0-170">170</a></span>
<span class="normal"><a href="#__codelineno-0-171">171</a></span>
<span class="normal"><a href="#__codelineno-0-172">172</a></span>
<span class="normal"><a href="#__codelineno-0-173">173</a></span>
<span class="normal"><a href="#__codelineno-0-174">174</a></span>
<span class="normal"><a href="#__codelineno-0-175">175</a></span>
<span class="normal"><a href="#__codelineno-0-176">176</a></span>
<span class="normal"><a href="#__codelineno-0-177">177</a></span>
<span class="normal"><a href="#__codelineno-0-178">178</a></span>
<span class="normal"><a href="#__codelineno-0-179">179</a></span>
<span class="normal"><a href="#__codelineno-0-180">180</a></span>
<span class="normal"><a href="#__codelineno-0-181">181</a></span>
<span class="normal"><a href="#__codelineno-0-182">182</a></span>
<span class="normal"><a href="#__codelineno-0-183">183</a></span>
<span class="normal"><a href="#__codelineno-0-184">184</a></span>
<span class="normal"><a href="#__codelineno-0-185">185</a></span>
<span class="normal"><a href="#__codelineno-0-186">186</a></span>
<span class="normal"><a href="#__codelineno-0-187">187</a></span>
<span class="normal"><a href="#__codelineno-0-188">188</a></span>
<span class="normal"><a href="#__codelineno-0-189">189</a></span>
<span class="normal"><a href="#__codelineno-0-190">190</a></span>
<span class="normal"><a href="#__codelineno-0-191">191</a></span>
<span class="normal"><a href="#__codelineno-0-192">192</a></span>
<span class="normal"><a href="#__codelineno-0-193">193</a></span>
<span class="normal"><a href="#__codelineno-0-194">194</a></span>
<span class="normal"><a href="#__codelineno-0-195">195</a></span>
<span class="normal"><a href="#__codelineno-0-196">196</a></span>
<span class="normal"><a href="#__codelineno-0-197">197</a></span>
<span class="normal"><a href="#__codelineno-0-198">198</a></span>
<span class="normal"><a href="#__codelineno-0-199">199</a></span>
<span class="normal"><a href="#__codelineno-0-200">200</a></span>
<span class="normal"><a href="#__codelineno-0-201">201</a></span>
<span class="normal"><a href="#__codelineno-0-202">202</a></span>
<span class="normal"><a href="#__codelineno-0-203">203</a></span>
<span class="normal"><a href="#__codelineno-0-204">204</a></span>
<span class="normal"><a href="#__codelineno-0-205">205</a></span>
<span class="normal"><a href="#__codelineno-0-206">206</a></span>
<span class="normal"><a href="#__codelineno-0-207">207</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-147" name="__codelineno-0-147"></a><span class="k">class</span> <span class="nc">colorize</span><span class="p">:</span>
<a id="__codelineno-0-148" name="__codelineno-0-148"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-149" name="__codelineno-0-149"></a><span class="sd">    A context manager for colorizing text in the console.</span>
<a id="__codelineno-0-150" name="__codelineno-0-150"></a>
<a id="__codelineno-0-151" name="__codelineno-0-151"></a><span class="sd">    This class can be used either as a context manager or called directly to wrap text in color codes.</span>
<a id="__codelineno-0-152" name="__codelineno-0-152"></a>
<a id="__codelineno-0-153" name="__codelineno-0-153"></a><span class="sd">    Attributes:</span>
<a id="__codelineno-0-154" name="__codelineno-0-154"></a><span class="sd">        colors (dict): A dictionary mapping color names to ANSI color codes.</span>
<a id="__codelineno-0-155" name="__codelineno-0-155"></a>
<a id="__codelineno-0-156" name="__codelineno-0-156"></a><span class="sd">    Methods:</span>
<a id="__codelineno-0-157" name="__codelineno-0-157"></a><span class="sd">        __init__(self, color, text=None): Initialize the colorize object.</span>
<a id="__codelineno-0-158" name="__codelineno-0-158"></a><span class="sd">        __enter__(self): Set the color when entering the context.</span>
<a id="__codelineno-0-159" name="__codelineno-0-159"></a><span class="sd">        __exit__(self, exc_type, exc_val, exc_tb): Reset the color when exiting the context.</span>
<a id="__codelineno-0-160" name="__codelineno-0-160"></a><span class="sd">        __str__(self): Return the colorized text if text was provided.</span>
<a id="__codelineno-0-161" name="__codelineno-0-161"></a>
<a id="__codelineno-0-162" name="__codelineno-0-162"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-163" name="__codelineno-0-163"></a><span class="sd">        color (str or callable): The color to use, either as a string or a function that returns a color.</span>
<a id="__codelineno-0-164" name="__codelineno-0-164"></a><span class="sd">        text (str, optional): The text to colorize. If provided, the object can be used directly as a string.</span>
<a id="__codelineno-0-165" name="__codelineno-0-165"></a>
<a id="__codelineno-0-166" name="__codelineno-0-166"></a><span class="sd">    Raises:</span>
<a id="__codelineno-0-167" name="__codelineno-0-167"></a><span class="sd">        Exception: If a color mapping function is provided without text.</span>
<a id="__codelineno-0-168" name="__codelineno-0-168"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-169" name="__codelineno-0-169"></a>
<a id="__codelineno-0-170" name="__codelineno-0-170"></a>    <span class="n">colors</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-0-171" name="__codelineno-0-171"></a>        <span class="s2">&quot;red&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="se">\033</span><span class="s2">[31m&quot;</span><span class="p">,</span>
<a id="__codelineno-0-172" name="__codelineno-0-172"></a>        <span class="s2">&quot;green&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="se">\033</span><span class="s2">[32m&quot;</span><span class="p">,</span>
<a id="__codelineno-0-173" name="__codelineno-0-173"></a>        <span class="s2">&quot;yellow&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="se">\033</span><span class="s2">[33m&quot;</span><span class="p">,</span>
<a id="__codelineno-0-174" name="__codelineno-0-174"></a>        <span class="s2">&quot;blue&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="se">\033</span><span class="s2">[34m&quot;</span><span class="p">,</span>
<a id="__codelineno-0-175" name="__codelineno-0-175"></a>        <span class="s2">&quot;magenta&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="se">\033</span><span class="s2">[35m&quot;</span><span class="p">,</span>
<a id="__codelineno-0-176" name="__codelineno-0-176"></a>        <span class="s2">&quot;cyan&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="se">\033</span><span class="s2">[36m&quot;</span><span class="p">,</span>
<a id="__codelineno-0-177" name="__codelineno-0-177"></a>        <span class="s2">&quot;white&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="se">\033</span><span class="s2">[37m&quot;</span><span class="p">,</span>
<a id="__codelineno-0-178" name="__codelineno-0-178"></a>        <span class="s2">&quot;reset&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="se">\033</span><span class="s2">[0m&quot;</span><span class="p">,</span>
<a id="__codelineno-0-179" name="__codelineno-0-179"></a>    <span class="p">}</span>
<a id="__codelineno-0-180" name="__codelineno-0-180"></a>
<a id="__codelineno-0-181" name="__codelineno-0-181"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">color</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">typing</span><span class="o">.</span><span class="n">Callable</span><span class="p">,</span> <span class="n">text</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-182" name="__codelineno-0-182"></a>        <span class="k">if</span> <span class="nb">callable</span><span class="p">(</span><span class="n">color</span><span class="p">):</span>
<a id="__codelineno-0-183" name="__codelineno-0-183"></a>            <span class="k">if</span> <span class="n">text</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-184" name="__codelineno-0-184"></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Cannot provide a color mapping without text&quot;</span><span class="p">)</span>
<a id="__codelineno-0-185" name="__codelineno-0-185"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">color</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<a id="__codelineno-0-186" name="__codelineno-0-186"></a>
<a id="__codelineno-0-187" name="__codelineno-0-187"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-188" name="__codelineno-0-188"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">color</span>
<a id="__codelineno-0-189" name="__codelineno-0-189"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">text</span>
<a id="__codelineno-0-190" name="__codelineno-0-190"></a>
<a id="__codelineno-0-191" name="__codelineno-0-191"></a>    <span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;colorize&quot;</span><span class="p">:</span>
<a id="__codelineno-0-192" name="__codelineno-0-192"></a>        <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">colors</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="p">],</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>  <span class="c1"># Set the color</span>
<a id="__codelineno-0-193" name="__codelineno-0-193"></a>        <span class="k">return</span> <span class="bp">self</span>  <span class="c1"># Return context manager itself if needed</span>
<a id="__codelineno-0-194" name="__codelineno-0-194"></a>
<a id="__codelineno-0-195" name="__codelineno-0-195"></a>    <span class="k">def</span> <span class="fm">__exit__</span><span class="p">(</span>
<a id="__codelineno-0-196" name="__codelineno-0-196"></a>        <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-197" name="__codelineno-0-197"></a>        <span class="n">exc_type</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Type</span><span class="p">[</span><span class="ne">BaseException</span><span class="p">]],</span>
<a id="__codelineno-0-198" name="__codelineno-0-198"></a>        <span class="n">exc_val</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="ne">BaseException</span><span class="p">],</span>
<a id="__codelineno-0-199" name="__codelineno-0-199"></a>        <span class="n">exc_tb</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="n">types</span><span class="o">.</span><span class="n">TracebackType</span><span class="p">],</span>
<a id="__codelineno-0-200" name="__codelineno-0-200"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-201" name="__codelineno-0-201"></a>        <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">colors</span><span class="p">[</span><span class="s2">&quot;reset&quot;</span><span class="p">],</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>  <span class="c1"># Reset the color</span>
<a id="__codelineno-0-202" name="__codelineno-0-202"></a>
<a id="__codelineno-0-203" name="__codelineno-0-203"></a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<a id="__codelineno-0-204" name="__codelineno-0-204"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">text</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-205" name="__codelineno-0-205"></a>            <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">colors</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="p">]</span><span class="si">}{</span><span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="si">}{</span><span class="bp">self</span><span class="o">.</span><span class="n">colors</span><span class="p">[</span><span class="s1">&#39;reset&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
<a id="__codelineno-0-206" name="__codelineno-0-206"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-207" name="__codelineno-0-207"></a>            <span class="k">return</span> <span class="s2">&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h2 id="scenery.common.ceil" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">ceil</span><span class="p">(</span><span class="n">n</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Return the ceiling of a number.</p>
<p>If the input is an integer, it returns the input unchanged.
For floating-point numbers, it returns the smallest integer greater than or equal to the input.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>n</code>
            </td>
            <td>
                  <code>int or float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number to ceil.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>int</code></td>            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ceiling of the input number.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>scenery/common.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-127">127</a></span>
<span class="normal"><a href="#__codelineno-0-128">128</a></span>
<span class="normal"><a href="#__codelineno-0-129">129</a></span>
<span class="normal"><a href="#__codelineno-0-130">130</a></span>
<span class="normal"><a href="#__codelineno-0-131">131</a></span>
<span class="normal"><a href="#__codelineno-0-132">132</a></span>
<span class="normal"><a href="#__codelineno-0-133">133</a></span>
<span class="normal"><a href="#__codelineno-0-134">134</a></span>
<span class="normal"><a href="#__codelineno-0-135">135</a></span>
<span class="normal"><a href="#__codelineno-0-136">136</a></span>
<span class="normal"><a href="#__codelineno-0-137">137</a></span>
<span class="normal"><a href="#__codelineno-0-138">138</a></span>
<span class="normal"><a href="#__codelineno-0-139">139</a></span>
<span class="normal"><a href="#__codelineno-0-140">140</a></span>
<span class="normal"><a href="#__codelineno-0-141">141</a></span>
<span class="normal"><a href="#__codelineno-0-142">142</a></span>
<span class="normal"><a href="#__codelineno-0-143">143</a></span>
<span class="normal"><a href="#__codelineno-0-144">144</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-127" name="__codelineno-0-127"></a><span class="k">def</span> <span class="nf">ceil</span><span class="p">(</span><span class="n">n</span><span class="p">:</span> <span class="n">numbers</span><span class="o">.</span><span class="n">Real</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<a id="__codelineno-0-128" name="__codelineno-0-128"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-129" name="__codelineno-0-129"></a><span class="sd">    Return the ceiling of a number.</span>
<a id="__codelineno-0-130" name="__codelineno-0-130"></a>
<a id="__codelineno-0-131" name="__codelineno-0-131"></a><span class="sd">    If the input is an integer, it returns the input unchanged.</span>
<a id="__codelineno-0-132" name="__codelineno-0-132"></a><span class="sd">    For floating-point numbers, it returns the smallest integer greater than or equal to the input.</span>
<a id="__codelineno-0-133" name="__codelineno-0-133"></a>
<a id="__codelineno-0-134" name="__codelineno-0-134"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-135" name="__codelineno-0-135"></a><span class="sd">        n (int or float): The number to ceil.</span>
<a id="__codelineno-0-136" name="__codelineno-0-136"></a>
<a id="__codelineno-0-137" name="__codelineno-0-137"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-138" name="__codelineno-0-138"></a><span class="sd">        int: The ceiling of the input number.</span>
<a id="__codelineno-0-139" name="__codelineno-0-139"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-140" name="__codelineno-0-140"></a>    <span class="c1"># NOTE: this was just to avoid another dependency</span>
<a id="__codelineno-0-141" name="__codelineno-0-141"></a>    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
<a id="__codelineno-0-142" name="__codelineno-0-142"></a>        <span class="k">return</span> <span class="n">n</span>
<a id="__codelineno-0-143" name="__codelineno-0-143"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-144" name="__codelineno-0-144"></a>        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">n</span> <span class="o">//</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="scenery.common.django_setup" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">django_setup</span><span class="p">(</span><span class="n">settings_module</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Set up the Django environment.</p>
<p>This function sets the DJANGO_SETTINGS_MODULE environment variable and calls django.setup().</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>settings_module</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The import path to the Django settings module.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>scenery/common.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-279">279</a></span>
<span class="normal"><a href="#__codelineno-0-280">280</a></span>
<span class="normal"><a href="#__codelineno-0-281">281</a></span>
<span class="normal"><a href="#__codelineno-0-282">282</a></span>
<span class="normal"><a href="#__codelineno-0-283">283</a></span>
<span class="normal"><a href="#__codelineno-0-284">284</a></span>
<span class="normal"><a href="#__codelineno-0-285">285</a></span>
<span class="normal"><a href="#__codelineno-0-286">286</a></span>
<span class="normal"><a href="#__codelineno-0-287">287</a></span>
<span class="normal"><a href="#__codelineno-0-288">288</a></span>
<span class="normal"><a href="#__codelineno-0-289">289</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-279" name="__codelineno-0-279"></a><span class="k">def</span> <span class="nf">django_setup</span><span class="p">(</span><span class="n">settings_module</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-280" name="__codelineno-0-280"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-281" name="__codelineno-0-281"></a><span class="sd">    Set up the Django environment.</span>
<a id="__codelineno-0-282" name="__codelineno-0-282"></a>
<a id="__codelineno-0-283" name="__codelineno-0-283"></a><span class="sd">    This function sets the DJANGO_SETTINGS_MODULE environment variable and calls django.setup().</span>
<a id="__codelineno-0-284" name="__codelineno-0-284"></a>
<a id="__codelineno-0-285" name="__codelineno-0-285"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-286" name="__codelineno-0-286"></a><span class="sd">        settings_module (str): The import path to the Django settings module.</span>
<a id="__codelineno-0-287" name="__codelineno-0-287"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-288" name="__codelineno-0-288"></a>    <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;DJANGO_SETTINGS_MODULE&quot;</span><span class="p">,</span> <span class="n">settings_module</span><span class="p">)</span>
<a id="__codelineno-0-289" name="__codelineno-0-289"></a>    <span class="n">django</span><span class="o">.</span><span class="n">setup</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="scenery.common.floor" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">floor</span><span class="p">(</span><span class="n">n</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Return the floor of a number.</p>
<p>If the input is an integer, it returns the input unchanged.
For floating-point numbers, it returns the largest integer less than or equal to the input.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>n</code>
            </td>
            <td>
                  <code>int or float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number to floor.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>int</code></td>            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The floor of the input number.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>scenery/common.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-107">107</a></span>
<span class="normal"><a href="#__codelineno-0-108">108</a></span>
<span class="normal"><a href="#__codelineno-0-109">109</a></span>
<span class="normal"><a href="#__codelineno-0-110">110</a></span>
<span class="normal"><a href="#__codelineno-0-111">111</a></span>
<span class="normal"><a href="#__codelineno-0-112">112</a></span>
<span class="normal"><a href="#__codelineno-0-113">113</a></span>
<span class="normal"><a href="#__codelineno-0-114">114</a></span>
<span class="normal"><a href="#__codelineno-0-115">115</a></span>
<span class="normal"><a href="#__codelineno-0-116">116</a></span>
<span class="normal"><a href="#__codelineno-0-117">117</a></span>
<span class="normal"><a href="#__codelineno-0-118">118</a></span>
<span class="normal"><a href="#__codelineno-0-119">119</a></span>
<span class="normal"><a href="#__codelineno-0-120">120</a></span>
<span class="normal"><a href="#__codelineno-0-121">121</a></span>
<span class="normal"><a href="#__codelineno-0-122">122</a></span>
<span class="normal"><a href="#__codelineno-0-123">123</a></span>
<span class="normal"><a href="#__codelineno-0-124">124</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-107" name="__codelineno-0-107"></a><span class="k">def</span> <span class="nf">floor</span><span class="p">(</span><span class="n">n</span><span class="p">:</span> <span class="n">numbers</span><span class="o">.</span><span class="n">Real</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<a id="__codelineno-0-108" name="__codelineno-0-108"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-109" name="__codelineno-0-109"></a><span class="sd">    Return the floor of a number.</span>
<a id="__codelineno-0-110" name="__codelineno-0-110"></a>
<a id="__codelineno-0-111" name="__codelineno-0-111"></a><span class="sd">    If the input is an integer, it returns the input unchanged.</span>
<a id="__codelineno-0-112" name="__codelineno-0-112"></a><span class="sd">    For floating-point numbers, it returns the largest integer less than or equal to the input.</span>
<a id="__codelineno-0-113" name="__codelineno-0-113"></a>
<a id="__codelineno-0-114" name="__codelineno-0-114"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-115" name="__codelineno-0-115"></a><span class="sd">        n (int or float): The number to floor.</span>
<a id="__codelineno-0-116" name="__codelineno-0-116"></a>
<a id="__codelineno-0-117" name="__codelineno-0-117"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-118" name="__codelineno-0-118"></a><span class="sd">        int: The floor of the input number.</span>
<a id="__codelineno-0-119" name="__codelineno-0-119"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-120" name="__codelineno-0-120"></a>    <span class="c1"># NOTE: this was just to avoid another dependency</span>
<a id="__codelineno-0-121" name="__codelineno-0-121"></a>    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
<a id="__codelineno-0-122" name="__codelineno-0-122"></a>        <span class="k">return</span> <span class="n">n</span>
<a id="__codelineno-0-123" name="__codelineno-0-123"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-124" name="__codelineno-0-124"></a>        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">n</span> <span class="o">//</span> <span class="mi">1</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="scenery.common.overwrite_get_runner_kwargs" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">overwrite_get_runner_kwargs</span><span class="p">(</span><span class="n">django_runner</span><span class="p">,</span> <span class="n">stream</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Overwrite the get_runner_kwargs method of Django's DiscoverRunner.</p>
<p>This function is used to avoid printing Django test output by redirecting the stream.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>django_runner</code>
            </td>
            <td>
                  <code><span title="django.test.runner.DiscoverRunner">DiscoverRunner</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The Django test runner instance.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>stream</code>
            </td>
            <td>
                  <code><span title="typing.IO">IO</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The stream to redirect output to.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A dictionary of keyword arguments for the test runner.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="notes" open>
  <summary>Notes</summary>
  <p>see django.test.runner.DiscoverRunner.get_runner_kwargs</p>
</details>
            <details class="quote">
              <summary>Source code in <code>scenery/common.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-297">297</a></span>
<span class="normal"><a href="#__codelineno-0-298">298</a></span>
<span class="normal"><a href="#__codelineno-0-299">299</a></span>
<span class="normal"><a href="#__codelineno-0-300">300</a></span>
<span class="normal"><a href="#__codelineno-0-301">301</a></span>
<span class="normal"><a href="#__codelineno-0-302">302</a></span>
<span class="normal"><a href="#__codelineno-0-303">303</a></span>
<span class="normal"><a href="#__codelineno-0-304">304</a></span>
<span class="normal"><a href="#__codelineno-0-305">305</a></span>
<span class="normal"><a href="#__codelineno-0-306">306</a></span>
<span class="normal"><a href="#__codelineno-0-307">307</a></span>
<span class="normal"><a href="#__codelineno-0-308">308</a></span>
<span class="normal"><a href="#__codelineno-0-309">309</a></span>
<span class="normal"><a href="#__codelineno-0-310">310</a></span>
<span class="normal"><a href="#__codelineno-0-311">311</a></span>
<span class="normal"><a href="#__codelineno-0-312">312</a></span>
<span class="normal"><a href="#__codelineno-0-313">313</a></span>
<span class="normal"><a href="#__codelineno-0-314">314</a></span>
<span class="normal"><a href="#__codelineno-0-315">315</a></span>
<span class="normal"><a href="#__codelineno-0-316">316</a></span>
<span class="normal"><a href="#__codelineno-0-317">317</a></span>
<span class="normal"><a href="#__codelineno-0-318">318</a></span>
<span class="normal"><a href="#__codelineno-0-319">319</a></span>
<span class="normal"><a href="#__codelineno-0-320">320</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-297" name="__codelineno-0-297"></a><span class="k">def</span> <span class="nf">overwrite_get_runner_kwargs</span><span class="p">(</span><span class="n">django_runner</span><span class="p">:</span> <span class="n">DiscoverRunner</span><span class="p">,</span> <span class="n">stream</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">IO</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<a id="__codelineno-0-298" name="__codelineno-0-298"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-299" name="__codelineno-0-299"></a><span class="sd">    Overwrite the get_runner_kwargs method of Django&#39;s DiscoverRunner.</span>
<a id="__codelineno-0-300" name="__codelineno-0-300"></a>
<a id="__codelineno-0-301" name="__codelineno-0-301"></a><span class="sd">    This function is used to avoid printing Django test output by redirecting the stream.</span>
<a id="__codelineno-0-302" name="__codelineno-0-302"></a>
<a id="__codelineno-0-303" name="__codelineno-0-303"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-304" name="__codelineno-0-304"></a><span class="sd">        django_runner (DiscoverRunner): The Django test runner instance.</span>
<a id="__codelineno-0-305" name="__codelineno-0-305"></a><span class="sd">        stream: The stream to redirect output to.</span>
<a id="__codelineno-0-306" name="__codelineno-0-306"></a>
<a id="__codelineno-0-307" name="__codelineno-0-307"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-308" name="__codelineno-0-308"></a><span class="sd">        dict: A dictionary of keyword arguments for the test runner.</span>
<a id="__codelineno-0-309" name="__codelineno-0-309"></a>
<a id="__codelineno-0-310" name="__codelineno-0-310"></a><span class="sd">    Notes:</span>
<a id="__codelineno-0-311" name="__codelineno-0-311"></a><span class="sd">        see django.test.runner.DiscoverRunner.get_runner_kwargs</span>
<a id="__codelineno-0-312" name="__codelineno-0-312"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-313" name="__codelineno-0-313"></a>    <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-0-314" name="__codelineno-0-314"></a>        <span class="s2">&quot;failfast&quot;</span><span class="p">:</span> <span class="n">django_runner</span><span class="o">.</span><span class="n">failfast</span><span class="p">,</span>
<a id="__codelineno-0-315" name="__codelineno-0-315"></a>        <span class="s2">&quot;resultclass&quot;</span><span class="p">:</span> <span class="n">django_runner</span><span class="o">.</span><span class="n">get_resultclass</span><span class="p">(),</span>
<a id="__codelineno-0-316" name="__codelineno-0-316"></a>        <span class="s2">&quot;verbosity&quot;</span><span class="p">:</span> <span class="n">django_runner</span><span class="o">.</span><span class="n">verbosity</span><span class="p">,</span>
<a id="__codelineno-0-317" name="__codelineno-0-317"></a>        <span class="s2">&quot;buffer&quot;</span><span class="p">:</span> <span class="n">django_runner</span><span class="o">.</span><span class="n">buffer</span><span class="p">,</span>
<a id="__codelineno-0-318" name="__codelineno-0-318"></a>    <span class="p">}</span>
<a id="__codelineno-0-319" name="__codelineno-0-319"></a>    <span class="n">kwargs</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s2">&quot;stream&quot;</span><span class="p">:</span> <span class="n">stream</span><span class="p">})</span>
<a id="__codelineno-0-320" name="__codelineno-0-320"></a>    <span class="k">return</span> <span class="n">kwargs</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="scenery.common.pretty_test_name" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">pretty_test_name</span><span class="p">(</span><span class="n">test</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Generate a pretty string representation of a unittest.TestCase.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>test</code>
            </td>
            <td>
                  <code><span title="unittest.TestCase">TestCase</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The test case to generate a name for.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A string in the format "module.class.method" representing the test case.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>scenery/common.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-261">261</a></span>
<span class="normal"><a href="#__codelineno-0-262">262</a></span>
<span class="normal"><a href="#__codelineno-0-263">263</a></span>
<span class="normal"><a href="#__codelineno-0-264">264</a></span>
<span class="normal"><a href="#__codelineno-0-265">265</a></span>
<span class="normal"><a href="#__codelineno-0-266">266</a></span>
<span class="normal"><a href="#__codelineno-0-267">267</a></span>
<span class="normal"><a href="#__codelineno-0-268">268</a></span>
<span class="normal"><a href="#__codelineno-0-269">269</a></span>
<span class="normal"><a href="#__codelineno-0-270">270</a></span>
<span class="normal"><a href="#__codelineno-0-271">271</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-261" name="__codelineno-0-261"></a><span class="k">def</span> <span class="nf">pretty_test_name</span><span class="p">(</span><span class="n">test</span><span class="p">:</span> <span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<a id="__codelineno-0-262" name="__codelineno-0-262"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-263" name="__codelineno-0-263"></a><span class="sd">    Generate a pretty string representation of a unittest.TestCase.</span>
<a id="__codelineno-0-264" name="__codelineno-0-264"></a>
<a id="__codelineno-0-265" name="__codelineno-0-265"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-266" name="__codelineno-0-266"></a><span class="sd">        test (unittest.TestCase): The test case to generate a name for.</span>
<a id="__codelineno-0-267" name="__codelineno-0-267"></a>
<a id="__codelineno-0-268" name="__codelineno-0-268"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-269" name="__codelineno-0-269"></a><span class="sd">        str: A string in the format &quot;module.class.method&quot; representing the test case.</span>
<a id="__codelineno-0-270" name="__codelineno-0-270"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-271" name="__codelineno-0-271"></a>    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">test</span><span class="o">.</span><span class="vm">__module__</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">test</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__qualname__</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">test</span><span class="o">.</span><span class="n">_testMethodName</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="scenery.common.read_yaml" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">read_yaml</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Read and parse a YAML file.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>filename</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The path to the YAML file to be read.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>Any</code></td>            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The parsed content of the YAML file.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="yaml.YAMLError">YAMLError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If there's an error parsing the YAML file.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code>IOError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If there's an error reading the file.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>scenery/common.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-54">54</a></span>
<span class="normal"><a href="#__codelineno-0-55">55</a></span>
<span class="normal"><a href="#__codelineno-0-56">56</a></span>
<span class="normal"><a href="#__codelineno-0-57">57</a></span>
<span class="normal"><a href="#__codelineno-0-58">58</a></span>
<span class="normal"><a href="#__codelineno-0-59">59</a></span>
<span class="normal"><a href="#__codelineno-0-60">60</a></span>
<span class="normal"><a href="#__codelineno-0-61">61</a></span>
<span class="normal"><a href="#__codelineno-0-62">62</a></span>
<span class="normal"><a href="#__codelineno-0-63">63</a></span>
<span class="normal"><a href="#__codelineno-0-64">64</a></span>
<span class="normal"><a href="#__codelineno-0-65">65</a></span>
<span class="normal"><a href="#__codelineno-0-66">66</a></span>
<span class="normal"><a href="#__codelineno-0-67">67</a></span>
<span class="normal"><a href="#__codelineno-0-68">68</a></span>
<span class="normal"><a href="#__codelineno-0-69">69</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-54" name="__codelineno-0-54"></a><span class="k">def</span> <span class="nf">read_yaml</span><span class="p">(</span><span class="n">filename</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">:</span>
<a id="__codelineno-0-55" name="__codelineno-0-55"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-56" name="__codelineno-0-56"></a><span class="sd">    Read and parse a YAML file.</span>
<a id="__codelineno-0-57" name="__codelineno-0-57"></a>
<a id="__codelineno-0-58" name="__codelineno-0-58"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-59" name="__codelineno-0-59"></a><span class="sd">        filename (str): The path to the YAML file to be read.</span>
<a id="__codelineno-0-60" name="__codelineno-0-60"></a>
<a id="__codelineno-0-61" name="__codelineno-0-61"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-62" name="__codelineno-0-62"></a><span class="sd">        Any: The parsed content of the YAML file.</span>
<a id="__codelineno-0-63" name="__codelineno-0-63"></a>
<a id="__codelineno-0-64" name="__codelineno-0-64"></a><span class="sd">    Raises:</span>
<a id="__codelineno-0-65" name="__codelineno-0-65"></a><span class="sd">        yaml.YAMLError: If there&#39;s an error parsing the YAML file.</span>
<a id="__codelineno-0-66" name="__codelineno-0-66"></a><span class="sd">        IOError: If there&#39;s an error reading the file.</span>
<a id="__codelineno-0-67" name="__codelineno-0-67"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-68" name="__codelineno-0-68"></a>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<a id="__codelineno-0-69" name="__codelineno-0-69"></a>        <span class="k">return</span> <span class="n">yaml</span><span class="o">.</span><span class="n">safe_load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="scenery.common.scenery_setup" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">scenery_setup</span><span class="p">(</span><span class="n">settings_location</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Read the settings module and set the corresponding environment variables.
This function imports the specified settings module and sets environment variables
based on its contents. The following environment variables are set:</p>
<p>SCENERY_COMMON_ITEMS
SCENERY_SET_UP_INSTRUCTIONS
SCENERY_TESTED_APP_NAME
SCENERY_MANIFESTS_FOLDER</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>settings_location</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The location (import path) of the settings module.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Raises:
    ImportError: If the settings module cannot be imported.</p>

            <details class="quote">
              <summary>Source code in <code>scenery/common.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-22">22</a></span>
<span class="normal"><a href="#__codelineno-0-23">23</a></span>
<span class="normal"><a href="#__codelineno-0-24">24</a></span>
<span class="normal"><a href="#__codelineno-0-25">25</a></span>
<span class="normal"><a href="#__codelineno-0-26">26</a></span>
<span class="normal"><a href="#__codelineno-0-27">27</a></span>
<span class="normal"><a href="#__codelineno-0-28">28</a></span>
<span class="normal"><a href="#__codelineno-0-29">29</a></span>
<span class="normal"><a href="#__codelineno-0-30">30</a></span>
<span class="normal"><a href="#__codelineno-0-31">31</a></span>
<span class="normal"><a href="#__codelineno-0-32">32</a></span>
<span class="normal"><a href="#__codelineno-0-33">33</a></span>
<span class="normal"><a href="#__codelineno-0-34">34</a></span>
<span class="normal"><a href="#__codelineno-0-35">35</a></span>
<span class="normal"><a href="#__codelineno-0-36">36</a></span>
<span class="normal"><a href="#__codelineno-0-37">37</a></span>
<span class="normal"><a href="#__codelineno-0-38">38</a></span>
<span class="normal"><a href="#__codelineno-0-39">39</a></span>
<span class="normal"><a href="#__codelineno-0-40">40</a></span>
<span class="normal"><a href="#__codelineno-0-41">41</a></span>
<span class="normal"><a href="#__codelineno-0-42">42</a></span>
<span class="normal"><a href="#__codelineno-0-43">43</a></span>
<span class="normal"><a href="#__codelineno-0-44">44</a></span>
<span class="normal"><a href="#__codelineno-0-45">45</a></span>
<span class="normal"><a href="#__codelineno-0-46">46</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-22" name="__codelineno-0-22"></a><span class="k">def</span> <span class="nf">scenery_setup</span><span class="p">(</span><span class="n">settings_location</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-23" name="__codelineno-0-23"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-24" name="__codelineno-0-24"></a><span class="sd">    Read the settings module and set the corresponding environment variables.</span>
<a id="__codelineno-0-25" name="__codelineno-0-25"></a><span class="sd">    This function imports the specified settings module and sets environment variables</span>
<a id="__codelineno-0-26" name="__codelineno-0-26"></a><span class="sd">    based on its contents. The following environment variables are set:</span>
<a id="__codelineno-0-27" name="__codelineno-0-27"></a>
<a id="__codelineno-0-28" name="__codelineno-0-28"></a><span class="sd">    SCENERY_COMMON_ITEMS</span>
<a id="__codelineno-0-29" name="__codelineno-0-29"></a><span class="sd">    SCENERY_SET_UP_INSTRUCTIONS</span>
<a id="__codelineno-0-30" name="__codelineno-0-30"></a><span class="sd">    SCENERY_TESTED_APP_NAME</span>
<a id="__codelineno-0-31" name="__codelineno-0-31"></a><span class="sd">    SCENERY_MANIFESTS_FOLDER</span>
<a id="__codelineno-0-32" name="__codelineno-0-32"></a>
<a id="__codelineno-0-33" name="__codelineno-0-33"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-34" name="__codelineno-0-34"></a><span class="sd">        settings_location (str): The location (import path) of the settings module.</span>
<a id="__codelineno-0-35" name="__codelineno-0-35"></a><span class="sd">    Raises:</span>
<a id="__codelineno-0-36" name="__codelineno-0-36"></a><span class="sd">        ImportError: If the settings module cannot be imported.</span>
<a id="__codelineno-0-37" name="__codelineno-0-37"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-38" name="__codelineno-0-38"></a>
<a id="__codelineno-0-39" name="__codelineno-0-39"></a>    <span class="c1"># Load from module</span>
<a id="__codelineno-0-40" name="__codelineno-0-40"></a>    <span class="n">settings</span> <span class="o">=</span> <span class="n">importlib</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="n">settings_location</span><span class="p">)</span>
<a id="__codelineno-0-41" name="__codelineno-0-41"></a>
<a id="__codelineno-0-42" name="__codelineno-0-42"></a>    <span class="c1"># Env variables</span>
<a id="__codelineno-0-43" name="__codelineno-0-43"></a>    <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;SCENERY_COMMON_ITEMS&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">SCENERY_COMMON_ITEMS</span>
<a id="__codelineno-0-44" name="__codelineno-0-44"></a>    <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;SCENERY_SET_UP_INSTRUCTIONS&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">SCENERY_SET_UP_INSTRUCTIONS</span>
<a id="__codelineno-0-45" name="__codelineno-0-45"></a>    <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;SCENERY_TESTED_APP_NAME&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">SCENERY_TESTED_APP_NAME</span>
<a id="__codelineno-0-46" name="__codelineno-0-46"></a>    <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;SCENERY_MANIFESTS_FOLDER&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">SCENERY_MANIFESTS_FOLDER</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="scenery.common.serialize_unittest_result" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">serialize_unittest_result</span><span class="p">(</span><span class="n">result</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Serialize a unittest.TestResult object into a dictionary.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>result</code>
            </td>
            <td>
                  <code><span title="unittest.TestResult">TestResult</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The TestResult object to serialize.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A dictionary containing the serialized TestResult data.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>scenery/common.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-236">236</a></span>
<span class="normal"><a href="#__codelineno-0-237">237</a></span>
<span class="normal"><a href="#__codelineno-0-238">238</a></span>
<span class="normal"><a href="#__codelineno-0-239">239</a></span>
<span class="normal"><a href="#__codelineno-0-240">240</a></span>
<span class="normal"><a href="#__codelineno-0-241">241</a></span>
<span class="normal"><a href="#__codelineno-0-242">242</a></span>
<span class="normal"><a href="#__codelineno-0-243">243</a></span>
<span class="normal"><a href="#__codelineno-0-244">244</a></span>
<span class="normal"><a href="#__codelineno-0-245">245</a></span>
<span class="normal"><a href="#__codelineno-0-246">246</a></span>
<span class="normal"><a href="#__codelineno-0-247">247</a></span>
<span class="normal"><a href="#__codelineno-0-248">248</a></span>
<span class="normal"><a href="#__codelineno-0-249">249</a></span>
<span class="normal"><a href="#__codelineno-0-250">250</a></span>
<span class="normal"><a href="#__codelineno-0-251">251</a></span>
<span class="normal"><a href="#__codelineno-0-252">252</a></span>
<span class="normal"><a href="#__codelineno-0-253">253</a></span>
<span class="normal"><a href="#__codelineno-0-254">254</a></span>
<span class="normal"><a href="#__codelineno-0-255">255</a></span>
<span class="normal"><a href="#__codelineno-0-256">256</a></span>
<span class="normal"><a href="#__codelineno-0-257">257</a></span>
<span class="normal"><a href="#__codelineno-0-258">258</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-236" name="__codelineno-0-236"></a><span class="k">def</span> <span class="nf">serialize_unittest_result</span><span class="p">(</span><span class="n">result</span><span class="p">:</span> <span class="n">unittest</span><span class="o">.</span><span class="n">TestResult</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<a id="__codelineno-0-237" name="__codelineno-0-237"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-238" name="__codelineno-0-238"></a><span class="sd">    Serialize a unittest.TestResult object into a dictionary.</span>
<a id="__codelineno-0-239" name="__codelineno-0-239"></a>
<a id="__codelineno-0-240" name="__codelineno-0-240"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-241" name="__codelineno-0-241"></a><span class="sd">        result (unittest.TestResult): The TestResult object to serialize.</span>
<a id="__codelineno-0-242" name="__codelineno-0-242"></a>
<a id="__codelineno-0-243" name="__codelineno-0-243"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-244" name="__codelineno-0-244"></a><span class="sd">        dict: A dictionary containing the serialized TestResult data.</span>
<a id="__codelineno-0-245" name="__codelineno-0-245"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-246" name="__codelineno-0-246"></a>    <span class="n">d</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-0-247" name="__codelineno-0-247"></a>        <span class="n">attr</span><span class="p">:</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">attr</span><span class="p">)</span>
<a id="__codelineno-0-248" name="__codelineno-0-248"></a>        <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="p">[</span>
<a id="__codelineno-0-249" name="__codelineno-0-249"></a>            <span class="s2">&quot;failures&quot;</span><span class="p">,</span>
<a id="__codelineno-0-250" name="__codelineno-0-250"></a>            <span class="s2">&quot;errors&quot;</span><span class="p">,</span>
<a id="__codelineno-0-251" name="__codelineno-0-251"></a>            <span class="s2">&quot;testsRun&quot;</span><span class="p">,</span>
<a id="__codelineno-0-252" name="__codelineno-0-252"></a>            <span class="s2">&quot;skipped&quot;</span><span class="p">,</span>
<a id="__codelineno-0-253" name="__codelineno-0-253"></a>            <span class="s2">&quot;expectedFailures&quot;</span><span class="p">,</span>
<a id="__codelineno-0-254" name="__codelineno-0-254"></a>            <span class="s2">&quot;unexpectedSuccesses&quot;</span><span class="p">,</span>
<a id="__codelineno-0-255" name="__codelineno-0-255"></a>        <span class="p">]</span>
<a id="__codelineno-0-256" name="__codelineno-0-256"></a>    <span class="p">}</span>
<a id="__codelineno-0-257" name="__codelineno-0-257"></a>    <span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">val</span><span class="p">)</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="k">else</span> <span class="n">val</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
<a id="__codelineno-0-258" name="__codelineno-0-258"></a>    <span class="k">return</span> <span class="n">d</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="scenery.common.snake_to_camel_case" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">snake_to_camel_case</span><span class="p">(</span><span class="n">s</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Transform a string from snake_case to CamelCase.</p>
<p>This function assumes the input string is in snake_case format and converts it to CamelCase.
It also handles strings containing '/' and '-' characters.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>s</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The input string in snake_case format.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The input string converted to CamelCase.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>ValueError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the input string is not in valid snake_case format.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>scenery/common.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-77">77</a></span>
<span class="normal"><a href="#__codelineno-0-78">78</a></span>
<span class="normal"><a href="#__codelineno-0-79">79</a></span>
<span class="normal"><a href="#__codelineno-0-80">80</a></span>
<span class="normal"><a href="#__codelineno-0-81">81</a></span>
<span class="normal"><a href="#__codelineno-0-82">82</a></span>
<span class="normal"><a href="#__codelineno-0-83">83</a></span>
<span class="normal"><a href="#__codelineno-0-84">84</a></span>
<span class="normal"><a href="#__codelineno-0-85">85</a></span>
<span class="normal"><a href="#__codelineno-0-86">86</a></span>
<span class="normal"><a href="#__codelineno-0-87">87</a></span>
<span class="normal"><a href="#__codelineno-0-88">88</a></span>
<span class="normal"><a href="#__codelineno-0-89">89</a></span>
<span class="normal"><a href="#__codelineno-0-90">90</a></span>
<span class="normal"><a href="#__codelineno-0-91">91</a></span>
<span class="normal"><a href="#__codelineno-0-92">92</a></span>
<span class="normal"><a href="#__codelineno-0-93">93</a></span>
<span class="normal"><a href="#__codelineno-0-94">94</a></span>
<span class="normal"><a href="#__codelineno-0-95">95</a></span>
<span class="normal"><a href="#__codelineno-0-96">96</a></span>
<span class="normal"><a href="#__codelineno-0-97">97</a></span>
<span class="normal"><a href="#__codelineno-0-98">98</a></span>
<span class="normal"><a href="#__codelineno-0-99">99</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-77" name="__codelineno-0-77"></a><span class="k">def</span> <span class="nf">snake_to_camel_case</span><span class="p">(</span><span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<a id="__codelineno-0-78" name="__codelineno-0-78"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-79" name="__codelineno-0-79"></a><span class="sd">    Transform a string from snake_case to CamelCase.</span>
<a id="__codelineno-0-80" name="__codelineno-0-80"></a>
<a id="__codelineno-0-81" name="__codelineno-0-81"></a><span class="sd">    This function assumes the input string is in snake_case format and converts it to CamelCase.</span>
<a id="__codelineno-0-82" name="__codelineno-0-82"></a><span class="sd">    It also handles strings containing &#39;/&#39; and &#39;-&#39; characters.</span>
<a id="__codelineno-0-83" name="__codelineno-0-83"></a>
<a id="__codelineno-0-84" name="__codelineno-0-84"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-85" name="__codelineno-0-85"></a><span class="sd">        s (str): The input string in snake_case format.</span>
<a id="__codelineno-0-86" name="__codelineno-0-86"></a>
<a id="__codelineno-0-87" name="__codelineno-0-87"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-88" name="__codelineno-0-88"></a><span class="sd">        str: The input string converted to CamelCase.</span>
<a id="__codelineno-0-89" name="__codelineno-0-89"></a>
<a id="__codelineno-0-90" name="__codelineno-0-90"></a><span class="sd">    Raises:</span>
<a id="__codelineno-0-91" name="__codelineno-0-91"></a><span class="sd">        ValueError: If the input string is not in valid snake_case format.</span>
<a id="__codelineno-0-92" name="__codelineno-0-92"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-93" name="__codelineno-0-93"></a>    <span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">,</span> <span class="s2">&quot;_&quot;</span><span class="p">)</span>
<a id="__codelineno-0-94" name="__codelineno-0-94"></a>    <span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
<a id="__codelineno-0-95" name="__codelineno-0-95"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">re</span><span class="o">.</span><span class="n">fullmatch</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;[a-z0-9_]+&quot;</span><span class="p">,</span> <span class="n">s</span><span class="p">):</span>
<a id="__codelineno-0-96" name="__codelineno-0-96"></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">s</span><span class="si">}</span><span class="s2">&#39; is not snake_case&quot;</span><span class="p">)</span>
<a id="__codelineno-0-97" name="__codelineno-0-97"></a>    <span class="n">words</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">)</span>
<a id="__codelineno-0-98" name="__codelineno-0-98"></a>    <span class="n">camel_case</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">word</span><span class="o">.</span><span class="n">capitalize</span><span class="p">()</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">words</span><span class="p">)</span>
<a id="__codelineno-0-99" name="__codelineno-0-99"></a>    <span class="k">return</span> <span class="n">camel_case</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="scenery.common.tabulate" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">tabulate</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">delim</span><span class="o">=</span><span class="s1">&#39;:&#39;</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Return an ASCII table for a dictionary with columns [key, value].</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>d</code>
            </td>
            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The dictionary to tabulate.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>color</code>
            </td>
            <td>
                  <code>str or callable</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The color to use for the values.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>delim</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The delimiter to use between keys and values. Defaults to ':'.</p>
              </div>
            </td>
            <td>
                  <code>&#39;:&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A string representation of the tabulated dictionary.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>scenery/common.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-210">210</a></span>
<span class="normal"><a href="#__codelineno-0-211">211</a></span>
<span class="normal"><a href="#__codelineno-0-212">212</a></span>
<span class="normal"><a href="#__codelineno-0-213">213</a></span>
<span class="normal"><a href="#__codelineno-0-214">214</a></span>
<span class="normal"><a href="#__codelineno-0-215">215</a></span>
<span class="normal"><a href="#__codelineno-0-216">216</a></span>
<span class="normal"><a href="#__codelineno-0-217">217</a></span>
<span class="normal"><a href="#__codelineno-0-218">218</a></span>
<span class="normal"><a href="#__codelineno-0-219">219</a></span>
<span class="normal"><a href="#__codelineno-0-220">220</a></span>
<span class="normal"><a href="#__codelineno-0-221">221</a></span>
<span class="normal"><a href="#__codelineno-0-222">222</a></span>
<span class="normal"><a href="#__codelineno-0-223">223</a></span>
<span class="normal"><a href="#__codelineno-0-224">224</a></span>
<span class="normal"><a href="#__codelineno-0-225">225</a></span>
<span class="normal"><a href="#__codelineno-0-226">226</a></span>
<span class="normal"><a href="#__codelineno-0-227">227</a></span>
<span class="normal"><a href="#__codelineno-0-228">228</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-210" name="__codelineno-0-210"></a><span class="k">def</span> <span class="nf">tabulate</span><span class="p">(</span><span class="n">d</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span> <span class="n">color</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Callable</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">delim</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;:&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<a id="__codelineno-0-211" name="__codelineno-0-211"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-212" name="__codelineno-0-212"></a><span class="sd">    Return an ASCII table for a dictionary with columns [key, value].</span>
<a id="__codelineno-0-213" name="__codelineno-0-213"></a>
<a id="__codelineno-0-214" name="__codelineno-0-214"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-215" name="__codelineno-0-215"></a><span class="sd">        d (dict): The dictionary to tabulate.</span>
<a id="__codelineno-0-216" name="__codelineno-0-216"></a><span class="sd">        color (str or callable, optional): The color to use for the values.</span>
<a id="__codelineno-0-217" name="__codelineno-0-217"></a><span class="sd">        delim (str, optional): The delimiter to use between keys and values. Defaults to &#39;:&#39;.</span>
<a id="__codelineno-0-218" name="__codelineno-0-218"></a>
<a id="__codelineno-0-219" name="__codelineno-0-219"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-220" name="__codelineno-0-220"></a><span class="sd">        str: A string representation of the tabulated dictionary.</span>
<a id="__codelineno-0-221" name="__codelineno-0-221"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-222" name="__codelineno-0-222"></a>    <span class="n">width</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<a id="__codelineno-0-223" name="__codelineno-0-223"></a>    <span class="n">table</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="p">[(</span><span class="n">key</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">()]</span>
<a id="__codelineno-0-224" name="__codelineno-0-224"></a>    <span class="k">if</span> <span class="n">color</span><span class="p">:</span>
<a id="__codelineno-0-225" name="__codelineno-0-225"></a>        <span class="n">table</span> <span class="o">=</span> <span class="p">[(</span><span class="n">key</span><span class="p">,</span> <span class="n">colorize</span><span class="p">(</span><span class="n">color</span><span class="p">,</span> <span class="n">val</span><span class="p">))</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">table</span><span class="p">]</span>
<a id="__codelineno-0-226" name="__codelineno-0-226"></a>    <span class="n">table</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">key</span><span class="o">.</span><span class="n">ljust</span><span class="p">(</span><span class="n">width</span><span class="p">),</span> <span class="n">delim</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">val</span><span class="p">))</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">table</span><span class="p">]</span>
<a id="__codelineno-0-227" name="__codelineno-0-227"></a>    <span class="n">table</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">line</span><span class="p">)</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">table</span><span class="p">]</span>
<a id="__codelineno-0-228" name="__codelineno-0-228"></a>    <span class="k">return</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><h2 id="http-checker">Http Checker</h2>


<div class="doc doc-object doc-module">



<a id="scenery.http_checker"></a>
    <div class="doc doc-contents first">

        <p>Perform assertions on HTTP response</p>








  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="scenery.http_checker.HttpChecker" class="doc doc-heading">
            <code>HttpChecker</code>


</h2>


    <div class="doc doc-contents ">


        <p>A utility class for performing HTTP requests and assertions on responses.</p>
<p>This class provides static methods to execute HTTP requests and perform
various checks on the responses, as specified in the test manifests.</p>






              <details class="quote">
                <summary>Source code in <code>scenery/http_checker.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-14"> 14</a></span>
<span class="normal"><a href="#__codelineno-0-15"> 15</a></span>
<span class="normal"><a href="#__codelineno-0-16"> 16</a></span>
<span class="normal"><a href="#__codelineno-0-17"> 17</a></span>
<span class="normal"><a href="#__codelineno-0-18"> 18</a></span>
<span class="normal"><a href="#__codelineno-0-19"> 19</a></span>
<span class="normal"><a href="#__codelineno-0-20"> 20</a></span>
<span class="normal"><a href="#__codelineno-0-21"> 21</a></span>
<span class="normal"><a href="#__codelineno-0-22"> 22</a></span>
<span class="normal"><a href="#__codelineno-0-23"> 23</a></span>
<span class="normal"><a href="#__codelineno-0-24"> 24</a></span>
<span class="normal"><a href="#__codelineno-0-25"> 25</a></span>
<span class="normal"><a href="#__codelineno-0-26"> 26</a></span>
<span class="normal"><a href="#__codelineno-0-27"> 27</a></span>
<span class="normal"><a href="#__codelineno-0-28"> 28</a></span>
<span class="normal"><a href="#__codelineno-0-29"> 29</a></span>
<span class="normal"><a href="#__codelineno-0-30"> 30</a></span>
<span class="normal"><a href="#__codelineno-0-31"> 31</a></span>
<span class="normal"><a href="#__codelineno-0-32"> 32</a></span>
<span class="normal"><a href="#__codelineno-0-33"> 33</a></span>
<span class="normal"><a href="#__codelineno-0-34"> 34</a></span>
<span class="normal"><a href="#__codelineno-0-35"> 35</a></span>
<span class="normal"><a href="#__codelineno-0-36"> 36</a></span>
<span class="normal"><a href="#__codelineno-0-37"> 37</a></span>
<span class="normal"><a href="#__codelineno-0-38"> 38</a></span>
<span class="normal"><a href="#__codelineno-0-39"> 39</a></span>
<span class="normal"><a href="#__codelineno-0-40"> 40</a></span>
<span class="normal"><a href="#__codelineno-0-41"> 41</a></span>
<span class="normal"><a href="#__codelineno-0-42"> 42</a></span>
<span class="normal"><a href="#__codelineno-0-43"> 43</a></span>
<span class="normal"><a href="#__codelineno-0-44"> 44</a></span>
<span class="normal"><a href="#__codelineno-0-45"> 45</a></span>
<span class="normal"><a href="#__codelineno-0-46"> 46</a></span>
<span class="normal"><a href="#__codelineno-0-47"> 47</a></span>
<span class="normal"><a href="#__codelineno-0-48"> 48</a></span>
<span class="normal"><a href="#__codelineno-0-49"> 49</a></span>
<span class="normal"><a href="#__codelineno-0-50"> 50</a></span>
<span class="normal"><a href="#__codelineno-0-51"> 51</a></span>
<span class="normal"><a href="#__codelineno-0-52"> 52</a></span>
<span class="normal"><a href="#__codelineno-0-53"> 53</a></span>
<span class="normal"><a href="#__codelineno-0-54"> 54</a></span>
<span class="normal"><a href="#__codelineno-0-55"> 55</a></span>
<span class="normal"><a href="#__codelineno-0-56"> 56</a></span>
<span class="normal"><a href="#__codelineno-0-57"> 57</a></span>
<span class="normal"><a href="#__codelineno-0-58"> 58</a></span>
<span class="normal"><a href="#__codelineno-0-59"> 59</a></span>
<span class="normal"><a href="#__codelineno-0-60"> 60</a></span>
<span class="normal"><a href="#__codelineno-0-61"> 61</a></span>
<span class="normal"><a href="#__codelineno-0-62"> 62</a></span>
<span class="normal"><a href="#__codelineno-0-63"> 63</a></span>
<span class="normal"><a href="#__codelineno-0-64"> 64</a></span>
<span class="normal"><a href="#__codelineno-0-65"> 65</a></span>
<span class="normal"><a href="#__codelineno-0-66"> 66</a></span>
<span class="normal"><a href="#__codelineno-0-67"> 67</a></span>
<span class="normal"><a href="#__codelineno-0-68"> 68</a></span>
<span class="normal"><a href="#__codelineno-0-69"> 69</a></span>
<span class="normal"><a href="#__codelineno-0-70"> 70</a></span>
<span class="normal"><a href="#__codelineno-0-71"> 71</a></span>
<span class="normal"><a href="#__codelineno-0-72"> 72</a></span>
<span class="normal"><a href="#__codelineno-0-73"> 73</a></span>
<span class="normal"><a href="#__codelineno-0-74"> 74</a></span>
<span class="normal"><a href="#__codelineno-0-75"> 75</a></span>
<span class="normal"><a href="#__codelineno-0-76"> 76</a></span>
<span class="normal"><a href="#__codelineno-0-77"> 77</a></span>
<span class="normal"><a href="#__codelineno-0-78"> 78</a></span>
<span class="normal"><a href="#__codelineno-0-79"> 79</a></span>
<span class="normal"><a href="#__codelineno-0-80"> 80</a></span>
<span class="normal"><a href="#__codelineno-0-81"> 81</a></span>
<span class="normal"><a href="#__codelineno-0-82"> 82</a></span>
<span class="normal"><a href="#__codelineno-0-83"> 83</a></span>
<span class="normal"><a href="#__codelineno-0-84"> 84</a></span>
<span class="normal"><a href="#__codelineno-0-85"> 85</a></span>
<span class="normal"><a href="#__codelineno-0-86"> 86</a></span>
<span class="normal"><a href="#__codelineno-0-87"> 87</a></span>
<span class="normal"><a href="#__codelineno-0-88"> 88</a></span>
<span class="normal"><a href="#__codelineno-0-89"> 89</a></span>
<span class="normal"><a href="#__codelineno-0-90"> 90</a></span>
<span class="normal"><a href="#__codelineno-0-91"> 91</a></span>
<span class="normal"><a href="#__codelineno-0-92"> 92</a></span>
<span class="normal"><a href="#__codelineno-0-93"> 93</a></span>
<span class="normal"><a href="#__codelineno-0-94"> 94</a></span>
<span class="normal"><a href="#__codelineno-0-95"> 95</a></span>
<span class="normal"><a href="#__codelineno-0-96"> 96</a></span>
<span class="normal"><a href="#__codelineno-0-97"> 97</a></span>
<span class="normal"><a href="#__codelineno-0-98"> 98</a></span>
<span class="normal"><a href="#__codelineno-0-99"> 99</a></span>
<span class="normal"><a href="#__codelineno-0-100">100</a></span>
<span class="normal"><a href="#__codelineno-0-101">101</a></span>
<span class="normal"><a href="#__codelineno-0-102">102</a></span>
<span class="normal"><a href="#__codelineno-0-103">103</a></span>
<span class="normal"><a href="#__codelineno-0-104">104</a></span>
<span class="normal"><a href="#__codelineno-0-105">105</a></span>
<span class="normal"><a href="#__codelineno-0-106">106</a></span>
<span class="normal"><a href="#__codelineno-0-107">107</a></span>
<span class="normal"><a href="#__codelineno-0-108">108</a></span>
<span class="normal"><a href="#__codelineno-0-109">109</a></span>
<span class="normal"><a href="#__codelineno-0-110">110</a></span>
<span class="normal"><a href="#__codelineno-0-111">111</a></span>
<span class="normal"><a href="#__codelineno-0-112">112</a></span>
<span class="normal"><a href="#__codelineno-0-113">113</a></span>
<span class="normal"><a href="#__codelineno-0-114">114</a></span>
<span class="normal"><a href="#__codelineno-0-115">115</a></span>
<span class="normal"><a href="#__codelineno-0-116">116</a></span>
<span class="normal"><a href="#__codelineno-0-117">117</a></span>
<span class="normal"><a href="#__codelineno-0-118">118</a></span>
<span class="normal"><a href="#__codelineno-0-119">119</a></span>
<span class="normal"><a href="#__codelineno-0-120">120</a></span>
<span class="normal"><a href="#__codelineno-0-121">121</a></span>
<span class="normal"><a href="#__codelineno-0-122">122</a></span>
<span class="normal"><a href="#__codelineno-0-123">123</a></span>
<span class="normal"><a href="#__codelineno-0-124">124</a></span>
<span class="normal"><a href="#__codelineno-0-125">125</a></span>
<span class="normal"><a href="#__codelineno-0-126">126</a></span>
<span class="normal"><a href="#__codelineno-0-127">127</a></span>
<span class="normal"><a href="#__codelineno-0-128">128</a></span>
<span class="normal"><a href="#__codelineno-0-129">129</a></span>
<span class="normal"><a href="#__codelineno-0-130">130</a></span>
<span class="normal"><a href="#__codelineno-0-131">131</a></span>
<span class="normal"><a href="#__codelineno-0-132">132</a></span>
<span class="normal"><a href="#__codelineno-0-133">133</a></span>
<span class="normal"><a href="#__codelineno-0-134">134</a></span>
<span class="normal"><a href="#__codelineno-0-135">135</a></span>
<span class="normal"><a href="#__codelineno-0-136">136</a></span>
<span class="normal"><a href="#__codelineno-0-137">137</a></span>
<span class="normal"><a href="#__codelineno-0-138">138</a></span>
<span class="normal"><a href="#__codelineno-0-139">139</a></span>
<span class="normal"><a href="#__codelineno-0-140">140</a></span>
<span class="normal"><a href="#__codelineno-0-141">141</a></span>
<span class="normal"><a href="#__codelineno-0-142">142</a></span>
<span class="normal"><a href="#__codelineno-0-143">143</a></span>
<span class="normal"><a href="#__codelineno-0-144">144</a></span>
<span class="normal"><a href="#__codelineno-0-145">145</a></span>
<span class="normal"><a href="#__codelineno-0-146">146</a></span>
<span class="normal"><a href="#__codelineno-0-147">147</a></span>
<span class="normal"><a href="#__codelineno-0-148">148</a></span>
<span class="normal"><a href="#__codelineno-0-149">149</a></span>
<span class="normal"><a href="#__codelineno-0-150">150</a></span>
<span class="normal"><a href="#__codelineno-0-151">151</a></span>
<span class="normal"><a href="#__codelineno-0-152">152</a></span>
<span class="normal"><a href="#__codelineno-0-153">153</a></span>
<span class="normal"><a href="#__codelineno-0-154">154</a></span>
<span class="normal"><a href="#__codelineno-0-155">155</a></span>
<span class="normal"><a href="#__codelineno-0-156">156</a></span>
<span class="normal"><a href="#__codelineno-0-157">157</a></span>
<span class="normal"><a href="#__codelineno-0-158">158</a></span>
<span class="normal"><a href="#__codelineno-0-159">159</a></span>
<span class="normal"><a href="#__codelineno-0-160">160</a></span>
<span class="normal"><a href="#__codelineno-0-161">161</a></span>
<span class="normal"><a href="#__codelineno-0-162">162</a></span>
<span class="normal"><a href="#__codelineno-0-163">163</a></span>
<span class="normal"><a href="#__codelineno-0-164">164</a></span>
<span class="normal"><a href="#__codelineno-0-165">165</a></span>
<span class="normal"><a href="#__codelineno-0-166">166</a></span>
<span class="normal"><a href="#__codelineno-0-167">167</a></span>
<span class="normal"><a href="#__codelineno-0-168">168</a></span>
<span class="normal"><a href="#__codelineno-0-169">169</a></span>
<span class="normal"><a href="#__codelineno-0-170">170</a></span>
<span class="normal"><a href="#__codelineno-0-171">171</a></span>
<span class="normal"><a href="#__codelineno-0-172">172</a></span>
<span class="normal"><a href="#__codelineno-0-173">173</a></span>
<span class="normal"><a href="#__codelineno-0-174">174</a></span>
<span class="normal"><a href="#__codelineno-0-175">175</a></span>
<span class="normal"><a href="#__codelineno-0-176">176</a></span>
<span class="normal"><a href="#__codelineno-0-177">177</a></span>
<span class="normal"><a href="#__codelineno-0-178">178</a></span>
<span class="normal"><a href="#__codelineno-0-179">179</a></span>
<span class="normal"><a href="#__codelineno-0-180">180</a></span>
<span class="normal"><a href="#__codelineno-0-181">181</a></span>
<span class="normal"><a href="#__codelineno-0-182">182</a></span>
<span class="normal"><a href="#__codelineno-0-183">183</a></span>
<span class="normal"><a href="#__codelineno-0-184">184</a></span>
<span class="normal"><a href="#__codelineno-0-185">185</a></span>
<span class="normal"><a href="#__codelineno-0-186">186</a></span>
<span class="normal"><a href="#__codelineno-0-187">187</a></span>
<span class="normal"><a href="#__codelineno-0-188">188</a></span>
<span class="normal"><a href="#__codelineno-0-189">189</a></span>
<span class="normal"><a href="#__codelineno-0-190">190</a></span>
<span class="normal"><a href="#__codelineno-0-191">191</a></span>
<span class="normal"><a href="#__codelineno-0-192">192</a></span>
<span class="normal"><a href="#__codelineno-0-193">193</a></span>
<span class="normal"><a href="#__codelineno-0-194">194</a></span>
<span class="normal"><a href="#__codelineno-0-195">195</a></span>
<span class="normal"><a href="#__codelineno-0-196">196</a></span>
<span class="normal"><a href="#__codelineno-0-197">197</a></span>
<span class="normal"><a href="#__codelineno-0-198">198</a></span>
<span class="normal"><a href="#__codelineno-0-199">199</a></span>
<span class="normal"><a href="#__codelineno-0-200">200</a></span>
<span class="normal"><a href="#__codelineno-0-201">201</a></span>
<span class="normal"><a href="#__codelineno-0-202">202</a></span>
<span class="normal"><a href="#__codelineno-0-203">203</a></span>
<span class="normal"><a href="#__codelineno-0-204">204</a></span>
<span class="normal"><a href="#__codelineno-0-205">205</a></span>
<span class="normal"><a href="#__codelineno-0-206">206</a></span>
<span class="normal"><a href="#__codelineno-0-207">207</a></span>
<span class="normal"><a href="#__codelineno-0-208">208</a></span>
<span class="normal"><a href="#__codelineno-0-209">209</a></span>
<span class="normal"><a href="#__codelineno-0-210">210</a></span>
<span class="normal"><a href="#__codelineno-0-211">211</a></span>
<span class="normal"><a href="#__codelineno-0-212">212</a></span>
<span class="normal"><a href="#__codelineno-0-213">213</a></span>
<span class="normal"><a href="#__codelineno-0-214">214</a></span>
<span class="normal"><a href="#__codelineno-0-215">215</a></span>
<span class="normal"><a href="#__codelineno-0-216">216</a></span>
<span class="normal"><a href="#__codelineno-0-217">217</a></span>
<span class="normal"><a href="#__codelineno-0-218">218</a></span>
<span class="normal"><a href="#__codelineno-0-219">219</a></span>
<span class="normal"><a href="#__codelineno-0-220">220</a></span>
<span class="normal"><a href="#__codelineno-0-221">221</a></span>
<span class="normal"><a href="#__codelineno-0-222">222</a></span>
<span class="normal"><a href="#__codelineno-0-223">223</a></span>
<span class="normal"><a href="#__codelineno-0-224">224</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-14" name="__codelineno-0-14"></a><span class="k">class</span> <span class="nc">HttpChecker</span><span class="p">:</span>
<a id="__codelineno-0-15" name="__codelineno-0-15"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-16" name="__codelineno-0-16"></a><span class="sd">    A utility class for performing HTTP requests and assertions on responses.</span>
<a id="__codelineno-0-17" name="__codelineno-0-17"></a>
<a id="__codelineno-0-18" name="__codelineno-0-18"></a><span class="sd">    This class provides static methods to execute HTTP requests and perform</span>
<a id="__codelineno-0-19" name="__codelineno-0-19"></a><span class="sd">    various checks on the responses, as specified in the test manifests.</span>
<a id="__codelineno-0-20" name="__codelineno-0-20"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-21" name="__codelineno-0-21"></a>
<a id="__codelineno-0-22" name="__codelineno-0-22"></a>    <span class="nd">@staticmethod</span>
<a id="__codelineno-0-23" name="__codelineno-0-23"></a>    <span class="k">def</span> <span class="nf">get_http_client_response</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">take</span><span class="p">:</span> <span class="n">scenery</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">HttpTake</span><span class="p">):</span>
<a id="__codelineno-0-24" name="__codelineno-0-24"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-25" name="__codelineno-0-25"></a><span class="sd">        Execute an HTTP request based on the given HttpTake object.</span>
<a id="__codelineno-0-26" name="__codelineno-0-26"></a>
<a id="__codelineno-0-27" name="__codelineno-0-27"></a><span class="sd">        Args:</span>
<a id="__codelineno-0-28" name="__codelineno-0-28"></a><span class="sd">            client: The Django test client to use for the request.</span>
<a id="__codelineno-0-29" name="__codelineno-0-29"></a><span class="sd">            take (scenery.manifest.HttpTake): The HttpTake object specifying the request details.</span>
<a id="__codelineno-0-30" name="__codelineno-0-30"></a>
<a id="__codelineno-0-31" name="__codelineno-0-31"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-32" name="__codelineno-0-32"></a><span class="sd">            django.http.HttpResponse: The response from the HTTP request.</span>
<a id="__codelineno-0-33" name="__codelineno-0-33"></a>
<a id="__codelineno-0-34" name="__codelineno-0-34"></a><span class="sd">        Raises:</span>
<a id="__codelineno-0-35" name="__codelineno-0-35"></a><span class="sd">            NotImplementedError: If the HTTP method specified in the take is not implemented.</span>
<a id="__codelineno-0-36" name="__codelineno-0-36"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-37" name="__codelineno-0-37"></a>
<a id="__codelineno-0-38" name="__codelineno-0-38"></a>        <span class="k">match</span> <span class="n">take</span><span class="o">.</span><span class="n">method</span><span class="p">:</span>
<a id="__codelineno-0-39" name="__codelineno-0-39"></a>            <span class="k">case</span> <span class="n">http</span><span class="o">.</span><span class="n">HTTPMethod</span><span class="o">.</span><span class="n">GET</span><span class="p">:</span>
<a id="__codelineno-0-40" name="__codelineno-0-40"></a>                <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
<a id="__codelineno-0-41" name="__codelineno-0-41"></a>                    <span class="n">take</span><span class="o">.</span><span class="n">url</span><span class="p">,</span>
<a id="__codelineno-0-42" name="__codelineno-0-42"></a>                    <span class="n">take</span><span class="o">.</span><span class="n">data</span><span class="p">,</span>
<a id="__codelineno-0-43" name="__codelineno-0-43"></a>                <span class="p">)</span>
<a id="__codelineno-0-44" name="__codelineno-0-44"></a>            <span class="k">case</span> <span class="n">http</span><span class="o">.</span><span class="n">HTTPMethod</span><span class="o">.</span><span class="n">POST</span><span class="p">:</span>
<a id="__codelineno-0-45" name="__codelineno-0-45"></a>                <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
<a id="__codelineno-0-46" name="__codelineno-0-46"></a>                    <span class="n">take</span><span class="o">.</span><span class="n">url</span><span class="p">,</span>
<a id="__codelineno-0-47" name="__codelineno-0-47"></a>                    <span class="n">take</span><span class="o">.</span><span class="n">data</span><span class="p">,</span>
<a id="__codelineno-0-48" name="__codelineno-0-48"></a>                <span class="p">)</span>
<a id="__codelineno-0-49" name="__codelineno-0-49"></a>            <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">:</span>
<a id="__codelineno-0-50" name="__codelineno-0-50"></a>                <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="n">take</span><span class="o">.</span><span class="n">method</span><span class="p">)</span>
<a id="__codelineno-0-51" name="__codelineno-0-51"></a>
<a id="__codelineno-0-52" name="__codelineno-0-52"></a>        <span class="k">return</span> <span class="n">response</span>
<a id="__codelineno-0-53" name="__codelineno-0-53"></a>
<a id="__codelineno-0-54" name="__codelineno-0-54"></a>    <span class="nd">@staticmethod</span>
<a id="__codelineno-0-55" name="__codelineno-0-55"></a>    <span class="k">def</span> <span class="nf">exec_check</span><span class="p">(</span>
<a id="__codelineno-0-56" name="__codelineno-0-56"></a>        <span class="n">django_testcase</span><span class="p">:</span> <span class="n">django</span><span class="o">.</span><span class="n">test</span><span class="o">.</span><span class="n">TestCase</span><span class="p">,</span>
<a id="__codelineno-0-57" name="__codelineno-0-57"></a>        <span class="n">response</span><span class="p">:</span> <span class="n">django</span><span class="o">.</span><span class="n">http</span><span class="o">.</span><span class="n">HttpResponse</span><span class="p">,</span>
<a id="__codelineno-0-58" name="__codelineno-0-58"></a>        <span class="n">check</span><span class="p">:</span> <span class="n">scenery</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">HttpCheck</span><span class="p">,</span>
<a id="__codelineno-0-59" name="__codelineno-0-59"></a>    <span class="p">):</span>
<a id="__codelineno-0-60" name="__codelineno-0-60"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-61" name="__codelineno-0-61"></a><span class="sd">        Execute a specific check on an HTTP response.</span>
<a id="__codelineno-0-62" name="__codelineno-0-62"></a>
<a id="__codelineno-0-63" name="__codelineno-0-63"></a><span class="sd">        This method delegates to the appropriate check method based on the instruction</span>
<a id="__codelineno-0-64" name="__codelineno-0-64"></a><span class="sd">        specified in the HttpCheck object.</span>
<a id="__codelineno-0-65" name="__codelineno-0-65"></a>
<a id="__codelineno-0-66" name="__codelineno-0-66"></a><span class="sd">        Args:</span>
<a id="__codelineno-0-67" name="__codelineno-0-67"></a><span class="sd">            django_testcase (django.test.TestCase): The Django test case instance.</span>
<a id="__codelineno-0-68" name="__codelineno-0-68"></a><span class="sd">            response (django.http.HttpResponse): The HTTP response to check.</span>
<a id="__codelineno-0-69" name="__codelineno-0-69"></a><span class="sd">            check (scenery.manifest.HttpCheck): The check to perform on the response.</span>
<a id="__codelineno-0-70" name="__codelineno-0-70"></a>
<a id="__codelineno-0-71" name="__codelineno-0-71"></a><span class="sd">        Raises:</span>
<a id="__codelineno-0-72" name="__codelineno-0-72"></a><span class="sd">            NotImplementedError: If the check instruction is not implemented.</span>
<a id="__codelineno-0-73" name="__codelineno-0-73"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-74" name="__codelineno-0-74"></a>        <span class="k">match</span> <span class="n">check</span><span class="o">.</span><span class="n">instruction</span><span class="p">:</span>
<a id="__codelineno-0-75" name="__codelineno-0-75"></a>            <span class="k">case</span> <span class="n">scenery</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">DirectiveCommand</span><span class="o">.</span><span class="n">STATUS_CODE</span><span class="p">:</span>
<a id="__codelineno-0-76" name="__codelineno-0-76"></a>                <span class="n">HttpChecker</span><span class="o">.</span><span class="n">check_status_code</span><span class="p">(</span><span class="n">django_testcase</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">check</span><span class="o">.</span><span class="n">args</span><span class="p">)</span>
<a id="__codelineno-0-77" name="__codelineno-0-77"></a>            <span class="k">case</span> <span class="n">scenery</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">DirectiveCommand</span><span class="o">.</span><span class="n">REDIRECT_URL</span><span class="p">:</span>
<a id="__codelineno-0-78" name="__codelineno-0-78"></a>                <span class="n">HttpChecker</span><span class="o">.</span><span class="n">check_redirect_url</span><span class="p">(</span><span class="n">django_testcase</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">check</span><span class="o">.</span><span class="n">args</span><span class="p">)</span>
<a id="__codelineno-0-79" name="__codelineno-0-79"></a>            <span class="k">case</span> <span class="n">scenery</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">DirectiveCommand</span><span class="o">.</span><span class="n">COUNT_INSTANCES</span><span class="p">:</span>
<a id="__codelineno-0-80" name="__codelineno-0-80"></a>                <span class="n">HttpChecker</span><span class="o">.</span><span class="n">check_count_instances</span><span class="p">(</span><span class="n">django_testcase</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">check</span><span class="o">.</span><span class="n">args</span><span class="p">)</span>
<a id="__codelineno-0-81" name="__codelineno-0-81"></a>            <span class="k">case</span> <span class="n">scenery</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">DirectiveCommand</span><span class="o">.</span><span class="n">DOM_ELEMENT</span><span class="p">:</span>
<a id="__codelineno-0-82" name="__codelineno-0-82"></a>                <span class="n">HttpChecker</span><span class="o">.</span><span class="n">check_dom_element</span><span class="p">(</span><span class="n">django_testcase</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">check</span><span class="o">.</span><span class="n">args</span><span class="p">)</span>
<a id="__codelineno-0-83" name="__codelineno-0-83"></a>            <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">:</span>
<a id="__codelineno-0-84" name="__codelineno-0-84"></a>                <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="n">check</span><span class="p">)</span>
<a id="__codelineno-0-85" name="__codelineno-0-85"></a>
<a id="__codelineno-0-86" name="__codelineno-0-86"></a>    <span class="nd">@staticmethod</span>
<a id="__codelineno-0-87" name="__codelineno-0-87"></a>    <span class="k">def</span> <span class="nf">check_status_code</span><span class="p">(</span>
<a id="__codelineno-0-88" name="__codelineno-0-88"></a>        <span class="n">django_testcase</span><span class="p">:</span> <span class="n">django</span><span class="o">.</span><span class="n">test</span><span class="o">.</span><span class="n">TestCase</span><span class="p">,</span>
<a id="__codelineno-0-89" name="__codelineno-0-89"></a>        <span class="n">response</span><span class="p">:</span> <span class="n">django</span><span class="o">.</span><span class="n">http</span><span class="o">.</span><span class="n">HttpResponse</span><span class="p">,</span>
<a id="__codelineno-0-90" name="__codelineno-0-90"></a>        <span class="n">args</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
<a id="__codelineno-0-91" name="__codelineno-0-91"></a>    <span class="p">):</span>
<a id="__codelineno-0-92" name="__codelineno-0-92"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-93" name="__codelineno-0-93"></a><span class="sd">        Check if the response status code matches the expected code.</span>
<a id="__codelineno-0-94" name="__codelineno-0-94"></a>
<a id="__codelineno-0-95" name="__codelineno-0-95"></a><span class="sd">        Args:</span>
<a id="__codelineno-0-96" name="__codelineno-0-96"></a><span class="sd">            django_testcase (django.test.TestCase): The Django test case instance.</span>
<a id="__codelineno-0-97" name="__codelineno-0-97"></a><span class="sd">            response (django.http.HttpResponse): The HTTP response to check.</span>
<a id="__codelineno-0-98" name="__codelineno-0-98"></a><span class="sd">            args (int): The expected status code.</span>
<a id="__codelineno-0-99" name="__codelineno-0-99"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-100" name="__codelineno-0-100"></a>        <span class="n">django_testcase</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
<a id="__codelineno-0-101" name="__codelineno-0-101"></a>            <span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span>
<a id="__codelineno-0-102" name="__codelineno-0-102"></a>            <span class="n">args</span><span class="p">,</span>
<a id="__codelineno-0-103" name="__codelineno-0-103"></a>            <span class="sa">f</span><span class="s2">&quot;Expected status code </span><span class="si">{</span><span class="n">args</span><span class="si">}</span><span class="s2">, but got </span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
<a id="__codelineno-0-104" name="__codelineno-0-104"></a>        <span class="p">)</span>
<a id="__codelineno-0-105" name="__codelineno-0-105"></a>
<a id="__codelineno-0-106" name="__codelineno-0-106"></a>    <span class="nd">@staticmethod</span>
<a id="__codelineno-0-107" name="__codelineno-0-107"></a>    <span class="k">def</span> <span class="nf">check_redirect_url</span><span class="p">(</span>
<a id="__codelineno-0-108" name="__codelineno-0-108"></a>        <span class="n">django_testcase</span><span class="p">:</span> <span class="n">django</span><span class="o">.</span><span class="n">test</span><span class="o">.</span><span class="n">TestCase</span><span class="p">,</span>
<a id="__codelineno-0-109" name="__codelineno-0-109"></a>        <span class="n">response</span><span class="p">:</span> <span class="n">django</span><span class="o">.</span><span class="n">http</span><span class="o">.</span><span class="n">HttpResponseRedirect</span><span class="p">,</span>
<a id="__codelineno-0-110" name="__codelineno-0-110"></a>        <span class="n">args</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<a id="__codelineno-0-111" name="__codelineno-0-111"></a>    <span class="p">):</span>
<a id="__codelineno-0-112" name="__codelineno-0-112"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-113" name="__codelineno-0-113"></a><span class="sd">        Check if the response redirect URL matches the expected URL.</span>
<a id="__codelineno-0-114" name="__codelineno-0-114"></a>
<a id="__codelineno-0-115" name="__codelineno-0-115"></a><span class="sd">        Args:</span>
<a id="__codelineno-0-116" name="__codelineno-0-116"></a><span class="sd">            django_testcase (django.test.TestCase): The Django test case instance.</span>
<a id="__codelineno-0-117" name="__codelineno-0-117"></a><span class="sd">            response (django.http.HttpResponseRedirect): The HTTP redirect response to check.</span>
<a id="__codelineno-0-118" name="__codelineno-0-118"></a><span class="sd">            args (str): The expected redirect URL.</span>
<a id="__codelineno-0-119" name="__codelineno-0-119"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-120" name="__codelineno-0-120"></a>        <span class="n">django_testcase</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
<a id="__codelineno-0-121" name="__codelineno-0-121"></a>            <span class="n">response</span><span class="o">.</span><span class="n">url</span><span class="p">,</span>
<a id="__codelineno-0-122" name="__codelineno-0-122"></a>            <span class="n">args</span><span class="p">,</span>
<a id="__codelineno-0-123" name="__codelineno-0-123"></a>            <span class="sa">f</span><span class="s2">&quot;Expected redirect URL &#39;</span><span class="si">{</span><span class="n">args</span><span class="si">}</span><span class="s2">&#39;, but got &#39;</span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">url</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">,</span>
<a id="__codelineno-0-124" name="__codelineno-0-124"></a>        <span class="p">)</span>
<a id="__codelineno-0-125" name="__codelineno-0-125"></a>
<a id="__codelineno-0-126" name="__codelineno-0-126"></a>    <span class="nd">@staticmethod</span>
<a id="__codelineno-0-127" name="__codelineno-0-127"></a>    <span class="k">def</span> <span class="nf">check_count_instances</span><span class="p">(</span>
<a id="__codelineno-0-128" name="__codelineno-0-128"></a>        <span class="n">django_testcase</span><span class="p">:</span> <span class="n">django</span><span class="o">.</span><span class="n">test</span><span class="o">.</span><span class="n">TestCase</span><span class="p">,</span>
<a id="__codelineno-0-129" name="__codelineno-0-129"></a>        <span class="n">response</span><span class="p">:</span> <span class="n">django</span><span class="o">.</span><span class="n">http</span><span class="o">.</span><span class="n">HttpResponse</span><span class="p">,</span>
<a id="__codelineno-0-130" name="__codelineno-0-130"></a>        <span class="n">args</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span>
<a id="__codelineno-0-131" name="__codelineno-0-131"></a>    <span class="p">):</span>
<a id="__codelineno-0-132" name="__codelineno-0-132"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-133" name="__codelineno-0-133"></a><span class="sd">        Check if the count of model instances matches the expected count.</span>
<a id="__codelineno-0-134" name="__codelineno-0-134"></a>
<a id="__codelineno-0-135" name="__codelineno-0-135"></a><span class="sd">        Args:</span>
<a id="__codelineno-0-136" name="__codelineno-0-136"></a><span class="sd">            django_testcase (django.test.TestCase): The Django test case instance.</span>
<a id="__codelineno-0-137" name="__codelineno-0-137"></a><span class="sd">            response (django.http.HttpResponse): The HTTP response (not used in this check).</span>
<a id="__codelineno-0-138" name="__codelineno-0-138"></a><span class="sd">            args (dict): A dictionary containing &#39;model&#39; (the model class) and &#39;n&#39; (expected count).</span>
<a id="__codelineno-0-139" name="__codelineno-0-139"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-140" name="__codelineno-0-140"></a>        <span class="n">instances</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="s2">&quot;model&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">())</span>
<a id="__codelineno-0-141" name="__codelineno-0-141"></a>        <span class="n">django_testcase</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
<a id="__codelineno-0-142" name="__codelineno-0-142"></a>            <span class="nb">len</span><span class="p">(</span><span class="n">instances</span><span class="p">),</span>
<a id="__codelineno-0-143" name="__codelineno-0-143"></a>            <span class="n">args</span><span class="p">[</span><span class="s2">&quot;n&quot;</span><span class="p">],</span>
<a id="__codelineno-0-144" name="__codelineno-0-144"></a>            <span class="sa">f</span><span class="s2">&quot;Expected </span><span class="si">{</span><span class="n">args</span><span class="p">[</span><span class="s1">&#39;n&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> instances of </span><span class="si">{</span><span class="n">args</span><span class="p">[</span><span class="s1">&#39;model&#39;</span><span class="p">]</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">, but found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">instances</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
<a id="__codelineno-0-145" name="__codelineno-0-145"></a>        <span class="p">)</span>
<a id="__codelineno-0-146" name="__codelineno-0-146"></a>
<a id="__codelineno-0-147" name="__codelineno-0-147"></a>    <span class="nd">@staticmethod</span>
<a id="__codelineno-0-148" name="__codelineno-0-148"></a>    <span class="k">def</span> <span class="nf">check_dom_element</span><span class="p">(</span>
<a id="__codelineno-0-149" name="__codelineno-0-149"></a>        <span class="n">django_testcase</span><span class="p">:</span> <span class="n">django</span><span class="o">.</span><span class="n">test</span><span class="o">.</span><span class="n">TestCase</span><span class="p">,</span>
<a id="__codelineno-0-150" name="__codelineno-0-150"></a>        <span class="n">response</span><span class="p">:</span> <span class="n">django</span><span class="o">.</span><span class="n">http</span><span class="o">.</span><span class="n">HttpResponse</span><span class="p">,</span>
<a id="__codelineno-0-151" name="__codelineno-0-151"></a>        <span class="n">args</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="n">scenery</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">DomArgument</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
<a id="__codelineno-0-152" name="__codelineno-0-152"></a>    <span class="p">):</span>
<a id="__codelineno-0-153" name="__codelineno-0-153"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-154" name="__codelineno-0-154"></a><span class="sd">        Check for the presence and properties of DOM elements in the response content.</span>
<a id="__codelineno-0-155" name="__codelineno-0-155"></a>
<a id="__codelineno-0-156" name="__codelineno-0-156"></a><span class="sd">        This method uses BeautifulSoup to parse the response content and perform various</span>
<a id="__codelineno-0-157" name="__codelineno-0-157"></a><span class="sd">        checks on DOM elements as specified in the args dictionary.</span>
<a id="__codelineno-0-158" name="__codelineno-0-158"></a>
<a id="__codelineno-0-159" name="__codelineno-0-159"></a><span class="sd">        Args:</span>
<a id="__codelineno-0-160" name="__codelineno-0-160"></a><span class="sd">            django_testcase (django.test.TestCase): The Django test case instance.</span>
<a id="__codelineno-0-161" name="__codelineno-0-161"></a><span class="sd">            response (django.http.HttpResponse): The HTTP response to check.</span>
<a id="__codelineno-0-162" name="__codelineno-0-162"></a><span class="sd">            args (dict): A dictionary of DomArgument keys and their corresponding values,</span>
<a id="__codelineno-0-163" name="__codelineno-0-163"></a><span class="sd">                         specifying the checks to perform.</span>
<a id="__codelineno-0-164" name="__codelineno-0-164"></a>
<a id="__codelineno-0-165" name="__codelineno-0-165"></a><span class="sd">        Raises:</span>
<a id="__codelineno-0-166" name="__codelineno-0-166"></a><span class="sd">            ValueError: If neither &#39;find&#39; nor &#39;find_all&#39; arguments are provided in args.</span>
<a id="__codelineno-0-167" name="__codelineno-0-167"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-168" name="__codelineno-0-168"></a>
<a id="__codelineno-0-169" name="__codelineno-0-169"></a>        <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="s2">&quot;html.parser&quot;</span><span class="p">)</span>
<a id="__codelineno-0-170" name="__codelineno-0-170"></a>
<a id="__codelineno-0-171" name="__codelineno-0-171"></a>        <span class="c1"># Apply the scope</span>
<a id="__codelineno-0-172" name="__codelineno-0-172"></a>        <span class="k">if</span> <span class="n">scope</span> <span class="o">:=</span> <span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">scenery</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">DomArgument</span><span class="o">.</span><span class="n">SCOPE</span><span class="p">):</span>
<a id="__codelineno-0-173" name="__codelineno-0-173"></a>            <span class="n">soup</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="o">**</span><span class="n">scope</span><span class="p">)</span>
<a id="__codelineno-0-174" name="__codelineno-0-174"></a>
<a id="__codelineno-0-175" name="__codelineno-0-175"></a>        <span class="c1"># Locate the element(s)</span>
<a id="__codelineno-0-176" name="__codelineno-0-176"></a>        <span class="c1"># If find_all is provided, the checks are performed on ALL elements</span>
<a id="__codelineno-0-177" name="__codelineno-0-177"></a>        <span class="c1"># If find is provided we enforce the result to be la list</span>
<a id="__codelineno-0-178" name="__codelineno-0-178"></a>        <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">scenery</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">DomArgument</span><span class="o">.</span><span class="n">FIND_ALL</span><span class="p">):</span>
<a id="__codelineno-0-179" name="__codelineno-0-179"></a>            <span class="n">dom_elements</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="o">**</span><span class="n">args</span><span class="p">[</span><span class="n">scenery</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">DomArgument</span><span class="o">.</span><span class="n">FIND_ALL</span><span class="p">])</span>
<a id="__codelineno-0-180" name="__codelineno-0-180"></a>            <span class="n">django_testcase</span><span class="o">.</span><span class="n">assertGreaterEqual</span><span class="p">(</span>
<a id="__codelineno-0-181" name="__codelineno-0-181"></a>                <span class="nb">len</span><span class="p">(</span><span class="n">dom_elements</span><span class="p">),</span>
<a id="__codelineno-0-182" name="__codelineno-0-182"></a>                <span class="mi">1</span><span class="p">,</span>
<a id="__codelineno-0-183" name="__codelineno-0-183"></a>                <span class="sa">f</span><span class="s2">&quot;Expected to find at least one element matching </span><span class="si">{</span><span class="n">args</span><span class="p">[</span><span class="n">scenery</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">DomArgument</span><span class="o">.</span><span class="n">FIND_ALL</span><span class="p">]</span><span class="si">}</span><span class="s2">, but found none&quot;</span><span class="p">,</span>
<a id="__codelineno-0-184" name="__codelineno-0-184"></a>            <span class="p">)</span>
<a id="__codelineno-0-185" name="__codelineno-0-185"></a>        <span class="k">elif</span> <span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">scenery</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">DomArgument</span><span class="o">.</span><span class="n">FIND</span><span class="p">):</span>
<a id="__codelineno-0-186" name="__codelineno-0-186"></a>            <span class="n">dom_element</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="o">**</span><span class="n">args</span><span class="p">[</span><span class="n">scenery</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">DomArgument</span><span class="o">.</span><span class="n">FIND</span><span class="p">])</span>
<a id="__codelineno-0-187" name="__codelineno-0-187"></a>            <span class="n">django_testcase</span><span class="o">.</span><span class="n">assertIsNotNone</span><span class="p">(</span>
<a id="__codelineno-0-188" name="__codelineno-0-188"></a>                <span class="n">dom_element</span><span class="p">,</span>
<a id="__codelineno-0-189" name="__codelineno-0-189"></a>                <span class="sa">f</span><span class="s2">&quot;Expected to find an element matching </span><span class="si">{</span><span class="n">args</span><span class="p">[</span><span class="n">scenery</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">DomArgument</span><span class="o">.</span><span class="n">FIND</span><span class="p">]</span><span class="si">}</span><span class="s2">, but found none&quot;</span><span class="p">,</span>
<a id="__codelineno-0-190" name="__codelineno-0-190"></a>            <span class="p">)</span>
<a id="__codelineno-0-191" name="__codelineno-0-191"></a>            <span class="n">dom_elements</span> <span class="o">=</span> <span class="p">[</span><span class="n">dom_element</span><span class="p">]</span>
<a id="__codelineno-0-192" name="__codelineno-0-192"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-193" name="__codelineno-0-193"></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Neither find of find_all argument provided&quot;</span><span class="p">)</span>
<a id="__codelineno-0-194" name="__codelineno-0-194"></a>
<a id="__codelineno-0-195" name="__codelineno-0-195"></a>        <span class="c1"># Perform the additional checks</span>
<a id="__codelineno-0-196" name="__codelineno-0-196"></a>        <span class="k">if</span> <span class="n">count</span> <span class="o">:=</span> <span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">scenery</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">DomArgument</span><span class="o">.</span><span class="n">COUNT</span><span class="p">):</span>
<a id="__codelineno-0-197" name="__codelineno-0-197"></a>            <span class="n">django_testcase</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
<a id="__codelineno-0-198" name="__codelineno-0-198"></a>                <span class="nb">len</span><span class="p">(</span><span class="n">dom_elements</span><span class="p">),</span>
<a id="__codelineno-0-199" name="__codelineno-0-199"></a>                <span class="n">count</span><span class="p">,</span>
<a id="__codelineno-0-200" name="__codelineno-0-200"></a>                <span class="sa">f</span><span class="s2">&quot;Expected to find </span><span class="si">{</span><span class="n">count</span><span class="si">}</span><span class="s2"> elements, but found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">dom_elements</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
<a id="__codelineno-0-201" name="__codelineno-0-201"></a>            <span class="p">)</span>
<a id="__codelineno-0-202" name="__codelineno-0-202"></a>        <span class="k">for</span> <span class="n">dom_element</span> <span class="ow">in</span> <span class="n">dom_elements</span><span class="p">:</span>
<a id="__codelineno-0-203" name="__codelineno-0-203"></a>            <span class="k">if</span> <span class="n">text</span> <span class="o">:=</span> <span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">scenery</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">DomArgument</span><span class="o">.</span><span class="n">TEXT</span><span class="p">):</span>
<a id="__codelineno-0-204" name="__codelineno-0-204"></a>                <span class="n">django_testcase</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
<a id="__codelineno-0-205" name="__codelineno-0-205"></a>                    <span class="n">dom_element</span><span class="o">.</span><span class="n">text</span><span class="p">,</span>
<a id="__codelineno-0-206" name="__codelineno-0-206"></a>                    <span class="n">text</span><span class="p">,</span>
<a id="__codelineno-0-207" name="__codelineno-0-207"></a>                    <span class="sa">f</span><span class="s2">&quot;Expected element text to be &#39;</span><span class="si">{</span><span class="n">text</span><span class="si">}</span><span class="s2">&#39;, but got &#39;</span><span class="si">{</span><span class="n">dom_element</span><span class="o">.</span><span class="n">text</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">,</span>
<a id="__codelineno-0-208" name="__codelineno-0-208"></a>                <span class="p">)</span>
<a id="__codelineno-0-209" name="__codelineno-0-209"></a>            <span class="k">if</span> <span class="n">attribute</span> <span class="o">:=</span> <span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">scenery</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">DomArgument</span><span class="o">.</span><span class="n">ATTRIBUTE</span><span class="p">):</span>
<a id="__codelineno-0-210" name="__codelineno-0-210"></a>                <span class="c1"># TODO: should this move to manifest parser? we will decide in v2</span>
<a id="__codelineno-0-211" name="__codelineno-0-211"></a>                <span class="k">match</span> <span class="n">attribute</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">]:</span>
<a id="__codelineno-0-212" name="__codelineno-0-212"></a>                    <span class="k">case</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="o">|</span> <span class="nb">list</span><span class="p">(</span><span class="n">v</span><span class="p">):</span>
<a id="__codelineno-0-213" name="__codelineno-0-213"></a>                        <span class="k">pass</span>
<a id="__codelineno-0-214" name="__codelineno-0-214"></a>                    <span class="k">case</span> <span class="nb">int</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
<a id="__codelineno-0-215" name="__codelineno-0-215"></a>                        <span class="n">attribute</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<a id="__codelineno-0-216" name="__codelineno-0-216"></a>                    <span class="k">case</span> <span class="n">x</span><span class="p">:</span>
<a id="__codelineno-0-217" name="__codelineno-0-217"></a>                        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
<a id="__codelineno-0-218" name="__codelineno-0-218"></a>                            <span class="sa">f</span><span class="s2">&quot;attribute value can only by `str` or `list[str]` not &#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
<a id="__codelineno-0-219" name="__codelineno-0-219"></a>                        <span class="p">)</span>
<a id="__codelineno-0-220" name="__codelineno-0-220"></a>                <span class="n">django_testcase</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
<a id="__codelineno-0-221" name="__codelineno-0-221"></a>                    <span class="n">dom_element</span><span class="p">[</span><span class="n">attribute</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]],</span>
<a id="__codelineno-0-222" name="__codelineno-0-222"></a>                    <span class="n">attribute</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">],</span>
<a id="__codelineno-0-223" name="__codelineno-0-223"></a>                    <span class="sa">f</span><span class="s2">&quot;Expected attribute &#39;</span><span class="si">{</span><span class="n">attribute</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&#39; to have value &#39;</span><span class="si">{</span><span class="n">attribute</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&#39;, but got &#39;</span><span class="si">{</span><span class="n">dom_element</span><span class="p">[</span><span class="n">attribute</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]]</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">,</span>
<a id="__codelineno-0-224" name="__codelineno-0-224"></a>                <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="scenery.http_checker.HttpChecker.check_count_instances" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">check_count_instances</span><span class="p">(</span><span class="n">django_testcase</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Check if the count of model instances matches the expected count.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>django_testcase</code>
            </td>
            <td>
                  <code><span title="django.test.TestCase">TestCase</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The Django test case instance.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>response</code>
            </td>
            <td>
                  <code><span title="django.http.HttpResponse">HttpResponse</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The HTTP response (not used in this check).</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>args</code>
            </td>
            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A dictionary containing 'model' (the model class) and 'n' (expected count).</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>scenery/http_checker.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-126">126</a></span>
<span class="normal"><a href="#__codelineno-0-127">127</a></span>
<span class="normal"><a href="#__codelineno-0-128">128</a></span>
<span class="normal"><a href="#__codelineno-0-129">129</a></span>
<span class="normal"><a href="#__codelineno-0-130">130</a></span>
<span class="normal"><a href="#__codelineno-0-131">131</a></span>
<span class="normal"><a href="#__codelineno-0-132">132</a></span>
<span class="normal"><a href="#__codelineno-0-133">133</a></span>
<span class="normal"><a href="#__codelineno-0-134">134</a></span>
<span class="normal"><a href="#__codelineno-0-135">135</a></span>
<span class="normal"><a href="#__codelineno-0-136">136</a></span>
<span class="normal"><a href="#__codelineno-0-137">137</a></span>
<span class="normal"><a href="#__codelineno-0-138">138</a></span>
<span class="normal"><a href="#__codelineno-0-139">139</a></span>
<span class="normal"><a href="#__codelineno-0-140">140</a></span>
<span class="normal"><a href="#__codelineno-0-141">141</a></span>
<span class="normal"><a href="#__codelineno-0-142">142</a></span>
<span class="normal"><a href="#__codelineno-0-143">143</a></span>
<span class="normal"><a href="#__codelineno-0-144">144</a></span>
<span class="normal"><a href="#__codelineno-0-145">145</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-126" name="__codelineno-0-126"></a><span class="nd">@staticmethod</span>
<a id="__codelineno-0-127" name="__codelineno-0-127"></a><span class="k">def</span> <span class="nf">check_count_instances</span><span class="p">(</span>
<a id="__codelineno-0-128" name="__codelineno-0-128"></a>    <span class="n">django_testcase</span><span class="p">:</span> <span class="n">django</span><span class="o">.</span><span class="n">test</span><span class="o">.</span><span class="n">TestCase</span><span class="p">,</span>
<a id="__codelineno-0-129" name="__codelineno-0-129"></a>    <span class="n">response</span><span class="p">:</span> <span class="n">django</span><span class="o">.</span><span class="n">http</span><span class="o">.</span><span class="n">HttpResponse</span><span class="p">,</span>
<a id="__codelineno-0-130" name="__codelineno-0-130"></a>    <span class="n">args</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span>
<a id="__codelineno-0-131" name="__codelineno-0-131"></a><span class="p">):</span>
<a id="__codelineno-0-132" name="__codelineno-0-132"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-133" name="__codelineno-0-133"></a><span class="sd">    Check if the count of model instances matches the expected count.</span>
<a id="__codelineno-0-134" name="__codelineno-0-134"></a>
<a id="__codelineno-0-135" name="__codelineno-0-135"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-136" name="__codelineno-0-136"></a><span class="sd">        django_testcase (django.test.TestCase): The Django test case instance.</span>
<a id="__codelineno-0-137" name="__codelineno-0-137"></a><span class="sd">        response (django.http.HttpResponse): The HTTP response (not used in this check).</span>
<a id="__codelineno-0-138" name="__codelineno-0-138"></a><span class="sd">        args (dict): A dictionary containing &#39;model&#39; (the model class) and &#39;n&#39; (expected count).</span>
<a id="__codelineno-0-139" name="__codelineno-0-139"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-140" name="__codelineno-0-140"></a>    <span class="n">instances</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="s2">&quot;model&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">())</span>
<a id="__codelineno-0-141" name="__codelineno-0-141"></a>    <span class="n">django_testcase</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
<a id="__codelineno-0-142" name="__codelineno-0-142"></a>        <span class="nb">len</span><span class="p">(</span><span class="n">instances</span><span class="p">),</span>
<a id="__codelineno-0-143" name="__codelineno-0-143"></a>        <span class="n">args</span><span class="p">[</span><span class="s2">&quot;n&quot;</span><span class="p">],</span>
<a id="__codelineno-0-144" name="__codelineno-0-144"></a>        <span class="sa">f</span><span class="s2">&quot;Expected </span><span class="si">{</span><span class="n">args</span><span class="p">[</span><span class="s1">&#39;n&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> instances of </span><span class="si">{</span><span class="n">args</span><span class="p">[</span><span class="s1">&#39;model&#39;</span><span class="p">]</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">, but found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">instances</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
<a id="__codelineno-0-145" name="__codelineno-0-145"></a>    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="scenery.http_checker.HttpChecker.check_dom_element" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">check_dom_element</span><span class="p">(</span><span class="n">django_testcase</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Check for the presence and properties of DOM elements in the response content.</p>
<p>This method uses BeautifulSoup to parse the response content and perform various
checks on DOM elements as specified in the args dictionary.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>django_testcase</code>
            </td>
            <td>
                  <code><span title="django.test.TestCase">TestCase</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The Django test case instance.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>response</code>
            </td>
            <td>
                  <code><span title="django.http.HttpResponse">HttpResponse</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The HTTP response to check.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>args</code>
            </td>
            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A dictionary of DomArgument keys and their corresponding values,
         specifying the checks to perform.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>ValueError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If neither 'find' nor 'find_all' arguments are provided in args.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>scenery/http_checker.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-147">147</a></span>
<span class="normal"><a href="#__codelineno-0-148">148</a></span>
<span class="normal"><a href="#__codelineno-0-149">149</a></span>
<span class="normal"><a href="#__codelineno-0-150">150</a></span>
<span class="normal"><a href="#__codelineno-0-151">151</a></span>
<span class="normal"><a href="#__codelineno-0-152">152</a></span>
<span class="normal"><a href="#__codelineno-0-153">153</a></span>
<span class="normal"><a href="#__codelineno-0-154">154</a></span>
<span class="normal"><a href="#__codelineno-0-155">155</a></span>
<span class="normal"><a href="#__codelineno-0-156">156</a></span>
<span class="normal"><a href="#__codelineno-0-157">157</a></span>
<span class="normal"><a href="#__codelineno-0-158">158</a></span>
<span class="normal"><a href="#__codelineno-0-159">159</a></span>
<span class="normal"><a href="#__codelineno-0-160">160</a></span>
<span class="normal"><a href="#__codelineno-0-161">161</a></span>
<span class="normal"><a href="#__codelineno-0-162">162</a></span>
<span class="normal"><a href="#__codelineno-0-163">163</a></span>
<span class="normal"><a href="#__codelineno-0-164">164</a></span>
<span class="normal"><a href="#__codelineno-0-165">165</a></span>
<span class="normal"><a href="#__codelineno-0-166">166</a></span>
<span class="normal"><a href="#__codelineno-0-167">167</a></span>
<span class="normal"><a href="#__codelineno-0-168">168</a></span>
<span class="normal"><a href="#__codelineno-0-169">169</a></span>
<span class="normal"><a href="#__codelineno-0-170">170</a></span>
<span class="normal"><a href="#__codelineno-0-171">171</a></span>
<span class="normal"><a href="#__codelineno-0-172">172</a></span>
<span class="normal"><a href="#__codelineno-0-173">173</a></span>
<span class="normal"><a href="#__codelineno-0-174">174</a></span>
<span class="normal"><a href="#__codelineno-0-175">175</a></span>
<span class="normal"><a href="#__codelineno-0-176">176</a></span>
<span class="normal"><a href="#__codelineno-0-177">177</a></span>
<span class="normal"><a href="#__codelineno-0-178">178</a></span>
<span class="normal"><a href="#__codelineno-0-179">179</a></span>
<span class="normal"><a href="#__codelineno-0-180">180</a></span>
<span class="normal"><a href="#__codelineno-0-181">181</a></span>
<span class="normal"><a href="#__codelineno-0-182">182</a></span>
<span class="normal"><a href="#__codelineno-0-183">183</a></span>
<span class="normal"><a href="#__codelineno-0-184">184</a></span>
<span class="normal"><a href="#__codelineno-0-185">185</a></span>
<span class="normal"><a href="#__codelineno-0-186">186</a></span>
<span class="normal"><a href="#__codelineno-0-187">187</a></span>
<span class="normal"><a href="#__codelineno-0-188">188</a></span>
<span class="normal"><a href="#__codelineno-0-189">189</a></span>
<span class="normal"><a href="#__codelineno-0-190">190</a></span>
<span class="normal"><a href="#__codelineno-0-191">191</a></span>
<span class="normal"><a href="#__codelineno-0-192">192</a></span>
<span class="normal"><a href="#__codelineno-0-193">193</a></span>
<span class="normal"><a href="#__codelineno-0-194">194</a></span>
<span class="normal"><a href="#__codelineno-0-195">195</a></span>
<span class="normal"><a href="#__codelineno-0-196">196</a></span>
<span class="normal"><a href="#__codelineno-0-197">197</a></span>
<span class="normal"><a href="#__codelineno-0-198">198</a></span>
<span class="normal"><a href="#__codelineno-0-199">199</a></span>
<span class="normal"><a href="#__codelineno-0-200">200</a></span>
<span class="normal"><a href="#__codelineno-0-201">201</a></span>
<span class="normal"><a href="#__codelineno-0-202">202</a></span>
<span class="normal"><a href="#__codelineno-0-203">203</a></span>
<span class="normal"><a href="#__codelineno-0-204">204</a></span>
<span class="normal"><a href="#__codelineno-0-205">205</a></span>
<span class="normal"><a href="#__codelineno-0-206">206</a></span>
<span class="normal"><a href="#__codelineno-0-207">207</a></span>
<span class="normal"><a href="#__codelineno-0-208">208</a></span>
<span class="normal"><a href="#__codelineno-0-209">209</a></span>
<span class="normal"><a href="#__codelineno-0-210">210</a></span>
<span class="normal"><a href="#__codelineno-0-211">211</a></span>
<span class="normal"><a href="#__codelineno-0-212">212</a></span>
<span class="normal"><a href="#__codelineno-0-213">213</a></span>
<span class="normal"><a href="#__codelineno-0-214">214</a></span>
<span class="normal"><a href="#__codelineno-0-215">215</a></span>
<span class="normal"><a href="#__codelineno-0-216">216</a></span>
<span class="normal"><a href="#__codelineno-0-217">217</a></span>
<span class="normal"><a href="#__codelineno-0-218">218</a></span>
<span class="normal"><a href="#__codelineno-0-219">219</a></span>
<span class="normal"><a href="#__codelineno-0-220">220</a></span>
<span class="normal"><a href="#__codelineno-0-221">221</a></span>
<span class="normal"><a href="#__codelineno-0-222">222</a></span>
<span class="normal"><a href="#__codelineno-0-223">223</a></span>
<span class="normal"><a href="#__codelineno-0-224">224</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-147" name="__codelineno-0-147"></a><span class="nd">@staticmethod</span>
<a id="__codelineno-0-148" name="__codelineno-0-148"></a><span class="k">def</span> <span class="nf">check_dom_element</span><span class="p">(</span>
<a id="__codelineno-0-149" name="__codelineno-0-149"></a>    <span class="n">django_testcase</span><span class="p">:</span> <span class="n">django</span><span class="o">.</span><span class="n">test</span><span class="o">.</span><span class="n">TestCase</span><span class="p">,</span>
<a id="__codelineno-0-150" name="__codelineno-0-150"></a>    <span class="n">response</span><span class="p">:</span> <span class="n">django</span><span class="o">.</span><span class="n">http</span><span class="o">.</span><span class="n">HttpResponse</span><span class="p">,</span>
<a id="__codelineno-0-151" name="__codelineno-0-151"></a>    <span class="n">args</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="n">scenery</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">DomArgument</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
<a id="__codelineno-0-152" name="__codelineno-0-152"></a><span class="p">):</span>
<a id="__codelineno-0-153" name="__codelineno-0-153"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-154" name="__codelineno-0-154"></a><span class="sd">    Check for the presence and properties of DOM elements in the response content.</span>
<a id="__codelineno-0-155" name="__codelineno-0-155"></a>
<a id="__codelineno-0-156" name="__codelineno-0-156"></a><span class="sd">    This method uses BeautifulSoup to parse the response content and perform various</span>
<a id="__codelineno-0-157" name="__codelineno-0-157"></a><span class="sd">    checks on DOM elements as specified in the args dictionary.</span>
<a id="__codelineno-0-158" name="__codelineno-0-158"></a>
<a id="__codelineno-0-159" name="__codelineno-0-159"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-160" name="__codelineno-0-160"></a><span class="sd">        django_testcase (django.test.TestCase): The Django test case instance.</span>
<a id="__codelineno-0-161" name="__codelineno-0-161"></a><span class="sd">        response (django.http.HttpResponse): The HTTP response to check.</span>
<a id="__codelineno-0-162" name="__codelineno-0-162"></a><span class="sd">        args (dict): A dictionary of DomArgument keys and their corresponding values,</span>
<a id="__codelineno-0-163" name="__codelineno-0-163"></a><span class="sd">                     specifying the checks to perform.</span>
<a id="__codelineno-0-164" name="__codelineno-0-164"></a>
<a id="__codelineno-0-165" name="__codelineno-0-165"></a><span class="sd">    Raises:</span>
<a id="__codelineno-0-166" name="__codelineno-0-166"></a><span class="sd">        ValueError: If neither &#39;find&#39; nor &#39;find_all&#39; arguments are provided in args.</span>
<a id="__codelineno-0-167" name="__codelineno-0-167"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-168" name="__codelineno-0-168"></a>
<a id="__codelineno-0-169" name="__codelineno-0-169"></a>    <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="s2">&quot;html.parser&quot;</span><span class="p">)</span>
<a id="__codelineno-0-170" name="__codelineno-0-170"></a>
<a id="__codelineno-0-171" name="__codelineno-0-171"></a>    <span class="c1"># Apply the scope</span>
<a id="__codelineno-0-172" name="__codelineno-0-172"></a>    <span class="k">if</span> <span class="n">scope</span> <span class="o">:=</span> <span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">scenery</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">DomArgument</span><span class="o">.</span><span class="n">SCOPE</span><span class="p">):</span>
<a id="__codelineno-0-173" name="__codelineno-0-173"></a>        <span class="n">soup</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="o">**</span><span class="n">scope</span><span class="p">)</span>
<a id="__codelineno-0-174" name="__codelineno-0-174"></a>
<a id="__codelineno-0-175" name="__codelineno-0-175"></a>    <span class="c1"># Locate the element(s)</span>
<a id="__codelineno-0-176" name="__codelineno-0-176"></a>    <span class="c1"># If find_all is provided, the checks are performed on ALL elements</span>
<a id="__codelineno-0-177" name="__codelineno-0-177"></a>    <span class="c1"># If find is provided we enforce the result to be la list</span>
<a id="__codelineno-0-178" name="__codelineno-0-178"></a>    <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">scenery</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">DomArgument</span><span class="o">.</span><span class="n">FIND_ALL</span><span class="p">):</span>
<a id="__codelineno-0-179" name="__codelineno-0-179"></a>        <span class="n">dom_elements</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="o">**</span><span class="n">args</span><span class="p">[</span><span class="n">scenery</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">DomArgument</span><span class="o">.</span><span class="n">FIND_ALL</span><span class="p">])</span>
<a id="__codelineno-0-180" name="__codelineno-0-180"></a>        <span class="n">django_testcase</span><span class="o">.</span><span class="n">assertGreaterEqual</span><span class="p">(</span>
<a id="__codelineno-0-181" name="__codelineno-0-181"></a>            <span class="nb">len</span><span class="p">(</span><span class="n">dom_elements</span><span class="p">),</span>
<a id="__codelineno-0-182" name="__codelineno-0-182"></a>            <span class="mi">1</span><span class="p">,</span>
<a id="__codelineno-0-183" name="__codelineno-0-183"></a>            <span class="sa">f</span><span class="s2">&quot;Expected to find at least one element matching </span><span class="si">{</span><span class="n">args</span><span class="p">[</span><span class="n">scenery</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">DomArgument</span><span class="o">.</span><span class="n">FIND_ALL</span><span class="p">]</span><span class="si">}</span><span class="s2">, but found none&quot;</span><span class="p">,</span>
<a id="__codelineno-0-184" name="__codelineno-0-184"></a>        <span class="p">)</span>
<a id="__codelineno-0-185" name="__codelineno-0-185"></a>    <span class="k">elif</span> <span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">scenery</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">DomArgument</span><span class="o">.</span><span class="n">FIND</span><span class="p">):</span>
<a id="__codelineno-0-186" name="__codelineno-0-186"></a>        <span class="n">dom_element</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="o">**</span><span class="n">args</span><span class="p">[</span><span class="n">scenery</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">DomArgument</span><span class="o">.</span><span class="n">FIND</span><span class="p">])</span>
<a id="__codelineno-0-187" name="__codelineno-0-187"></a>        <span class="n">django_testcase</span><span class="o">.</span><span class="n">assertIsNotNone</span><span class="p">(</span>
<a id="__codelineno-0-188" name="__codelineno-0-188"></a>            <span class="n">dom_element</span><span class="p">,</span>
<a id="__codelineno-0-189" name="__codelineno-0-189"></a>            <span class="sa">f</span><span class="s2">&quot;Expected to find an element matching </span><span class="si">{</span><span class="n">args</span><span class="p">[</span><span class="n">scenery</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">DomArgument</span><span class="o">.</span><span class="n">FIND</span><span class="p">]</span><span class="si">}</span><span class="s2">, but found none&quot;</span><span class="p">,</span>
<a id="__codelineno-0-190" name="__codelineno-0-190"></a>        <span class="p">)</span>
<a id="__codelineno-0-191" name="__codelineno-0-191"></a>        <span class="n">dom_elements</span> <span class="o">=</span> <span class="p">[</span><span class="n">dom_element</span><span class="p">]</span>
<a id="__codelineno-0-192" name="__codelineno-0-192"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-193" name="__codelineno-0-193"></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Neither find of find_all argument provided&quot;</span><span class="p">)</span>
<a id="__codelineno-0-194" name="__codelineno-0-194"></a>
<a id="__codelineno-0-195" name="__codelineno-0-195"></a>    <span class="c1"># Perform the additional checks</span>
<a id="__codelineno-0-196" name="__codelineno-0-196"></a>    <span class="k">if</span> <span class="n">count</span> <span class="o">:=</span> <span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">scenery</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">DomArgument</span><span class="o">.</span><span class="n">COUNT</span><span class="p">):</span>
<a id="__codelineno-0-197" name="__codelineno-0-197"></a>        <span class="n">django_testcase</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
<a id="__codelineno-0-198" name="__codelineno-0-198"></a>            <span class="nb">len</span><span class="p">(</span><span class="n">dom_elements</span><span class="p">),</span>
<a id="__codelineno-0-199" name="__codelineno-0-199"></a>            <span class="n">count</span><span class="p">,</span>
<a id="__codelineno-0-200" name="__codelineno-0-200"></a>            <span class="sa">f</span><span class="s2">&quot;Expected to find </span><span class="si">{</span><span class="n">count</span><span class="si">}</span><span class="s2"> elements, but found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">dom_elements</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
<a id="__codelineno-0-201" name="__codelineno-0-201"></a>        <span class="p">)</span>
<a id="__codelineno-0-202" name="__codelineno-0-202"></a>    <span class="k">for</span> <span class="n">dom_element</span> <span class="ow">in</span> <span class="n">dom_elements</span><span class="p">:</span>
<a id="__codelineno-0-203" name="__codelineno-0-203"></a>        <span class="k">if</span> <span class="n">text</span> <span class="o">:=</span> <span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">scenery</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">DomArgument</span><span class="o">.</span><span class="n">TEXT</span><span class="p">):</span>
<a id="__codelineno-0-204" name="__codelineno-0-204"></a>            <span class="n">django_testcase</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
<a id="__codelineno-0-205" name="__codelineno-0-205"></a>                <span class="n">dom_element</span><span class="o">.</span><span class="n">text</span><span class="p">,</span>
<a id="__codelineno-0-206" name="__codelineno-0-206"></a>                <span class="n">text</span><span class="p">,</span>
<a id="__codelineno-0-207" name="__codelineno-0-207"></a>                <span class="sa">f</span><span class="s2">&quot;Expected element text to be &#39;</span><span class="si">{</span><span class="n">text</span><span class="si">}</span><span class="s2">&#39;, but got &#39;</span><span class="si">{</span><span class="n">dom_element</span><span class="o">.</span><span class="n">text</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">,</span>
<a id="__codelineno-0-208" name="__codelineno-0-208"></a>            <span class="p">)</span>
<a id="__codelineno-0-209" name="__codelineno-0-209"></a>        <span class="k">if</span> <span class="n">attribute</span> <span class="o">:=</span> <span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">scenery</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">DomArgument</span><span class="o">.</span><span class="n">ATTRIBUTE</span><span class="p">):</span>
<a id="__codelineno-0-210" name="__codelineno-0-210"></a>            <span class="c1"># TODO: should this move to manifest parser? we will decide in v2</span>
<a id="__codelineno-0-211" name="__codelineno-0-211"></a>            <span class="k">match</span> <span class="n">attribute</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">]:</span>
<a id="__codelineno-0-212" name="__codelineno-0-212"></a>                <span class="k">case</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="o">|</span> <span class="nb">list</span><span class="p">(</span><span class="n">v</span><span class="p">):</span>
<a id="__codelineno-0-213" name="__codelineno-0-213"></a>                    <span class="k">pass</span>
<a id="__codelineno-0-214" name="__codelineno-0-214"></a>                <span class="k">case</span> <span class="nb">int</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
<a id="__codelineno-0-215" name="__codelineno-0-215"></a>                    <span class="n">attribute</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<a id="__codelineno-0-216" name="__codelineno-0-216"></a>                <span class="k">case</span> <span class="n">x</span><span class="p">:</span>
<a id="__codelineno-0-217" name="__codelineno-0-217"></a>                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
<a id="__codelineno-0-218" name="__codelineno-0-218"></a>                        <span class="sa">f</span><span class="s2">&quot;attribute value can only by `str` or `list[str]` not &#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
<a id="__codelineno-0-219" name="__codelineno-0-219"></a>                    <span class="p">)</span>
<a id="__codelineno-0-220" name="__codelineno-0-220"></a>            <span class="n">django_testcase</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
<a id="__codelineno-0-221" name="__codelineno-0-221"></a>                <span class="n">dom_element</span><span class="p">[</span><span class="n">attribute</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]],</span>
<a id="__codelineno-0-222" name="__codelineno-0-222"></a>                <span class="n">attribute</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">],</span>
<a id="__codelineno-0-223" name="__codelineno-0-223"></a>                <span class="sa">f</span><span class="s2">&quot;Expected attribute &#39;</span><span class="si">{</span><span class="n">attribute</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&#39; to have value &#39;</span><span class="si">{</span><span class="n">attribute</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&#39;, but got &#39;</span><span class="si">{</span><span class="n">dom_element</span><span class="p">[</span><span class="n">attribute</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]]</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">,</span>
<a id="__codelineno-0-224" name="__codelineno-0-224"></a>            <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="scenery.http_checker.HttpChecker.check_redirect_url" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">check_redirect_url</span><span class="p">(</span><span class="n">django_testcase</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Check if the response redirect URL matches the expected URL.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>django_testcase</code>
            </td>
            <td>
                  <code><span title="django.test.TestCase">TestCase</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The Django test case instance.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>response</code>
            </td>
            <td>
                  <code><span title="django.http.HttpResponseRedirect">HttpResponseRedirect</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The HTTP redirect response to check.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>args</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The expected redirect URL.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>scenery/http_checker.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-106">106</a></span>
<span class="normal"><a href="#__codelineno-0-107">107</a></span>
<span class="normal"><a href="#__codelineno-0-108">108</a></span>
<span class="normal"><a href="#__codelineno-0-109">109</a></span>
<span class="normal"><a href="#__codelineno-0-110">110</a></span>
<span class="normal"><a href="#__codelineno-0-111">111</a></span>
<span class="normal"><a href="#__codelineno-0-112">112</a></span>
<span class="normal"><a href="#__codelineno-0-113">113</a></span>
<span class="normal"><a href="#__codelineno-0-114">114</a></span>
<span class="normal"><a href="#__codelineno-0-115">115</a></span>
<span class="normal"><a href="#__codelineno-0-116">116</a></span>
<span class="normal"><a href="#__codelineno-0-117">117</a></span>
<span class="normal"><a href="#__codelineno-0-118">118</a></span>
<span class="normal"><a href="#__codelineno-0-119">119</a></span>
<span class="normal"><a href="#__codelineno-0-120">120</a></span>
<span class="normal"><a href="#__codelineno-0-121">121</a></span>
<span class="normal"><a href="#__codelineno-0-122">122</a></span>
<span class="normal"><a href="#__codelineno-0-123">123</a></span>
<span class="normal"><a href="#__codelineno-0-124">124</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-106" name="__codelineno-0-106"></a><span class="nd">@staticmethod</span>
<a id="__codelineno-0-107" name="__codelineno-0-107"></a><span class="k">def</span> <span class="nf">check_redirect_url</span><span class="p">(</span>
<a id="__codelineno-0-108" name="__codelineno-0-108"></a>    <span class="n">django_testcase</span><span class="p">:</span> <span class="n">django</span><span class="o">.</span><span class="n">test</span><span class="o">.</span><span class="n">TestCase</span><span class="p">,</span>
<a id="__codelineno-0-109" name="__codelineno-0-109"></a>    <span class="n">response</span><span class="p">:</span> <span class="n">django</span><span class="o">.</span><span class="n">http</span><span class="o">.</span><span class="n">HttpResponseRedirect</span><span class="p">,</span>
<a id="__codelineno-0-110" name="__codelineno-0-110"></a>    <span class="n">args</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<a id="__codelineno-0-111" name="__codelineno-0-111"></a><span class="p">):</span>
<a id="__codelineno-0-112" name="__codelineno-0-112"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-113" name="__codelineno-0-113"></a><span class="sd">    Check if the response redirect URL matches the expected URL.</span>
<a id="__codelineno-0-114" name="__codelineno-0-114"></a>
<a id="__codelineno-0-115" name="__codelineno-0-115"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-116" name="__codelineno-0-116"></a><span class="sd">        django_testcase (django.test.TestCase): The Django test case instance.</span>
<a id="__codelineno-0-117" name="__codelineno-0-117"></a><span class="sd">        response (django.http.HttpResponseRedirect): The HTTP redirect response to check.</span>
<a id="__codelineno-0-118" name="__codelineno-0-118"></a><span class="sd">        args (str): The expected redirect URL.</span>
<a id="__codelineno-0-119" name="__codelineno-0-119"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-120" name="__codelineno-0-120"></a>    <span class="n">django_testcase</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
<a id="__codelineno-0-121" name="__codelineno-0-121"></a>        <span class="n">response</span><span class="o">.</span><span class="n">url</span><span class="p">,</span>
<a id="__codelineno-0-122" name="__codelineno-0-122"></a>        <span class="n">args</span><span class="p">,</span>
<a id="__codelineno-0-123" name="__codelineno-0-123"></a>        <span class="sa">f</span><span class="s2">&quot;Expected redirect URL &#39;</span><span class="si">{</span><span class="n">args</span><span class="si">}</span><span class="s2">&#39;, but got &#39;</span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">url</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">,</span>
<a id="__codelineno-0-124" name="__codelineno-0-124"></a>    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="scenery.http_checker.HttpChecker.check_status_code" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">check_status_code</span><span class="p">(</span><span class="n">django_testcase</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Check if the response status code matches the expected code.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>django_testcase</code>
            </td>
            <td>
                  <code><span title="django.test.TestCase">TestCase</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The Django test case instance.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>response</code>
            </td>
            <td>
                  <code><span title="django.http.HttpResponse">HttpResponse</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The HTTP response to check.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>args</code>
            </td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The expected status code.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>scenery/http_checker.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-86"> 86</a></span>
<span class="normal"><a href="#__codelineno-0-87"> 87</a></span>
<span class="normal"><a href="#__codelineno-0-88"> 88</a></span>
<span class="normal"><a href="#__codelineno-0-89"> 89</a></span>
<span class="normal"><a href="#__codelineno-0-90"> 90</a></span>
<span class="normal"><a href="#__codelineno-0-91"> 91</a></span>
<span class="normal"><a href="#__codelineno-0-92"> 92</a></span>
<span class="normal"><a href="#__codelineno-0-93"> 93</a></span>
<span class="normal"><a href="#__codelineno-0-94"> 94</a></span>
<span class="normal"><a href="#__codelineno-0-95"> 95</a></span>
<span class="normal"><a href="#__codelineno-0-96"> 96</a></span>
<span class="normal"><a href="#__codelineno-0-97"> 97</a></span>
<span class="normal"><a href="#__codelineno-0-98"> 98</a></span>
<span class="normal"><a href="#__codelineno-0-99"> 99</a></span>
<span class="normal"><a href="#__codelineno-0-100">100</a></span>
<span class="normal"><a href="#__codelineno-0-101">101</a></span>
<span class="normal"><a href="#__codelineno-0-102">102</a></span>
<span class="normal"><a href="#__codelineno-0-103">103</a></span>
<span class="normal"><a href="#__codelineno-0-104">104</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-86" name="__codelineno-0-86"></a><span class="nd">@staticmethod</span>
<a id="__codelineno-0-87" name="__codelineno-0-87"></a><span class="k">def</span> <span class="nf">check_status_code</span><span class="p">(</span>
<a id="__codelineno-0-88" name="__codelineno-0-88"></a>    <span class="n">django_testcase</span><span class="p">:</span> <span class="n">django</span><span class="o">.</span><span class="n">test</span><span class="o">.</span><span class="n">TestCase</span><span class="p">,</span>
<a id="__codelineno-0-89" name="__codelineno-0-89"></a>    <span class="n">response</span><span class="p">:</span> <span class="n">django</span><span class="o">.</span><span class="n">http</span><span class="o">.</span><span class="n">HttpResponse</span><span class="p">,</span>
<a id="__codelineno-0-90" name="__codelineno-0-90"></a>    <span class="n">args</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
<a id="__codelineno-0-91" name="__codelineno-0-91"></a><span class="p">):</span>
<a id="__codelineno-0-92" name="__codelineno-0-92"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-93" name="__codelineno-0-93"></a><span class="sd">    Check if the response status code matches the expected code.</span>
<a id="__codelineno-0-94" name="__codelineno-0-94"></a>
<a id="__codelineno-0-95" name="__codelineno-0-95"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-96" name="__codelineno-0-96"></a><span class="sd">        django_testcase (django.test.TestCase): The Django test case instance.</span>
<a id="__codelineno-0-97" name="__codelineno-0-97"></a><span class="sd">        response (django.http.HttpResponse): The HTTP response to check.</span>
<a id="__codelineno-0-98" name="__codelineno-0-98"></a><span class="sd">        args (int): The expected status code.</span>
<a id="__codelineno-0-99" name="__codelineno-0-99"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-100" name="__codelineno-0-100"></a>    <span class="n">django_testcase</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
<a id="__codelineno-0-101" name="__codelineno-0-101"></a>        <span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span>
<a id="__codelineno-0-102" name="__codelineno-0-102"></a>        <span class="n">args</span><span class="p">,</span>
<a id="__codelineno-0-103" name="__codelineno-0-103"></a>        <span class="sa">f</span><span class="s2">&quot;Expected status code </span><span class="si">{</span><span class="n">args</span><span class="si">}</span><span class="s2">, but got </span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
<a id="__codelineno-0-104" name="__codelineno-0-104"></a>    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="scenery.http_checker.HttpChecker.exec_check" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">exec_check</span><span class="p">(</span><span class="n">django_testcase</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">check</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Execute a specific check on an HTTP response.</p>
<p>This method delegates to the appropriate check method based on the instruction
specified in the HttpCheck object.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>django_testcase</code>
            </td>
            <td>
                  <code><span title="django.test.TestCase">TestCase</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The Django test case instance.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>response</code>
            </td>
            <td>
                  <code><span title="django.http.HttpResponse">HttpResponse</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The HTTP response to check.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>check</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="scenery.manifest.HttpCheck" href="#scenery.manifest.HttpCheck">HttpCheck</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The check to perform on the response.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>NotImplementedError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the check instruction is not implemented.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>scenery/http_checker.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-54">54</a></span>
<span class="normal"><a href="#__codelineno-0-55">55</a></span>
<span class="normal"><a href="#__codelineno-0-56">56</a></span>
<span class="normal"><a href="#__codelineno-0-57">57</a></span>
<span class="normal"><a href="#__codelineno-0-58">58</a></span>
<span class="normal"><a href="#__codelineno-0-59">59</a></span>
<span class="normal"><a href="#__codelineno-0-60">60</a></span>
<span class="normal"><a href="#__codelineno-0-61">61</a></span>
<span class="normal"><a href="#__codelineno-0-62">62</a></span>
<span class="normal"><a href="#__codelineno-0-63">63</a></span>
<span class="normal"><a href="#__codelineno-0-64">64</a></span>
<span class="normal"><a href="#__codelineno-0-65">65</a></span>
<span class="normal"><a href="#__codelineno-0-66">66</a></span>
<span class="normal"><a href="#__codelineno-0-67">67</a></span>
<span class="normal"><a href="#__codelineno-0-68">68</a></span>
<span class="normal"><a href="#__codelineno-0-69">69</a></span>
<span class="normal"><a href="#__codelineno-0-70">70</a></span>
<span class="normal"><a href="#__codelineno-0-71">71</a></span>
<span class="normal"><a href="#__codelineno-0-72">72</a></span>
<span class="normal"><a href="#__codelineno-0-73">73</a></span>
<span class="normal"><a href="#__codelineno-0-74">74</a></span>
<span class="normal"><a href="#__codelineno-0-75">75</a></span>
<span class="normal"><a href="#__codelineno-0-76">76</a></span>
<span class="normal"><a href="#__codelineno-0-77">77</a></span>
<span class="normal"><a href="#__codelineno-0-78">78</a></span>
<span class="normal"><a href="#__codelineno-0-79">79</a></span>
<span class="normal"><a href="#__codelineno-0-80">80</a></span>
<span class="normal"><a href="#__codelineno-0-81">81</a></span>
<span class="normal"><a href="#__codelineno-0-82">82</a></span>
<span class="normal"><a href="#__codelineno-0-83">83</a></span>
<span class="normal"><a href="#__codelineno-0-84">84</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-54" name="__codelineno-0-54"></a><span class="nd">@staticmethod</span>
<a id="__codelineno-0-55" name="__codelineno-0-55"></a><span class="k">def</span> <span class="nf">exec_check</span><span class="p">(</span>
<a id="__codelineno-0-56" name="__codelineno-0-56"></a>    <span class="n">django_testcase</span><span class="p">:</span> <span class="n">django</span><span class="o">.</span><span class="n">test</span><span class="o">.</span><span class="n">TestCase</span><span class="p">,</span>
<a id="__codelineno-0-57" name="__codelineno-0-57"></a>    <span class="n">response</span><span class="p">:</span> <span class="n">django</span><span class="o">.</span><span class="n">http</span><span class="o">.</span><span class="n">HttpResponse</span><span class="p">,</span>
<a id="__codelineno-0-58" name="__codelineno-0-58"></a>    <span class="n">check</span><span class="p">:</span> <span class="n">scenery</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">HttpCheck</span><span class="p">,</span>
<a id="__codelineno-0-59" name="__codelineno-0-59"></a><span class="p">):</span>
<a id="__codelineno-0-60" name="__codelineno-0-60"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-61" name="__codelineno-0-61"></a><span class="sd">    Execute a specific check on an HTTP response.</span>
<a id="__codelineno-0-62" name="__codelineno-0-62"></a>
<a id="__codelineno-0-63" name="__codelineno-0-63"></a><span class="sd">    This method delegates to the appropriate check method based on the instruction</span>
<a id="__codelineno-0-64" name="__codelineno-0-64"></a><span class="sd">    specified in the HttpCheck object.</span>
<a id="__codelineno-0-65" name="__codelineno-0-65"></a>
<a id="__codelineno-0-66" name="__codelineno-0-66"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-67" name="__codelineno-0-67"></a><span class="sd">        django_testcase (django.test.TestCase): The Django test case instance.</span>
<a id="__codelineno-0-68" name="__codelineno-0-68"></a><span class="sd">        response (django.http.HttpResponse): The HTTP response to check.</span>
<a id="__codelineno-0-69" name="__codelineno-0-69"></a><span class="sd">        check (scenery.manifest.HttpCheck): The check to perform on the response.</span>
<a id="__codelineno-0-70" name="__codelineno-0-70"></a>
<a id="__codelineno-0-71" name="__codelineno-0-71"></a><span class="sd">    Raises:</span>
<a id="__codelineno-0-72" name="__codelineno-0-72"></a><span class="sd">        NotImplementedError: If the check instruction is not implemented.</span>
<a id="__codelineno-0-73" name="__codelineno-0-73"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-74" name="__codelineno-0-74"></a>    <span class="k">match</span> <span class="n">check</span><span class="o">.</span><span class="n">instruction</span><span class="p">:</span>
<a id="__codelineno-0-75" name="__codelineno-0-75"></a>        <span class="k">case</span> <span class="n">scenery</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">DirectiveCommand</span><span class="o">.</span><span class="n">STATUS_CODE</span><span class="p">:</span>
<a id="__codelineno-0-76" name="__codelineno-0-76"></a>            <span class="n">HttpChecker</span><span class="o">.</span><span class="n">check_status_code</span><span class="p">(</span><span class="n">django_testcase</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">check</span><span class="o">.</span><span class="n">args</span><span class="p">)</span>
<a id="__codelineno-0-77" name="__codelineno-0-77"></a>        <span class="k">case</span> <span class="n">scenery</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">DirectiveCommand</span><span class="o">.</span><span class="n">REDIRECT_URL</span><span class="p">:</span>
<a id="__codelineno-0-78" name="__codelineno-0-78"></a>            <span class="n">HttpChecker</span><span class="o">.</span><span class="n">check_redirect_url</span><span class="p">(</span><span class="n">django_testcase</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">check</span><span class="o">.</span><span class="n">args</span><span class="p">)</span>
<a id="__codelineno-0-79" name="__codelineno-0-79"></a>        <span class="k">case</span> <span class="n">scenery</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">DirectiveCommand</span><span class="o">.</span><span class="n">COUNT_INSTANCES</span><span class="p">:</span>
<a id="__codelineno-0-80" name="__codelineno-0-80"></a>            <span class="n">HttpChecker</span><span class="o">.</span><span class="n">check_count_instances</span><span class="p">(</span><span class="n">django_testcase</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">check</span><span class="o">.</span><span class="n">args</span><span class="p">)</span>
<a id="__codelineno-0-81" name="__codelineno-0-81"></a>        <span class="k">case</span> <span class="n">scenery</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">DirectiveCommand</span><span class="o">.</span><span class="n">DOM_ELEMENT</span><span class="p">:</span>
<a id="__codelineno-0-82" name="__codelineno-0-82"></a>            <span class="n">HttpChecker</span><span class="o">.</span><span class="n">check_dom_element</span><span class="p">(</span><span class="n">django_testcase</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">check</span><span class="o">.</span><span class="n">args</span><span class="p">)</span>
<a id="__codelineno-0-83" name="__codelineno-0-83"></a>        <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">:</span>
<a id="__codelineno-0-84" name="__codelineno-0-84"></a>            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="n">check</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="scenery.http_checker.HttpChecker.get_http_client_response" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_http_client_response</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">take</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Execute an HTTP request based on the given HttpTake object.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>client</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The Django test client to use for the request.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>take</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="scenery.manifest.HttpTake" href="#scenery.manifest.HttpTake">HttpTake</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The HttpTake object specifying the request details.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>django.http.HttpResponse: The response from the HTTP request.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>NotImplementedError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the HTTP method specified in the take is not implemented.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>scenery/http_checker.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-22">22</a></span>
<span class="normal"><a href="#__codelineno-0-23">23</a></span>
<span class="normal"><a href="#__codelineno-0-24">24</a></span>
<span class="normal"><a href="#__codelineno-0-25">25</a></span>
<span class="normal"><a href="#__codelineno-0-26">26</a></span>
<span class="normal"><a href="#__codelineno-0-27">27</a></span>
<span class="normal"><a href="#__codelineno-0-28">28</a></span>
<span class="normal"><a href="#__codelineno-0-29">29</a></span>
<span class="normal"><a href="#__codelineno-0-30">30</a></span>
<span class="normal"><a href="#__codelineno-0-31">31</a></span>
<span class="normal"><a href="#__codelineno-0-32">32</a></span>
<span class="normal"><a href="#__codelineno-0-33">33</a></span>
<span class="normal"><a href="#__codelineno-0-34">34</a></span>
<span class="normal"><a href="#__codelineno-0-35">35</a></span>
<span class="normal"><a href="#__codelineno-0-36">36</a></span>
<span class="normal"><a href="#__codelineno-0-37">37</a></span>
<span class="normal"><a href="#__codelineno-0-38">38</a></span>
<span class="normal"><a href="#__codelineno-0-39">39</a></span>
<span class="normal"><a href="#__codelineno-0-40">40</a></span>
<span class="normal"><a href="#__codelineno-0-41">41</a></span>
<span class="normal"><a href="#__codelineno-0-42">42</a></span>
<span class="normal"><a href="#__codelineno-0-43">43</a></span>
<span class="normal"><a href="#__codelineno-0-44">44</a></span>
<span class="normal"><a href="#__codelineno-0-45">45</a></span>
<span class="normal"><a href="#__codelineno-0-46">46</a></span>
<span class="normal"><a href="#__codelineno-0-47">47</a></span>
<span class="normal"><a href="#__codelineno-0-48">48</a></span>
<span class="normal"><a href="#__codelineno-0-49">49</a></span>
<span class="normal"><a href="#__codelineno-0-50">50</a></span>
<span class="normal"><a href="#__codelineno-0-51">51</a></span>
<span class="normal"><a href="#__codelineno-0-52">52</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-22" name="__codelineno-0-22"></a><span class="nd">@staticmethod</span>
<a id="__codelineno-0-23" name="__codelineno-0-23"></a><span class="k">def</span> <span class="nf">get_http_client_response</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">take</span><span class="p">:</span> <span class="n">scenery</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">HttpTake</span><span class="p">):</span>
<a id="__codelineno-0-24" name="__codelineno-0-24"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-25" name="__codelineno-0-25"></a><span class="sd">    Execute an HTTP request based on the given HttpTake object.</span>
<a id="__codelineno-0-26" name="__codelineno-0-26"></a>
<a id="__codelineno-0-27" name="__codelineno-0-27"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-28" name="__codelineno-0-28"></a><span class="sd">        client: The Django test client to use for the request.</span>
<a id="__codelineno-0-29" name="__codelineno-0-29"></a><span class="sd">        take (scenery.manifest.HttpTake): The HttpTake object specifying the request details.</span>
<a id="__codelineno-0-30" name="__codelineno-0-30"></a>
<a id="__codelineno-0-31" name="__codelineno-0-31"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-32" name="__codelineno-0-32"></a><span class="sd">        django.http.HttpResponse: The response from the HTTP request.</span>
<a id="__codelineno-0-33" name="__codelineno-0-33"></a>
<a id="__codelineno-0-34" name="__codelineno-0-34"></a><span class="sd">    Raises:</span>
<a id="__codelineno-0-35" name="__codelineno-0-35"></a><span class="sd">        NotImplementedError: If the HTTP method specified in the take is not implemented.</span>
<a id="__codelineno-0-36" name="__codelineno-0-36"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-37" name="__codelineno-0-37"></a>
<a id="__codelineno-0-38" name="__codelineno-0-38"></a>    <span class="k">match</span> <span class="n">take</span><span class="o">.</span><span class="n">method</span><span class="p">:</span>
<a id="__codelineno-0-39" name="__codelineno-0-39"></a>        <span class="k">case</span> <span class="n">http</span><span class="o">.</span><span class="n">HTTPMethod</span><span class="o">.</span><span class="n">GET</span><span class="p">:</span>
<a id="__codelineno-0-40" name="__codelineno-0-40"></a>            <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
<a id="__codelineno-0-41" name="__codelineno-0-41"></a>                <span class="n">take</span><span class="o">.</span><span class="n">url</span><span class="p">,</span>
<a id="__codelineno-0-42" name="__codelineno-0-42"></a>                <span class="n">take</span><span class="o">.</span><span class="n">data</span><span class="p">,</span>
<a id="__codelineno-0-43" name="__codelineno-0-43"></a>            <span class="p">)</span>
<a id="__codelineno-0-44" name="__codelineno-0-44"></a>        <span class="k">case</span> <span class="n">http</span><span class="o">.</span><span class="n">HTTPMethod</span><span class="o">.</span><span class="n">POST</span><span class="p">:</span>
<a id="__codelineno-0-45" name="__codelineno-0-45"></a>            <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
<a id="__codelineno-0-46" name="__codelineno-0-46"></a>                <span class="n">take</span><span class="o">.</span><span class="n">url</span><span class="p">,</span>
<a id="__codelineno-0-47" name="__codelineno-0-47"></a>                <span class="n">take</span><span class="o">.</span><span class="n">data</span><span class="p">,</span>
<a id="__codelineno-0-48" name="__codelineno-0-48"></a>            <span class="p">)</span>
<a id="__codelineno-0-49" name="__codelineno-0-49"></a>        <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">:</span>
<a id="__codelineno-0-50" name="__codelineno-0-50"></a>            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="n">take</span><span class="o">.</span><span class="n">method</span><span class="p">)</span>
<a id="__codelineno-0-51" name="__codelineno-0-51"></a>
<a id="__codelineno-0-52" name="__codelineno-0-52"></a>    <span class="k">return</span> <span class="n">response</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div><h2 id="manifest-parser">Manifest Parser</h2>


<div class="doc doc-object doc-module">



<a id="scenery.manifest_parser"></a>
    <div class="doc doc-contents first">








  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="scenery.manifest_parser.ManifestParser" class="doc doc-heading">
            <code>ManifestParser</code>


</h2>


    <div class="doc doc-contents ">


        <p>A class responsible for parsing test manifest files in YAML format.</p>
<p>This class provides methods to validate, format, and parse manifest files
into Python objects that can be used by the testing framework.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="scenery.manifest_parser.ManifestParser.common_items">common_items</span></code></td>
            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Common items loaded from a YAML file specified by the SCENERY_COMMON_ITEMS environment variable.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>






              <details class="quote">
                <summary>Source code in <code>scenery/manifest_parser.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-10"> 10</a></span>
<span class="normal"><a href="#__codelineno-0-11"> 11</a></span>
<span class="normal"><a href="#__codelineno-0-12"> 12</a></span>
<span class="normal"><a href="#__codelineno-0-13"> 13</a></span>
<span class="normal"><a href="#__codelineno-0-14"> 14</a></span>
<span class="normal"><a href="#__codelineno-0-15"> 15</a></span>
<span class="normal"><a href="#__codelineno-0-16"> 16</a></span>
<span class="normal"><a href="#__codelineno-0-17"> 17</a></span>
<span class="normal"><a href="#__codelineno-0-18"> 18</a></span>
<span class="normal"><a href="#__codelineno-0-19"> 19</a></span>
<span class="normal"><a href="#__codelineno-0-20"> 20</a></span>
<span class="normal"><a href="#__codelineno-0-21"> 21</a></span>
<span class="normal"><a href="#__codelineno-0-22"> 22</a></span>
<span class="normal"><a href="#__codelineno-0-23"> 23</a></span>
<span class="normal"><a href="#__codelineno-0-24"> 24</a></span>
<span class="normal"><a href="#__codelineno-0-25"> 25</a></span>
<span class="normal"><a href="#__codelineno-0-26"> 26</a></span>
<span class="normal"><a href="#__codelineno-0-27"> 27</a></span>
<span class="normal"><a href="#__codelineno-0-28"> 28</a></span>
<span class="normal"><a href="#__codelineno-0-29"> 29</a></span>
<span class="normal"><a href="#__codelineno-0-30"> 30</a></span>
<span class="normal"><a href="#__codelineno-0-31"> 31</a></span>
<span class="normal"><a href="#__codelineno-0-32"> 32</a></span>
<span class="normal"><a href="#__codelineno-0-33"> 33</a></span>
<span class="normal"><a href="#__codelineno-0-34"> 34</a></span>
<span class="normal"><a href="#__codelineno-0-35"> 35</a></span>
<span class="normal"><a href="#__codelineno-0-36"> 36</a></span>
<span class="normal"><a href="#__codelineno-0-37"> 37</a></span>
<span class="normal"><a href="#__codelineno-0-38"> 38</a></span>
<span class="normal"><a href="#__codelineno-0-39"> 39</a></span>
<span class="normal"><a href="#__codelineno-0-40"> 40</a></span>
<span class="normal"><a href="#__codelineno-0-41"> 41</a></span>
<span class="normal"><a href="#__codelineno-0-42"> 42</a></span>
<span class="normal"><a href="#__codelineno-0-43"> 43</a></span>
<span class="normal"><a href="#__codelineno-0-44"> 44</a></span>
<span class="normal"><a href="#__codelineno-0-45"> 45</a></span>
<span class="normal"><a href="#__codelineno-0-46"> 46</a></span>
<span class="normal"><a href="#__codelineno-0-47"> 47</a></span>
<span class="normal"><a href="#__codelineno-0-48"> 48</a></span>
<span class="normal"><a href="#__codelineno-0-49"> 49</a></span>
<span class="normal"><a href="#__codelineno-0-50"> 50</a></span>
<span class="normal"><a href="#__codelineno-0-51"> 51</a></span>
<span class="normal"><a href="#__codelineno-0-52"> 52</a></span>
<span class="normal"><a href="#__codelineno-0-53"> 53</a></span>
<span class="normal"><a href="#__codelineno-0-54"> 54</a></span>
<span class="normal"><a href="#__codelineno-0-55"> 55</a></span>
<span class="normal"><a href="#__codelineno-0-56"> 56</a></span>
<span class="normal"><a href="#__codelineno-0-57"> 57</a></span>
<span class="normal"><a href="#__codelineno-0-58"> 58</a></span>
<span class="normal"><a href="#__codelineno-0-59"> 59</a></span>
<span class="normal"><a href="#__codelineno-0-60"> 60</a></span>
<span class="normal"><a href="#__codelineno-0-61"> 61</a></span>
<span class="normal"><a href="#__codelineno-0-62"> 62</a></span>
<span class="normal"><a href="#__codelineno-0-63"> 63</a></span>
<span class="normal"><a href="#__codelineno-0-64"> 64</a></span>
<span class="normal"><a href="#__codelineno-0-65"> 65</a></span>
<span class="normal"><a href="#__codelineno-0-66"> 66</a></span>
<span class="normal"><a href="#__codelineno-0-67"> 67</a></span>
<span class="normal"><a href="#__codelineno-0-68"> 68</a></span>
<span class="normal"><a href="#__codelineno-0-69"> 69</a></span>
<span class="normal"><a href="#__codelineno-0-70"> 70</a></span>
<span class="normal"><a href="#__codelineno-0-71"> 71</a></span>
<span class="normal"><a href="#__codelineno-0-72"> 72</a></span>
<span class="normal"><a href="#__codelineno-0-73"> 73</a></span>
<span class="normal"><a href="#__codelineno-0-74"> 74</a></span>
<span class="normal"><a href="#__codelineno-0-75"> 75</a></span>
<span class="normal"><a href="#__codelineno-0-76"> 76</a></span>
<span class="normal"><a href="#__codelineno-0-77"> 77</a></span>
<span class="normal"><a href="#__codelineno-0-78"> 78</a></span>
<span class="normal"><a href="#__codelineno-0-79"> 79</a></span>
<span class="normal"><a href="#__codelineno-0-80"> 80</a></span>
<span class="normal"><a href="#__codelineno-0-81"> 81</a></span>
<span class="normal"><a href="#__codelineno-0-82"> 82</a></span>
<span class="normal"><a href="#__codelineno-0-83"> 83</a></span>
<span class="normal"><a href="#__codelineno-0-84"> 84</a></span>
<span class="normal"><a href="#__codelineno-0-85"> 85</a></span>
<span class="normal"><a href="#__codelineno-0-86"> 86</a></span>
<span class="normal"><a href="#__codelineno-0-87"> 87</a></span>
<span class="normal"><a href="#__codelineno-0-88"> 88</a></span>
<span class="normal"><a href="#__codelineno-0-89"> 89</a></span>
<span class="normal"><a href="#__codelineno-0-90"> 90</a></span>
<span class="normal"><a href="#__codelineno-0-91"> 91</a></span>
<span class="normal"><a href="#__codelineno-0-92"> 92</a></span>
<span class="normal"><a href="#__codelineno-0-93"> 93</a></span>
<span class="normal"><a href="#__codelineno-0-94"> 94</a></span>
<span class="normal"><a href="#__codelineno-0-95"> 95</a></span>
<span class="normal"><a href="#__codelineno-0-96"> 96</a></span>
<span class="normal"><a href="#__codelineno-0-97"> 97</a></span>
<span class="normal"><a href="#__codelineno-0-98"> 98</a></span>
<span class="normal"><a href="#__codelineno-0-99"> 99</a></span>
<span class="normal"><a href="#__codelineno-0-100">100</a></span>
<span class="normal"><a href="#__codelineno-0-101">101</a></span>
<span class="normal"><a href="#__codelineno-0-102">102</a></span>
<span class="normal"><a href="#__codelineno-0-103">103</a></span>
<span class="normal"><a href="#__codelineno-0-104">104</a></span>
<span class="normal"><a href="#__codelineno-0-105">105</a></span>
<span class="normal"><a href="#__codelineno-0-106">106</a></span>
<span class="normal"><a href="#__codelineno-0-107">107</a></span>
<span class="normal"><a href="#__codelineno-0-108">108</a></span>
<span class="normal"><a href="#__codelineno-0-109">109</a></span>
<span class="normal"><a href="#__codelineno-0-110">110</a></span>
<span class="normal"><a href="#__codelineno-0-111">111</a></span>
<span class="normal"><a href="#__codelineno-0-112">112</a></span>
<span class="normal"><a href="#__codelineno-0-113">113</a></span>
<span class="normal"><a href="#__codelineno-0-114">114</a></span>
<span class="normal"><a href="#__codelineno-0-115">115</a></span>
<span class="normal"><a href="#__codelineno-0-116">116</a></span>
<span class="normal"><a href="#__codelineno-0-117">117</a></span>
<span class="normal"><a href="#__codelineno-0-118">118</a></span>
<span class="normal"><a href="#__codelineno-0-119">119</a></span>
<span class="normal"><a href="#__codelineno-0-120">120</a></span>
<span class="normal"><a href="#__codelineno-0-121">121</a></span>
<span class="normal"><a href="#__codelineno-0-122">122</a></span>
<span class="normal"><a href="#__codelineno-0-123">123</a></span>
<span class="normal"><a href="#__codelineno-0-124">124</a></span>
<span class="normal"><a href="#__codelineno-0-125">125</a></span>
<span class="normal"><a href="#__codelineno-0-126">126</a></span>
<span class="normal"><a href="#__codelineno-0-127">127</a></span>
<span class="normal"><a href="#__codelineno-0-128">128</a></span>
<span class="normal"><a href="#__codelineno-0-129">129</a></span>
<span class="normal"><a href="#__codelineno-0-130">130</a></span>
<span class="normal"><a href="#__codelineno-0-131">131</a></span>
<span class="normal"><a href="#__codelineno-0-132">132</a></span>
<span class="normal"><a href="#__codelineno-0-133">133</a></span>
<span class="normal"><a href="#__codelineno-0-134">134</a></span>
<span class="normal"><a href="#__codelineno-0-135">135</a></span>
<span class="normal"><a href="#__codelineno-0-136">136</a></span>
<span class="normal"><a href="#__codelineno-0-137">137</a></span>
<span class="normal"><a href="#__codelineno-0-138">138</a></span>
<span class="normal"><a href="#__codelineno-0-139">139</a></span>
<span class="normal"><a href="#__codelineno-0-140">140</a></span>
<span class="normal"><a href="#__codelineno-0-141">141</a></span>
<span class="normal"><a href="#__codelineno-0-142">142</a></span>
<span class="normal"><a href="#__codelineno-0-143">143</a></span>
<span class="normal"><a href="#__codelineno-0-144">144</a></span>
<span class="normal"><a href="#__codelineno-0-145">145</a></span>
<span class="normal"><a href="#__codelineno-0-146">146</a></span>
<span class="normal"><a href="#__codelineno-0-147">147</a></span>
<span class="normal"><a href="#__codelineno-0-148">148</a></span>
<span class="normal"><a href="#__codelineno-0-149">149</a></span>
<span class="normal"><a href="#__codelineno-0-150">150</a></span>
<span class="normal"><a href="#__codelineno-0-151">151</a></span>
<span class="normal"><a href="#__codelineno-0-152">152</a></span>
<span class="normal"><a href="#__codelineno-0-153">153</a></span>
<span class="normal"><a href="#__codelineno-0-154">154</a></span>
<span class="normal"><a href="#__codelineno-0-155">155</a></span>
<span class="normal"><a href="#__codelineno-0-156">156</a></span>
<span class="normal"><a href="#__codelineno-0-157">157</a></span>
<span class="normal"><a href="#__codelineno-0-158">158</a></span>
<span class="normal"><a href="#__codelineno-0-159">159</a></span>
<span class="normal"><a href="#__codelineno-0-160">160</a></span>
<span class="normal"><a href="#__codelineno-0-161">161</a></span>
<span class="normal"><a href="#__codelineno-0-162">162</a></span>
<span class="normal"><a href="#__codelineno-0-163">163</a></span>
<span class="normal"><a href="#__codelineno-0-164">164</a></span>
<span class="normal"><a href="#__codelineno-0-165">165</a></span>
<span class="normal"><a href="#__codelineno-0-166">166</a></span>
<span class="normal"><a href="#__codelineno-0-167">167</a></span>
<span class="normal"><a href="#__codelineno-0-168">168</a></span>
<span class="normal"><a href="#__codelineno-0-169">169</a></span>
<span class="normal"><a href="#__codelineno-0-170">170</a></span>
<span class="normal"><a href="#__codelineno-0-171">171</a></span>
<span class="normal"><a href="#__codelineno-0-172">172</a></span>
<span class="normal"><a href="#__codelineno-0-173">173</a></span>
<span class="normal"><a href="#__codelineno-0-174">174</a></span>
<span class="normal"><a href="#__codelineno-0-175">175</a></span>
<span class="normal"><a href="#__codelineno-0-176">176</a></span>
<span class="normal"><a href="#__codelineno-0-177">177</a></span>
<span class="normal"><a href="#__codelineno-0-178">178</a></span>
<span class="normal"><a href="#__codelineno-0-179">179</a></span>
<span class="normal"><a href="#__codelineno-0-180">180</a></span>
<span class="normal"><a href="#__codelineno-0-181">181</a></span>
<span class="normal"><a href="#__codelineno-0-182">182</a></span>
<span class="normal"><a href="#__codelineno-0-183">183</a></span>
<span class="normal"><a href="#__codelineno-0-184">184</a></span>
<span class="normal"><a href="#__codelineno-0-185">185</a></span>
<span class="normal"><a href="#__codelineno-0-186">186</a></span>
<span class="normal"><a href="#__codelineno-0-187">187</a></span>
<span class="normal"><a href="#__codelineno-0-188">188</a></span>
<span class="normal"><a href="#__codelineno-0-189">189</a></span>
<span class="normal"><a href="#__codelineno-0-190">190</a></span>
<span class="normal"><a href="#__codelineno-0-191">191</a></span>
<span class="normal"><a href="#__codelineno-0-192">192</a></span>
<span class="normal"><a href="#__codelineno-0-193">193</a></span>
<span class="normal"><a href="#__codelineno-0-194">194</a></span>
<span class="normal"><a href="#__codelineno-0-195">195</a></span>
<span class="normal"><a href="#__codelineno-0-196">196</a></span>
<span class="normal"><a href="#__codelineno-0-197">197</a></span>
<span class="normal"><a href="#__codelineno-0-198">198</a></span>
<span class="normal"><a href="#__codelineno-0-199">199</a></span>
<span class="normal"><a href="#__codelineno-0-200">200</a></span>
<span class="normal"><a href="#__codelineno-0-201">201</a></span>
<span class="normal"><a href="#__codelineno-0-202">202</a></span>
<span class="normal"><a href="#__codelineno-0-203">203</a></span>
<span class="normal"><a href="#__codelineno-0-204">204</a></span>
<span class="normal"><a href="#__codelineno-0-205">205</a></span>
<span class="normal"><a href="#__codelineno-0-206">206</a></span>
<span class="normal"><a href="#__codelineno-0-207">207</a></span>
<span class="normal"><a href="#__codelineno-0-208">208</a></span>
<span class="normal"><a href="#__codelineno-0-209">209</a></span>
<span class="normal"><a href="#__codelineno-0-210">210</a></span>
<span class="normal"><a href="#__codelineno-0-211">211</a></span>
<span class="normal"><a href="#__codelineno-0-212">212</a></span>
<span class="normal"><a href="#__codelineno-0-213">213</a></span>
<span class="normal"><a href="#__codelineno-0-214">214</a></span>
<span class="normal"><a href="#__codelineno-0-215">215</a></span>
<span class="normal"><a href="#__codelineno-0-216">216</a></span>
<span class="normal"><a href="#__codelineno-0-217">217</a></span>
<span class="normal"><a href="#__codelineno-0-218">218</a></span>
<span class="normal"><a href="#__codelineno-0-219">219</a></span>
<span class="normal"><a href="#__codelineno-0-220">220</a></span>
<span class="normal"><a href="#__codelineno-0-221">221</a></span>
<span class="normal"><a href="#__codelineno-0-222">222</a></span>
<span class="normal"><a href="#__codelineno-0-223">223</a></span>
<span class="normal"><a href="#__codelineno-0-224">224</a></span>
<span class="normal"><a href="#__codelineno-0-225">225</a></span>
<span class="normal"><a href="#__codelineno-0-226">226</a></span>
<span class="normal"><a href="#__codelineno-0-227">227</a></span>
<span class="normal"><a href="#__codelineno-0-228">228</a></span>
<span class="normal"><a href="#__codelineno-0-229">229</a></span>
<span class="normal"><a href="#__codelineno-0-230">230</a></span>
<span class="normal"><a href="#__codelineno-0-231">231</a></span>
<span class="normal"><a href="#__codelineno-0-232">232</a></span>
<span class="normal"><a href="#__codelineno-0-233">233</a></span>
<span class="normal"><a href="#__codelineno-0-234">234</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-10" name="__codelineno-0-10"></a><span class="k">class</span> <span class="nc">ManifestParser</span><span class="p">:</span>
<a id="__codelineno-0-11" name="__codelineno-0-11"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-12" name="__codelineno-0-12"></a><span class="sd">    A class responsible for parsing test manifest files in YAML format.</span>
<a id="__codelineno-0-13" name="__codelineno-0-13"></a>
<a id="__codelineno-0-14" name="__codelineno-0-14"></a><span class="sd">    This class provides methods to validate, format, and parse manifest files</span>
<a id="__codelineno-0-15" name="__codelineno-0-15"></a><span class="sd">    into Python objects that can be used by the testing framework.</span>
<a id="__codelineno-0-16" name="__codelineno-0-16"></a>
<a id="__codelineno-0-17" name="__codelineno-0-17"></a><span class="sd">    Attributes:</span>
<a id="__codelineno-0-18" name="__codelineno-0-18"></a><span class="sd">        common_items (dict): Common items loaded from a YAML file specified by the SCENERY_COMMON_ITEMS environment variable.</span>
<a id="__codelineno-0-19" name="__codelineno-0-19"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-20" name="__codelineno-0-20"></a>
<a id="__codelineno-0-21" name="__codelineno-0-21"></a>    <span class="n">common_items</span> <span class="o">=</span> <span class="n">scenery</span><span class="o">.</span><span class="n">common</span><span class="o">.</span><span class="n">read_yaml</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;SCENERY_COMMON_ITEMS&quot;</span><span class="p">))</span>
<a id="__codelineno-0-22" name="__codelineno-0-22"></a>
<a id="__codelineno-0-23" name="__codelineno-0-23"></a>    <span class="c1">################</span>
<a id="__codelineno-0-24" name="__codelineno-0-24"></a>    <span class="c1"># FORMATTED DICT</span>
<a id="__codelineno-0-25" name="__codelineno-0-25"></a>    <span class="c1">################</span>
<a id="__codelineno-0-26" name="__codelineno-0-26"></a>
<a id="__codelineno-0-27" name="__codelineno-0-27"></a>    <span class="nd">@staticmethod</span>
<a id="__codelineno-0-28" name="__codelineno-0-28"></a>    <span class="k">def</span> <span class="nf">parse_formatted_dict</span><span class="p">(</span><span class="n">d</span><span class="p">:</span> <span class="nb">dict</span><span class="p">):</span>
<a id="__codelineno-0-29" name="__codelineno-0-29"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-30" name="__codelineno-0-30"></a><span class="sd">        Parse a dictionary with all expected keys into a Manifest object.</span>
<a id="__codelineno-0-31" name="__codelineno-0-31"></a>
<a id="__codelineno-0-32" name="__codelineno-0-32"></a><span class="sd">        Args:</span>
<a id="__codelineno-0-33" name="__codelineno-0-33"></a><span class="sd">            d (dict): A dictionary containing the manifest data with all expected keys.</span>
<a id="__codelineno-0-34" name="__codelineno-0-34"></a><span class="sd">                - set_up_test_data</span>
<a id="__codelineno-0-35" name="__codelineno-0-35"></a><span class="sd">                - set_up</span>
<a id="__codelineno-0-36" name="__codelineno-0-36"></a><span class="sd">                - cases</span>
<a id="__codelineno-0-37" name="__codelineno-0-37"></a><span class="sd">                - scenes</span>
<a id="__codelineno-0-38" name="__codelineno-0-38"></a><span class="sd">                - manifest_origin</span>
<a id="__codelineno-0-39" name="__codelineno-0-39"></a>
<a id="__codelineno-0-40" name="__codelineno-0-40"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-41" name="__codelineno-0-41"></a><span class="sd">            scenery.manifest.Manifest: A Manifest object created from the input dictionary.</span>
<a id="__codelineno-0-42" name="__codelineno-0-42"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-43" name="__codelineno-0-43"></a>
<a id="__codelineno-0-44" name="__codelineno-0-44"></a>        <span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="n">d</span><span class="p">[</span><span class="n">key</span><span class="o">.</span><span class="n">value</span><span class="p">]</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">scenery</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">ManifestFormattedDictKeys</span><span class="p">}</span>
<a id="__codelineno-0-45" name="__codelineno-0-45"></a>        <span class="k">return</span> <span class="n">scenery</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">Manifest</span><span class="o">.</span><span class="n">from_formatted_dict</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<a id="__codelineno-0-46" name="__codelineno-0-46"></a>
<a id="__codelineno-0-47" name="__codelineno-0-47"></a>    <span class="c1">##########</span>
<a id="__codelineno-0-48" name="__codelineno-0-48"></a>    <span class="c1"># ANY DICT</span>
<a id="__codelineno-0-49" name="__codelineno-0-49"></a>    <span class="c1">##########</span>
<a id="__codelineno-0-50" name="__codelineno-0-50"></a>
<a id="__codelineno-0-51" name="__codelineno-0-51"></a>    <span class="nd">@staticmethod</span>
<a id="__codelineno-0-52" name="__codelineno-0-52"></a>    <span class="k">def</span> <span class="nf">validate_dict</span><span class="p">(</span><span class="n">d</span><span class="p">:</span> <span class="nb">dict</span><span class="p">):</span>
<a id="__codelineno-0-53" name="__codelineno-0-53"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-54" name="__codelineno-0-54"></a><span class="sd">        Validate the top-level keys of a manifest dictionary.</span>
<a id="__codelineno-0-55" name="__codelineno-0-55"></a>
<a id="__codelineno-0-56" name="__codelineno-0-56"></a><span class="sd">        This method checks if only valid keys are present at the top level and ensures</span>
<a id="__codelineno-0-57" name="__codelineno-0-57"></a><span class="sd">        that either singular or plural forms of &#39;case&#39; and &#39;scene&#39; are provided, but not both.</span>
<a id="__codelineno-0-58" name="__codelineno-0-58"></a>
<a id="__codelineno-0-59" name="__codelineno-0-59"></a><span class="sd">        Args:</span>
<a id="__codelineno-0-60" name="__codelineno-0-60"></a><span class="sd">            d (dict): The manifest dictionary to validate.</span>
<a id="__codelineno-0-61" name="__codelineno-0-61"></a>
<a id="__codelineno-0-62" name="__codelineno-0-62"></a><span class="sd">        Raises:</span>
<a id="__codelineno-0-63" name="__codelineno-0-63"></a><span class="sd">            ValueError: If invalid keys are present or if the case/scene keys are not correctly specified.</span>
<a id="__codelineno-0-64" name="__codelineno-0-64"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-65" name="__codelineno-0-65"></a>
<a id="__codelineno-0-66" name="__codelineno-0-66"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">all</span><span class="p">(</span><span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">value</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">scenery</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">ManifestDictKeys</span><span class="p">]</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
<a id="__codelineno-0-67" name="__codelineno-0-67"></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
<a id="__codelineno-0-68" name="__codelineno-0-68"></a>                <span class="sa">f</span><span class="s2">&quot;Invalid key(s) in </span><span class="si">{</span><span class="n">d</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;manifest_origin&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;No origin found.&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">).&quot;</span>
<a id="__codelineno-0-69" name="__codelineno-0-69"></a>            <span class="p">)</span>
<a id="__codelineno-0-70" name="__codelineno-0-70"></a>
<a id="__codelineno-0-71" name="__codelineno-0-71"></a>        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;case&quot;</span><span class="p">,</span> <span class="s2">&quot;scene&quot;</span><span class="p">]:</span>
<a id="__codelineno-0-72" name="__codelineno-0-72"></a>            <span class="n">has_one</span> <span class="o">=</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">d</span>
<a id="__codelineno-0-73" name="__codelineno-0-73"></a>            <span class="n">has_many</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">s&quot;</span> <span class="ow">in</span> <span class="n">d</span>
<a id="__codelineno-0-74" name="__codelineno-0-74"></a>
<a id="__codelineno-0-75" name="__codelineno-0-75"></a>            <span class="k">if</span> <span class="n">has_one</span> <span class="ow">and</span> <span class="n">has_many</span><span class="p">:</span>
<a id="__codelineno-0-76" name="__codelineno-0-76"></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
<a id="__codelineno-0-77" name="__codelineno-0-77"></a>                    <span class="sa">f</span><span class="s2">&quot;Both `</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">` and `</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">s` keys are present at top level.&quot;</span><span class="p">,</span>
<a id="__codelineno-0-78" name="__codelineno-0-78"></a>                <span class="p">)</span>
<a id="__codelineno-0-79" name="__codelineno-0-79"></a>
<a id="__codelineno-0-80" name="__codelineno-0-80"></a>            <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;scene&quot;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="p">(</span><span class="n">has_one</span> <span class="ow">or</span> <span class="n">has_many</span><span class="p">):</span>
<a id="__codelineno-0-81" name="__codelineno-0-81"></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
<a id="__codelineno-0-82" name="__codelineno-0-82"></a>                    <span class="sa">f</span><span class="s2">&quot;Neither `</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">` and `</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">s` keys are present at top level.&quot;</span><span class="p">,</span>
<a id="__codelineno-0-83" name="__codelineno-0-83"></a>                <span class="p">)</span>
<a id="__codelineno-0-84" name="__codelineno-0-84"></a>
<a id="__codelineno-0-85" name="__codelineno-0-85"></a>    <span class="nd">@staticmethod</span>
<a id="__codelineno-0-86" name="__codelineno-0-86"></a>    <span class="k">def</span> <span class="nf">format_dict</span><span class="p">(</span><span class="n">manifest</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<a id="__codelineno-0-87" name="__codelineno-0-87"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-88" name="__codelineno-0-88"></a><span class="sd">        Reformat the manifest dictionary to ensure it has all expected keys and provide default values if needed.</span>
<a id="__codelineno-0-89" name="__codelineno-0-89"></a>
<a id="__codelineno-0-90" name="__codelineno-0-90"></a><span class="sd">        Args:</span>
<a id="__codelineno-0-91" name="__codelineno-0-91"></a><span class="sd">            manifest (dict): The original manifest dictionary.</span>
<a id="__codelineno-0-92" name="__codelineno-0-92"></a>
<a id="__codelineno-0-93" name="__codelineno-0-93"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-94" name="__codelineno-0-94"></a><span class="sd">            dict: A formatted dictionary with all expected keys.</span>
<a id="__codelineno-0-95" name="__codelineno-0-95"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-96" name="__codelineno-0-96"></a>        <span class="k">return</span> <span class="p">{</span>
<a id="__codelineno-0-97" name="__codelineno-0-97"></a>            <span class="s2">&quot;set_up_test_data&quot;</span><span class="p">:</span> <span class="n">manifest</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;set_up_test_data&quot;</span><span class="p">,</span> <span class="p">[]),</span>
<a id="__codelineno-0-98" name="__codelineno-0-98"></a>            <span class="s2">&quot;set_up&quot;</span><span class="p">:</span> <span class="n">manifest</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;set_up&quot;</span><span class="p">,</span> <span class="p">[]),</span>
<a id="__codelineno-0-99" name="__codelineno-0-99"></a>            <span class="s2">&quot;scenes&quot;</span><span class="p">:</span> <span class="n">ManifestParser</span><span class="o">.</span><span class="n">_format_dict_scenes</span><span class="p">(</span><span class="n">manifest</span><span class="p">),</span>
<a id="__codelineno-0-100" name="__codelineno-0-100"></a>            <span class="s2">&quot;cases&quot;</span><span class="p">:</span> <span class="n">ManifestParser</span><span class="o">.</span><span class="n">_format_dict_cases</span><span class="p">(</span><span class="n">manifest</span><span class="p">),</span>
<a id="__codelineno-0-101" name="__codelineno-0-101"></a>            <span class="s2">&quot;manifest_origin&quot;</span><span class="p">:</span> <span class="n">manifest</span><span class="p">[</span><span class="s2">&quot;manifest_origin&quot;</span><span class="p">],</span>
<a id="__codelineno-0-102" name="__codelineno-0-102"></a>        <span class="p">}</span>
<a id="__codelineno-0-103" name="__codelineno-0-103"></a>
<a id="__codelineno-0-104" name="__codelineno-0-104"></a>    <span class="nd">@staticmethod</span>
<a id="__codelineno-0-105" name="__codelineno-0-105"></a>    <span class="k">def</span> <span class="nf">_format_dict_cases</span><span class="p">(</span><span class="n">d</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">]:</span>
<a id="__codelineno-0-106" name="__codelineno-0-106"></a>        <span class="n">has_one</span> <span class="o">=</span> <span class="s2">&quot;case&quot;</span> <span class="ow">in</span> <span class="n">d</span>
<a id="__codelineno-0-107" name="__codelineno-0-107"></a>        <span class="n">has_many</span> <span class="o">=</span> <span class="s2">&quot;cases&quot;</span> <span class="ow">in</span> <span class="n">d</span>
<a id="__codelineno-0-108" name="__codelineno-0-108"></a>        <span class="k">if</span> <span class="n">has_one</span><span class="p">:</span>
<a id="__codelineno-0-109" name="__codelineno-0-109"></a>            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;CASE&quot;</span><span class="p">:</span> <span class="n">d</span><span class="p">[</span><span class="s2">&quot;case&quot;</span><span class="p">]}</span>
<a id="__codelineno-0-110" name="__codelineno-0-110"></a>        <span class="k">elif</span> <span class="n">has_many</span><span class="p">:</span>
<a id="__codelineno-0-111" name="__codelineno-0-111"></a>            <span class="k">return</span> <span class="n">d</span><span class="p">[</span><span class="s2">&quot;cases&quot;</span><span class="p">]</span>
<a id="__codelineno-0-112" name="__codelineno-0-112"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-113" name="__codelineno-0-113"></a>            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;NO_CASE&quot;</span><span class="p">:</span> <span class="p">{}}</span>
<a id="__codelineno-0-114" name="__codelineno-0-114"></a>
<a id="__codelineno-0-115" name="__codelineno-0-115"></a>    <span class="nd">@staticmethod</span>
<a id="__codelineno-0-116" name="__codelineno-0-116"></a>    <span class="k">def</span> <span class="nf">_format_dict_scenes</span><span class="p">(</span><span class="n">d</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">]:</span>
<a id="__codelineno-0-117" name="__codelineno-0-117"></a>        <span class="n">has_one</span> <span class="o">=</span> <span class="s2">&quot;scene&quot;</span> <span class="ow">in</span> <span class="n">d</span>
<a id="__codelineno-0-118" name="__codelineno-0-118"></a>        <span class="n">has_many</span> <span class="o">=</span> <span class="s2">&quot;scenes&quot;</span> <span class="ow">in</span> <span class="n">d</span>
<a id="__codelineno-0-119" name="__codelineno-0-119"></a>        <span class="k">if</span> <span class="n">has_one</span><span class="p">:</span>
<a id="__codelineno-0-120" name="__codelineno-0-120"></a>            <span class="k">return</span> <span class="p">[</span><span class="n">d</span><span class="p">[</span><span class="s2">&quot;scene&quot;</span><span class="p">]]</span>
<a id="__codelineno-0-121" name="__codelineno-0-121"></a>        <span class="k">elif</span> <span class="n">has_many</span><span class="p">:</span>
<a id="__codelineno-0-122" name="__codelineno-0-122"></a>            <span class="k">return</span> <span class="n">d</span><span class="p">[</span><span class="s2">&quot;scenes&quot;</span><span class="p">]</span>
<a id="__codelineno-0-123" name="__codelineno-0-123"></a>
<a id="__codelineno-0-124" name="__codelineno-0-124"></a>    <span class="nd">@staticmethod</span>
<a id="__codelineno-0-125" name="__codelineno-0-125"></a>    <span class="k">def</span> <span class="nf">parse_dict</span><span class="p">(</span><span class="n">d</span><span class="p">:</span> <span class="nb">dict</span><span class="p">):</span>
<a id="__codelineno-0-126" name="__codelineno-0-126"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-127" name="__codelineno-0-127"></a><span class="sd">        Parse a manifest dictionary into a Manifest object.</span>
<a id="__codelineno-0-128" name="__codelineno-0-128"></a>
<a id="__codelineno-0-129" name="__codelineno-0-129"></a><span class="sd">        This method validates the dictionary, formats it, and then parses it into a Manifest object.</span>
<a id="__codelineno-0-130" name="__codelineno-0-130"></a>
<a id="__codelineno-0-131" name="__codelineno-0-131"></a><span class="sd">        Args:</span>
<a id="__codelineno-0-132" name="__codelineno-0-132"></a><span class="sd">            d (dict): The manifest dictionary to parse.</span>
<a id="__codelineno-0-133" name="__codelineno-0-133"></a>
<a id="__codelineno-0-134" name="__codelineno-0-134"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-135" name="__codelineno-0-135"></a><span class="sd">            scenery.manifest.Manifest: A Manifest object created from the input dictionary.</span>
<a id="__codelineno-0-136" name="__codelineno-0-136"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-137" name="__codelineno-0-137"></a>        <span class="n">ManifestParser</span><span class="o">.</span><span class="n">validate_dict</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<a id="__codelineno-0-138" name="__codelineno-0-138"></a>        <span class="n">d</span> <span class="o">=</span> <span class="n">ManifestParser</span><span class="o">.</span><span class="n">format_dict</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<a id="__codelineno-0-139" name="__codelineno-0-139"></a>        <span class="k">return</span> <span class="n">ManifestParser</span><span class="o">.</span><span class="n">parse_formatted_dict</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<a id="__codelineno-0-140" name="__codelineno-0-140"></a>
<a id="__codelineno-0-141" name="__codelineno-0-141"></a>    <span class="c1">##########</span>
<a id="__codelineno-0-142" name="__codelineno-0-142"></a>    <span class="c1"># YAML</span>
<a id="__codelineno-0-143" name="__codelineno-0-143"></a>    <span class="c1">##########</span>
<a id="__codelineno-0-144" name="__codelineno-0-144"></a>
<a id="__codelineno-0-145" name="__codelineno-0-145"></a>    <span class="nd">@staticmethod</span>
<a id="__codelineno-0-146" name="__codelineno-0-146"></a>    <span class="k">def</span> <span class="nf">validate_yaml</span><span class="p">(</span><span class="n">yaml</span><span class="p">):</span>
<a id="__codelineno-0-147" name="__codelineno-0-147"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-148" name="__codelineno-0-148"></a><span class="sd">        Validate the structure of a YAML-loaded manifest.</span>
<a id="__codelineno-0-149" name="__codelineno-0-149"></a>
<a id="__codelineno-0-150" name="__codelineno-0-150"></a><span class="sd">        This method checks if the YAML content is a dictionary and if it contains only expected keys.</span>
<a id="__codelineno-0-151" name="__codelineno-0-151"></a>
<a id="__codelineno-0-152" name="__codelineno-0-152"></a><span class="sd">        Args:</span>
<a id="__codelineno-0-153" name="__codelineno-0-153"></a><span class="sd">            yaml: The YAML content to validate.</span>
<a id="__codelineno-0-154" name="__codelineno-0-154"></a>
<a id="__codelineno-0-155" name="__codelineno-0-155"></a><span class="sd">        Raises:</span>
<a id="__codelineno-0-156" name="__codelineno-0-156"></a><span class="sd">            TypeError: If the YAML content is not a dictionary.</span>
<a id="__codelineno-0-157" name="__codelineno-0-157"></a><span class="sd">            ValueError: If the YAML content contains unexpected keys.</span>
<a id="__codelineno-0-158" name="__codelineno-0-158"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-159" name="__codelineno-0-159"></a>
<a id="__codelineno-0-160" name="__codelineno-0-160"></a>        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">yaml</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">dict</span><span class="p">:</span>
<a id="__codelineno-0-161" name="__codelineno-0-161"></a>            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Manifest need to be a dict not a &#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">yaml</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
<a id="__codelineno-0-162" name="__codelineno-0-162"></a>
<a id="__codelineno-0-163" name="__codelineno-0-163"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">all</span><span class="p">(</span>
<a id="__codelineno-0-164" name="__codelineno-0-164"></a>            <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">value</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">scenery</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">ManifestYAMLKeys</span><span class="p">]</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">yaml</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<a id="__codelineno-0-165" name="__codelineno-0-165"></a>        <span class="p">):</span>
<a id="__codelineno-0-166" name="__codelineno-0-166"></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
<a id="__codelineno-0-167" name="__codelineno-0-167"></a>                <span class="sa">f</span><span class="s2">&quot;Invalid key(s) in </span><span class="si">{</span><span class="n">yaml</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">yaml</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;origin&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;No origin found.&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">)&quot;</span>
<a id="__codelineno-0-168" name="__codelineno-0-168"></a>            <span class="p">)</span>
<a id="__codelineno-0-169" name="__codelineno-0-169"></a>
<a id="__codelineno-0-170" name="__codelineno-0-170"></a>    <span class="nd">@staticmethod</span>
<a id="__codelineno-0-171" name="__codelineno-0-171"></a>    <span class="k">def</span> <span class="nf">_yaml_constructor_case</span><span class="p">(</span><span class="n">loader</span><span class="p">:</span> <span class="n">yaml</span><span class="o">.</span><span class="n">SafeLoader</span><span class="p">,</span> <span class="n">node</span><span class="p">:</span> <span class="n">yaml</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">Node</span><span class="p">):</span>
<a id="__codelineno-0-172" name="__codelineno-0-172"></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">yaml</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">ScalarNode</span><span class="p">):</span>
<a id="__codelineno-0-173" name="__codelineno-0-173"></a>            <span class="k">return</span> <span class="n">scenery</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">Substituable</span><span class="p">(</span><span class="n">loader</span><span class="o">.</span><span class="n">construct_scalar</span><span class="p">(</span><span class="n">node</span><span class="p">))</span>
<a id="__codelineno-0-174" name="__codelineno-0-174"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-175" name="__codelineno-0-175"></a>            <span class="k">raise</span> <span class="n">ConstructorError</span>
<a id="__codelineno-0-176" name="__codelineno-0-176"></a>
<a id="__codelineno-0-177" name="__codelineno-0-177"></a>    <span class="nd">@staticmethod</span>
<a id="__codelineno-0-178" name="__codelineno-0-178"></a>    <span class="k">def</span> <span class="nf">_yaml_constructor_common_item</span><span class="p">(</span><span class="n">loader</span><span class="p">:</span> <span class="n">yaml</span><span class="o">.</span><span class="n">SafeLoader</span><span class="p">,</span> <span class="n">node</span><span class="p">:</span> <span class="n">yaml</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">Node</span><span class="p">):</span>
<a id="__codelineno-0-179" name="__codelineno-0-179"></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">yaml</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">ScalarNode</span><span class="p">):</span>
<a id="__codelineno-0-180" name="__codelineno-0-180"></a>            <span class="k">return</span> <span class="n">ManifestParser</span><span class="o">.</span><span class="n">common_items</span><span class="p">[</span><span class="n">loader</span><span class="o">.</span><span class="n">construct_scalar</span><span class="p">(</span><span class="n">node</span><span class="p">)]</span>
<a id="__codelineno-0-181" name="__codelineno-0-181"></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">yaml</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">MappingNode</span><span class="p">):</span>
<a id="__codelineno-0-182" name="__codelineno-0-182"></a>            <span class="n">d</span> <span class="o">=</span> <span class="n">loader</span><span class="o">.</span><span class="n">construct_mapping</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
<a id="__codelineno-0-183" name="__codelineno-0-183"></a>            <span class="n">case</span> <span class="o">=</span> <span class="n">ManifestParser</span><span class="o">.</span><span class="n">common_items</span><span class="p">[</span><span class="n">d</span><span class="p">[</span><span class="s2">&quot;ID&quot;</span><span class="p">]]</span> <span class="o">|</span> <span class="p">{</span>
<a id="__codelineno-0-184" name="__codelineno-0-184"></a>                <span class="n">key</span><span class="p">:</span> <span class="n">value</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">key</span> <span class="o">!=</span> <span class="s2">&quot;ID&quot;</span>
<a id="__codelineno-0-185" name="__codelineno-0-185"></a>            <span class="p">}</span>
<a id="__codelineno-0-186" name="__codelineno-0-186"></a>            <span class="k">return</span> <span class="n">case</span>
<a id="__codelineno-0-187" name="__codelineno-0-187"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-188" name="__codelineno-0-188"></a>            <span class="k">raise</span> <span class="n">ConstructorError</span>
<a id="__codelineno-0-189" name="__codelineno-0-189"></a>
<a id="__codelineno-0-190" name="__codelineno-0-190"></a>    <span class="nd">@staticmethod</span>
<a id="__codelineno-0-191" name="__codelineno-0-191"></a>    <span class="k">def</span> <span class="nf">read_manifest_yaml</span><span class="p">(</span><span class="n">fn</span><span class="p">):</span>
<a id="__codelineno-0-192" name="__codelineno-0-192"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-193" name="__codelineno-0-193"></a><span class="sd">        Read a YAML manifest file with custom tags.</span>
<a id="__codelineno-0-194" name="__codelineno-0-194"></a>
<a id="__codelineno-0-195" name="__codelineno-0-195"></a><span class="sd">        This method uses a custom YAML loader to handle special tags like !case and !common-item.</span>
<a id="__codelineno-0-196" name="__codelineno-0-196"></a>
<a id="__codelineno-0-197" name="__codelineno-0-197"></a><span class="sd">        Args:</span>
<a id="__codelineno-0-198" name="__codelineno-0-198"></a><span class="sd">            fn (str): The filename of the YAML manifest to read.</span>
<a id="__codelineno-0-199" name="__codelineno-0-199"></a>
<a id="__codelineno-0-200" name="__codelineno-0-200"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-201" name="__codelineno-0-201"></a><span class="sd">            dict: The parsed content of the YAML file.</span>
<a id="__codelineno-0-202" name="__codelineno-0-202"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-203" name="__codelineno-0-203"></a>
<a id="__codelineno-0-204" name="__codelineno-0-204"></a>        <span class="c1"># NOTE: inspired by https://matthewpburruss.com/post/yaml/</span>
<a id="__codelineno-0-205" name="__codelineno-0-205"></a>
<a id="__codelineno-0-206" name="__codelineno-0-206"></a>        <span class="c1"># Add constructor</span>
<a id="__codelineno-0-207" name="__codelineno-0-207"></a>        <span class="n">Loader</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">FullLoader</span>
<a id="__codelineno-0-208" name="__codelineno-0-208"></a>        <span class="n">Loader</span><span class="o">.</span><span class="n">add_constructor</span><span class="p">(</span><span class="s2">&quot;!case&quot;</span><span class="p">,</span> <span class="n">ManifestParser</span><span class="o">.</span><span class="n">_yaml_constructor_case</span><span class="p">)</span>
<a id="__codelineno-0-209" name="__codelineno-0-209"></a>        <span class="n">Loader</span><span class="o">.</span><span class="n">add_constructor</span><span class="p">(</span><span class="s2">&quot;!common-item&quot;</span><span class="p">,</span> <span class="n">ManifestParser</span><span class="o">.</span><span class="n">_yaml_constructor_common_item</span><span class="p">)</span>
<a id="__codelineno-0-210" name="__codelineno-0-210"></a>
<a id="__codelineno-0-211" name="__codelineno-0-211"></a>        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">fn</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<a id="__codelineno-0-212" name="__codelineno-0-212"></a>            <span class="n">content</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">Loader</span><span class="p">)</span>
<a id="__codelineno-0-213" name="__codelineno-0-213"></a>
<a id="__codelineno-0-214" name="__codelineno-0-214"></a>        <span class="k">return</span> <span class="n">content</span>
<a id="__codelineno-0-215" name="__codelineno-0-215"></a>
<a id="__codelineno-0-216" name="__codelineno-0-216"></a>    <span class="nd">@staticmethod</span>
<a id="__codelineno-0-217" name="__codelineno-0-217"></a>    <span class="k">def</span> <span class="nf">parse_yaml</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
<a id="__codelineno-0-218" name="__codelineno-0-218"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-219" name="__codelineno-0-219"></a><span class="sd">        Parse a YAML manifest file into a Manifest object.</span>
<a id="__codelineno-0-220" name="__codelineno-0-220"></a>
<a id="__codelineno-0-221" name="__codelineno-0-221"></a><span class="sd">        This method reads the YAML file, validates its content, and then parses it into a Manifest object.</span>
<a id="__codelineno-0-222" name="__codelineno-0-222"></a>
<a id="__codelineno-0-223" name="__codelineno-0-223"></a><span class="sd">        Args:</span>
<a id="__codelineno-0-224" name="__codelineno-0-224"></a><span class="sd">            filename (str): The filename of the YAML manifest to parse.</span>
<a id="__codelineno-0-225" name="__codelineno-0-225"></a>
<a id="__codelineno-0-226" name="__codelineno-0-226"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-227" name="__codelineno-0-227"></a><span class="sd">            scenery.manifest.Manifest: A Manifest object created from the YAML file.</span>
<a id="__codelineno-0-228" name="__codelineno-0-228"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-229" name="__codelineno-0-229"></a>        <span class="n">d</span> <span class="o">=</span> <span class="n">ManifestParser</span><span class="o">.</span><span class="n">read_manifest_yaml</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
<a id="__codelineno-0-230" name="__codelineno-0-230"></a>        <span class="n">ManifestParser</span><span class="o">.</span><span class="n">validate_yaml</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<a id="__codelineno-0-231" name="__codelineno-0-231"></a>        <span class="n">d</span><span class="p">[</span><span class="s2">&quot;manifest_origin&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;manifest_origin&quot;</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
<a id="__codelineno-0-232" name="__codelineno-0-232"></a>        <span class="k">if</span> <span class="s2">&quot;variables&quot;</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span>
<a id="__codelineno-0-233" name="__codelineno-0-233"></a>            <span class="k">del</span> <span class="n">d</span><span class="p">[</span><span class="s2">&quot;variables&quot;</span><span class="p">]</span>
<a id="__codelineno-0-234" name="__codelineno-0-234"></a>        <span class="k">return</span> <span class="n">ManifestParser</span><span class="o">.</span><span class="n">parse_dict</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="scenery.manifest_parser.ManifestParser.format_dict" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">format_dict</span><span class="p">(</span><span class="n">manifest</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Reformat the manifest dictionary to ensure it has all expected keys and provide default values if needed.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>manifest</code>
            </td>
            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The original manifest dictionary.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A formatted dictionary with all expected keys.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>scenery/manifest_parser.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-85"> 85</a></span>
<span class="normal"><a href="#__codelineno-0-86"> 86</a></span>
<span class="normal"><a href="#__codelineno-0-87"> 87</a></span>
<span class="normal"><a href="#__codelineno-0-88"> 88</a></span>
<span class="normal"><a href="#__codelineno-0-89"> 89</a></span>
<span class="normal"><a href="#__codelineno-0-90"> 90</a></span>
<span class="normal"><a href="#__codelineno-0-91"> 91</a></span>
<span class="normal"><a href="#__codelineno-0-92"> 92</a></span>
<span class="normal"><a href="#__codelineno-0-93"> 93</a></span>
<span class="normal"><a href="#__codelineno-0-94"> 94</a></span>
<span class="normal"><a href="#__codelineno-0-95"> 95</a></span>
<span class="normal"><a href="#__codelineno-0-96"> 96</a></span>
<span class="normal"><a href="#__codelineno-0-97"> 97</a></span>
<span class="normal"><a href="#__codelineno-0-98"> 98</a></span>
<span class="normal"><a href="#__codelineno-0-99"> 99</a></span>
<span class="normal"><a href="#__codelineno-0-100">100</a></span>
<span class="normal"><a href="#__codelineno-0-101">101</a></span>
<span class="normal"><a href="#__codelineno-0-102">102</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-85" name="__codelineno-0-85"></a><span class="nd">@staticmethod</span>
<a id="__codelineno-0-86" name="__codelineno-0-86"></a><span class="k">def</span> <span class="nf">format_dict</span><span class="p">(</span><span class="n">manifest</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<a id="__codelineno-0-87" name="__codelineno-0-87"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-88" name="__codelineno-0-88"></a><span class="sd">    Reformat the manifest dictionary to ensure it has all expected keys and provide default values if needed.</span>
<a id="__codelineno-0-89" name="__codelineno-0-89"></a>
<a id="__codelineno-0-90" name="__codelineno-0-90"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-91" name="__codelineno-0-91"></a><span class="sd">        manifest (dict): The original manifest dictionary.</span>
<a id="__codelineno-0-92" name="__codelineno-0-92"></a>
<a id="__codelineno-0-93" name="__codelineno-0-93"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-94" name="__codelineno-0-94"></a><span class="sd">        dict: A formatted dictionary with all expected keys.</span>
<a id="__codelineno-0-95" name="__codelineno-0-95"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-96" name="__codelineno-0-96"></a>    <span class="k">return</span> <span class="p">{</span>
<a id="__codelineno-0-97" name="__codelineno-0-97"></a>        <span class="s2">&quot;set_up_test_data&quot;</span><span class="p">:</span> <span class="n">manifest</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;set_up_test_data&quot;</span><span class="p">,</span> <span class="p">[]),</span>
<a id="__codelineno-0-98" name="__codelineno-0-98"></a>        <span class="s2">&quot;set_up&quot;</span><span class="p">:</span> <span class="n">manifest</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;set_up&quot;</span><span class="p">,</span> <span class="p">[]),</span>
<a id="__codelineno-0-99" name="__codelineno-0-99"></a>        <span class="s2">&quot;scenes&quot;</span><span class="p">:</span> <span class="n">ManifestParser</span><span class="o">.</span><span class="n">_format_dict_scenes</span><span class="p">(</span><span class="n">manifest</span><span class="p">),</span>
<a id="__codelineno-0-100" name="__codelineno-0-100"></a>        <span class="s2">&quot;cases&quot;</span><span class="p">:</span> <span class="n">ManifestParser</span><span class="o">.</span><span class="n">_format_dict_cases</span><span class="p">(</span><span class="n">manifest</span><span class="p">),</span>
<a id="__codelineno-0-101" name="__codelineno-0-101"></a>        <span class="s2">&quot;manifest_origin&quot;</span><span class="p">:</span> <span class="n">manifest</span><span class="p">[</span><span class="s2">&quot;manifest_origin&quot;</span><span class="p">],</span>
<a id="__codelineno-0-102" name="__codelineno-0-102"></a>    <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="scenery.manifest_parser.ManifestParser.parse_dict" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">parse_dict</span><span class="p">(</span><span class="n">d</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Parse a manifest dictionary into a Manifest object.</p>
<p>This method validates the dictionary, formats it, and then parses it into a Manifest object.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>d</code>
            </td>
            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The manifest dictionary to parse.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>scenery.manifest.Manifest: A Manifest object created from the input dictionary.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>scenery/manifest_parser.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-124">124</a></span>
<span class="normal"><a href="#__codelineno-0-125">125</a></span>
<span class="normal"><a href="#__codelineno-0-126">126</a></span>
<span class="normal"><a href="#__codelineno-0-127">127</a></span>
<span class="normal"><a href="#__codelineno-0-128">128</a></span>
<span class="normal"><a href="#__codelineno-0-129">129</a></span>
<span class="normal"><a href="#__codelineno-0-130">130</a></span>
<span class="normal"><a href="#__codelineno-0-131">131</a></span>
<span class="normal"><a href="#__codelineno-0-132">132</a></span>
<span class="normal"><a href="#__codelineno-0-133">133</a></span>
<span class="normal"><a href="#__codelineno-0-134">134</a></span>
<span class="normal"><a href="#__codelineno-0-135">135</a></span>
<span class="normal"><a href="#__codelineno-0-136">136</a></span>
<span class="normal"><a href="#__codelineno-0-137">137</a></span>
<span class="normal"><a href="#__codelineno-0-138">138</a></span>
<span class="normal"><a href="#__codelineno-0-139">139</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-124" name="__codelineno-0-124"></a><span class="nd">@staticmethod</span>
<a id="__codelineno-0-125" name="__codelineno-0-125"></a><span class="k">def</span> <span class="nf">parse_dict</span><span class="p">(</span><span class="n">d</span><span class="p">:</span> <span class="nb">dict</span><span class="p">):</span>
<a id="__codelineno-0-126" name="__codelineno-0-126"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-127" name="__codelineno-0-127"></a><span class="sd">    Parse a manifest dictionary into a Manifest object.</span>
<a id="__codelineno-0-128" name="__codelineno-0-128"></a>
<a id="__codelineno-0-129" name="__codelineno-0-129"></a><span class="sd">    This method validates the dictionary, formats it, and then parses it into a Manifest object.</span>
<a id="__codelineno-0-130" name="__codelineno-0-130"></a>
<a id="__codelineno-0-131" name="__codelineno-0-131"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-132" name="__codelineno-0-132"></a><span class="sd">        d (dict): The manifest dictionary to parse.</span>
<a id="__codelineno-0-133" name="__codelineno-0-133"></a>
<a id="__codelineno-0-134" name="__codelineno-0-134"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-135" name="__codelineno-0-135"></a><span class="sd">        scenery.manifest.Manifest: A Manifest object created from the input dictionary.</span>
<a id="__codelineno-0-136" name="__codelineno-0-136"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-137" name="__codelineno-0-137"></a>    <span class="n">ManifestParser</span><span class="o">.</span><span class="n">validate_dict</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<a id="__codelineno-0-138" name="__codelineno-0-138"></a>    <span class="n">d</span> <span class="o">=</span> <span class="n">ManifestParser</span><span class="o">.</span><span class="n">format_dict</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<a id="__codelineno-0-139" name="__codelineno-0-139"></a>    <span class="k">return</span> <span class="n">ManifestParser</span><span class="o">.</span><span class="n">parse_formatted_dict</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="scenery.manifest_parser.ManifestParser.parse_formatted_dict" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">parse_formatted_dict</span><span class="p">(</span><span class="n">d</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Parse a dictionary with all expected keys into a Manifest object.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>d</code>
            </td>
            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A dictionary containing the manifest data with all expected keys.
- set_up_test_data
- set_up
- cases
- scenes
- manifest_origin</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>scenery.manifest.Manifest: A Manifest object created from the input dictionary.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>scenery/manifest_parser.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-27">27</a></span>
<span class="normal"><a href="#__codelineno-0-28">28</a></span>
<span class="normal"><a href="#__codelineno-0-29">29</a></span>
<span class="normal"><a href="#__codelineno-0-30">30</a></span>
<span class="normal"><a href="#__codelineno-0-31">31</a></span>
<span class="normal"><a href="#__codelineno-0-32">32</a></span>
<span class="normal"><a href="#__codelineno-0-33">33</a></span>
<span class="normal"><a href="#__codelineno-0-34">34</a></span>
<span class="normal"><a href="#__codelineno-0-35">35</a></span>
<span class="normal"><a href="#__codelineno-0-36">36</a></span>
<span class="normal"><a href="#__codelineno-0-37">37</a></span>
<span class="normal"><a href="#__codelineno-0-38">38</a></span>
<span class="normal"><a href="#__codelineno-0-39">39</a></span>
<span class="normal"><a href="#__codelineno-0-40">40</a></span>
<span class="normal"><a href="#__codelineno-0-41">41</a></span>
<span class="normal"><a href="#__codelineno-0-42">42</a></span>
<span class="normal"><a href="#__codelineno-0-43">43</a></span>
<span class="normal"><a href="#__codelineno-0-44">44</a></span>
<span class="normal"><a href="#__codelineno-0-45">45</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-27" name="__codelineno-0-27"></a><span class="nd">@staticmethod</span>
<a id="__codelineno-0-28" name="__codelineno-0-28"></a><span class="k">def</span> <span class="nf">parse_formatted_dict</span><span class="p">(</span><span class="n">d</span><span class="p">:</span> <span class="nb">dict</span><span class="p">):</span>
<a id="__codelineno-0-29" name="__codelineno-0-29"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-30" name="__codelineno-0-30"></a><span class="sd">    Parse a dictionary with all expected keys into a Manifest object.</span>
<a id="__codelineno-0-31" name="__codelineno-0-31"></a>
<a id="__codelineno-0-32" name="__codelineno-0-32"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-33" name="__codelineno-0-33"></a><span class="sd">        d (dict): A dictionary containing the manifest data with all expected keys.</span>
<a id="__codelineno-0-34" name="__codelineno-0-34"></a><span class="sd">            - set_up_test_data</span>
<a id="__codelineno-0-35" name="__codelineno-0-35"></a><span class="sd">            - set_up</span>
<a id="__codelineno-0-36" name="__codelineno-0-36"></a><span class="sd">            - cases</span>
<a id="__codelineno-0-37" name="__codelineno-0-37"></a><span class="sd">            - scenes</span>
<a id="__codelineno-0-38" name="__codelineno-0-38"></a><span class="sd">            - manifest_origin</span>
<a id="__codelineno-0-39" name="__codelineno-0-39"></a>
<a id="__codelineno-0-40" name="__codelineno-0-40"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-41" name="__codelineno-0-41"></a><span class="sd">        scenery.manifest.Manifest: A Manifest object created from the input dictionary.</span>
<a id="__codelineno-0-42" name="__codelineno-0-42"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-43" name="__codelineno-0-43"></a>
<a id="__codelineno-0-44" name="__codelineno-0-44"></a>    <span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="n">d</span><span class="p">[</span><span class="n">key</span><span class="o">.</span><span class="n">value</span><span class="p">]</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">scenery</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">ManifestFormattedDictKeys</span><span class="p">}</span>
<a id="__codelineno-0-45" name="__codelineno-0-45"></a>    <span class="k">return</span> <span class="n">scenery</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">Manifest</span><span class="o">.</span><span class="n">from_formatted_dict</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="scenery.manifest_parser.ManifestParser.parse_yaml" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">parse_yaml</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Parse a YAML manifest file into a Manifest object.</p>
<p>This method reads the YAML file, validates its content, and then parses it into a Manifest object.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>filename</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The filename of the YAML manifest to parse.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>scenery.manifest.Manifest: A Manifest object created from the YAML file.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>scenery/manifest_parser.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-216">216</a></span>
<span class="normal"><a href="#__codelineno-0-217">217</a></span>
<span class="normal"><a href="#__codelineno-0-218">218</a></span>
<span class="normal"><a href="#__codelineno-0-219">219</a></span>
<span class="normal"><a href="#__codelineno-0-220">220</a></span>
<span class="normal"><a href="#__codelineno-0-221">221</a></span>
<span class="normal"><a href="#__codelineno-0-222">222</a></span>
<span class="normal"><a href="#__codelineno-0-223">223</a></span>
<span class="normal"><a href="#__codelineno-0-224">224</a></span>
<span class="normal"><a href="#__codelineno-0-225">225</a></span>
<span class="normal"><a href="#__codelineno-0-226">226</a></span>
<span class="normal"><a href="#__codelineno-0-227">227</a></span>
<span class="normal"><a href="#__codelineno-0-228">228</a></span>
<span class="normal"><a href="#__codelineno-0-229">229</a></span>
<span class="normal"><a href="#__codelineno-0-230">230</a></span>
<span class="normal"><a href="#__codelineno-0-231">231</a></span>
<span class="normal"><a href="#__codelineno-0-232">232</a></span>
<span class="normal"><a href="#__codelineno-0-233">233</a></span>
<span class="normal"><a href="#__codelineno-0-234">234</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-216" name="__codelineno-0-216"></a><span class="nd">@staticmethod</span>
<a id="__codelineno-0-217" name="__codelineno-0-217"></a><span class="k">def</span> <span class="nf">parse_yaml</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
<a id="__codelineno-0-218" name="__codelineno-0-218"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-219" name="__codelineno-0-219"></a><span class="sd">    Parse a YAML manifest file into a Manifest object.</span>
<a id="__codelineno-0-220" name="__codelineno-0-220"></a>
<a id="__codelineno-0-221" name="__codelineno-0-221"></a><span class="sd">    This method reads the YAML file, validates its content, and then parses it into a Manifest object.</span>
<a id="__codelineno-0-222" name="__codelineno-0-222"></a>
<a id="__codelineno-0-223" name="__codelineno-0-223"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-224" name="__codelineno-0-224"></a><span class="sd">        filename (str): The filename of the YAML manifest to parse.</span>
<a id="__codelineno-0-225" name="__codelineno-0-225"></a>
<a id="__codelineno-0-226" name="__codelineno-0-226"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-227" name="__codelineno-0-227"></a><span class="sd">        scenery.manifest.Manifest: A Manifest object created from the YAML file.</span>
<a id="__codelineno-0-228" name="__codelineno-0-228"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-229" name="__codelineno-0-229"></a>    <span class="n">d</span> <span class="o">=</span> <span class="n">ManifestParser</span><span class="o">.</span><span class="n">read_manifest_yaml</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
<a id="__codelineno-0-230" name="__codelineno-0-230"></a>    <span class="n">ManifestParser</span><span class="o">.</span><span class="n">validate_yaml</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<a id="__codelineno-0-231" name="__codelineno-0-231"></a>    <span class="n">d</span><span class="p">[</span><span class="s2">&quot;manifest_origin&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;manifest_origin&quot;</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
<a id="__codelineno-0-232" name="__codelineno-0-232"></a>    <span class="k">if</span> <span class="s2">&quot;variables&quot;</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span>
<a id="__codelineno-0-233" name="__codelineno-0-233"></a>        <span class="k">del</span> <span class="n">d</span><span class="p">[</span><span class="s2">&quot;variables&quot;</span><span class="p">]</span>
<a id="__codelineno-0-234" name="__codelineno-0-234"></a>    <span class="k">return</span> <span class="n">ManifestParser</span><span class="o">.</span><span class="n">parse_dict</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="scenery.manifest_parser.ManifestParser.read_manifest_yaml" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">read_manifest_yaml</span><span class="p">(</span><span class="n">fn</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Read a YAML manifest file with custom tags.</p>
<p>This method uses a custom YAML loader to handle special tags like !case and !common-item.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>fn</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The filename of the YAML manifest to read.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The parsed content of the YAML file.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>scenery/manifest_parser.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-190">190</a></span>
<span class="normal"><a href="#__codelineno-0-191">191</a></span>
<span class="normal"><a href="#__codelineno-0-192">192</a></span>
<span class="normal"><a href="#__codelineno-0-193">193</a></span>
<span class="normal"><a href="#__codelineno-0-194">194</a></span>
<span class="normal"><a href="#__codelineno-0-195">195</a></span>
<span class="normal"><a href="#__codelineno-0-196">196</a></span>
<span class="normal"><a href="#__codelineno-0-197">197</a></span>
<span class="normal"><a href="#__codelineno-0-198">198</a></span>
<span class="normal"><a href="#__codelineno-0-199">199</a></span>
<span class="normal"><a href="#__codelineno-0-200">200</a></span>
<span class="normal"><a href="#__codelineno-0-201">201</a></span>
<span class="normal"><a href="#__codelineno-0-202">202</a></span>
<span class="normal"><a href="#__codelineno-0-203">203</a></span>
<span class="normal"><a href="#__codelineno-0-204">204</a></span>
<span class="normal"><a href="#__codelineno-0-205">205</a></span>
<span class="normal"><a href="#__codelineno-0-206">206</a></span>
<span class="normal"><a href="#__codelineno-0-207">207</a></span>
<span class="normal"><a href="#__codelineno-0-208">208</a></span>
<span class="normal"><a href="#__codelineno-0-209">209</a></span>
<span class="normal"><a href="#__codelineno-0-210">210</a></span>
<span class="normal"><a href="#__codelineno-0-211">211</a></span>
<span class="normal"><a href="#__codelineno-0-212">212</a></span>
<span class="normal"><a href="#__codelineno-0-213">213</a></span>
<span class="normal"><a href="#__codelineno-0-214">214</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-190" name="__codelineno-0-190"></a><span class="nd">@staticmethod</span>
<a id="__codelineno-0-191" name="__codelineno-0-191"></a><span class="k">def</span> <span class="nf">read_manifest_yaml</span><span class="p">(</span><span class="n">fn</span><span class="p">):</span>
<a id="__codelineno-0-192" name="__codelineno-0-192"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-193" name="__codelineno-0-193"></a><span class="sd">    Read a YAML manifest file with custom tags.</span>
<a id="__codelineno-0-194" name="__codelineno-0-194"></a>
<a id="__codelineno-0-195" name="__codelineno-0-195"></a><span class="sd">    This method uses a custom YAML loader to handle special tags like !case and !common-item.</span>
<a id="__codelineno-0-196" name="__codelineno-0-196"></a>
<a id="__codelineno-0-197" name="__codelineno-0-197"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-198" name="__codelineno-0-198"></a><span class="sd">        fn (str): The filename of the YAML manifest to read.</span>
<a id="__codelineno-0-199" name="__codelineno-0-199"></a>
<a id="__codelineno-0-200" name="__codelineno-0-200"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-201" name="__codelineno-0-201"></a><span class="sd">        dict: The parsed content of the YAML file.</span>
<a id="__codelineno-0-202" name="__codelineno-0-202"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-203" name="__codelineno-0-203"></a>
<a id="__codelineno-0-204" name="__codelineno-0-204"></a>    <span class="c1"># NOTE: inspired by https://matthewpburruss.com/post/yaml/</span>
<a id="__codelineno-0-205" name="__codelineno-0-205"></a>
<a id="__codelineno-0-206" name="__codelineno-0-206"></a>    <span class="c1"># Add constructor</span>
<a id="__codelineno-0-207" name="__codelineno-0-207"></a>    <span class="n">Loader</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">FullLoader</span>
<a id="__codelineno-0-208" name="__codelineno-0-208"></a>    <span class="n">Loader</span><span class="o">.</span><span class="n">add_constructor</span><span class="p">(</span><span class="s2">&quot;!case&quot;</span><span class="p">,</span> <span class="n">ManifestParser</span><span class="o">.</span><span class="n">_yaml_constructor_case</span><span class="p">)</span>
<a id="__codelineno-0-209" name="__codelineno-0-209"></a>    <span class="n">Loader</span><span class="o">.</span><span class="n">add_constructor</span><span class="p">(</span><span class="s2">&quot;!common-item&quot;</span><span class="p">,</span> <span class="n">ManifestParser</span><span class="o">.</span><span class="n">_yaml_constructor_common_item</span><span class="p">)</span>
<a id="__codelineno-0-210" name="__codelineno-0-210"></a>
<a id="__codelineno-0-211" name="__codelineno-0-211"></a>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">fn</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<a id="__codelineno-0-212" name="__codelineno-0-212"></a>        <span class="n">content</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">Loader</span><span class="p">)</span>
<a id="__codelineno-0-213" name="__codelineno-0-213"></a>
<a id="__codelineno-0-214" name="__codelineno-0-214"></a>    <span class="k">return</span> <span class="n">content</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="scenery.manifest_parser.ManifestParser.validate_dict" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">validate_dict</span><span class="p">(</span><span class="n">d</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Validate the top-level keys of a manifest dictionary.</p>
<p>This method checks if only valid keys are present at the top level and ensures
that either singular or plural forms of 'case' and 'scene' are provided, but not both.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>d</code>
            </td>
            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The manifest dictionary to validate.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>ValueError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If invalid keys are present or if the case/scene keys are not correctly specified.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>scenery/manifest_parser.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-51">51</a></span>
<span class="normal"><a href="#__codelineno-0-52">52</a></span>
<span class="normal"><a href="#__codelineno-0-53">53</a></span>
<span class="normal"><a href="#__codelineno-0-54">54</a></span>
<span class="normal"><a href="#__codelineno-0-55">55</a></span>
<span class="normal"><a href="#__codelineno-0-56">56</a></span>
<span class="normal"><a href="#__codelineno-0-57">57</a></span>
<span class="normal"><a href="#__codelineno-0-58">58</a></span>
<span class="normal"><a href="#__codelineno-0-59">59</a></span>
<span class="normal"><a href="#__codelineno-0-60">60</a></span>
<span class="normal"><a href="#__codelineno-0-61">61</a></span>
<span class="normal"><a href="#__codelineno-0-62">62</a></span>
<span class="normal"><a href="#__codelineno-0-63">63</a></span>
<span class="normal"><a href="#__codelineno-0-64">64</a></span>
<span class="normal"><a href="#__codelineno-0-65">65</a></span>
<span class="normal"><a href="#__codelineno-0-66">66</a></span>
<span class="normal"><a href="#__codelineno-0-67">67</a></span>
<span class="normal"><a href="#__codelineno-0-68">68</a></span>
<span class="normal"><a href="#__codelineno-0-69">69</a></span>
<span class="normal"><a href="#__codelineno-0-70">70</a></span>
<span class="normal"><a href="#__codelineno-0-71">71</a></span>
<span class="normal"><a href="#__codelineno-0-72">72</a></span>
<span class="normal"><a href="#__codelineno-0-73">73</a></span>
<span class="normal"><a href="#__codelineno-0-74">74</a></span>
<span class="normal"><a href="#__codelineno-0-75">75</a></span>
<span class="normal"><a href="#__codelineno-0-76">76</a></span>
<span class="normal"><a href="#__codelineno-0-77">77</a></span>
<span class="normal"><a href="#__codelineno-0-78">78</a></span>
<span class="normal"><a href="#__codelineno-0-79">79</a></span>
<span class="normal"><a href="#__codelineno-0-80">80</a></span>
<span class="normal"><a href="#__codelineno-0-81">81</a></span>
<span class="normal"><a href="#__codelineno-0-82">82</a></span>
<span class="normal"><a href="#__codelineno-0-83">83</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-51" name="__codelineno-0-51"></a><span class="nd">@staticmethod</span>
<a id="__codelineno-0-52" name="__codelineno-0-52"></a><span class="k">def</span> <span class="nf">validate_dict</span><span class="p">(</span><span class="n">d</span><span class="p">:</span> <span class="nb">dict</span><span class="p">):</span>
<a id="__codelineno-0-53" name="__codelineno-0-53"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-54" name="__codelineno-0-54"></a><span class="sd">    Validate the top-level keys of a manifest dictionary.</span>
<a id="__codelineno-0-55" name="__codelineno-0-55"></a>
<a id="__codelineno-0-56" name="__codelineno-0-56"></a><span class="sd">    This method checks if only valid keys are present at the top level and ensures</span>
<a id="__codelineno-0-57" name="__codelineno-0-57"></a><span class="sd">    that either singular or plural forms of &#39;case&#39; and &#39;scene&#39; are provided, but not both.</span>
<a id="__codelineno-0-58" name="__codelineno-0-58"></a>
<a id="__codelineno-0-59" name="__codelineno-0-59"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-60" name="__codelineno-0-60"></a><span class="sd">        d (dict): The manifest dictionary to validate.</span>
<a id="__codelineno-0-61" name="__codelineno-0-61"></a>
<a id="__codelineno-0-62" name="__codelineno-0-62"></a><span class="sd">    Raises:</span>
<a id="__codelineno-0-63" name="__codelineno-0-63"></a><span class="sd">        ValueError: If invalid keys are present or if the case/scene keys are not correctly specified.</span>
<a id="__codelineno-0-64" name="__codelineno-0-64"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-65" name="__codelineno-0-65"></a>
<a id="__codelineno-0-66" name="__codelineno-0-66"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="nb">all</span><span class="p">(</span><span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">value</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">scenery</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">ManifestDictKeys</span><span class="p">]</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
<a id="__codelineno-0-67" name="__codelineno-0-67"></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
<a id="__codelineno-0-68" name="__codelineno-0-68"></a>            <span class="sa">f</span><span class="s2">&quot;Invalid key(s) in </span><span class="si">{</span><span class="n">d</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;manifest_origin&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;No origin found.&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">).&quot;</span>
<a id="__codelineno-0-69" name="__codelineno-0-69"></a>        <span class="p">)</span>
<a id="__codelineno-0-70" name="__codelineno-0-70"></a>
<a id="__codelineno-0-71" name="__codelineno-0-71"></a>    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;case&quot;</span><span class="p">,</span> <span class="s2">&quot;scene&quot;</span><span class="p">]:</span>
<a id="__codelineno-0-72" name="__codelineno-0-72"></a>        <span class="n">has_one</span> <span class="o">=</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">d</span>
<a id="__codelineno-0-73" name="__codelineno-0-73"></a>        <span class="n">has_many</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">s&quot;</span> <span class="ow">in</span> <span class="n">d</span>
<a id="__codelineno-0-74" name="__codelineno-0-74"></a>
<a id="__codelineno-0-75" name="__codelineno-0-75"></a>        <span class="k">if</span> <span class="n">has_one</span> <span class="ow">and</span> <span class="n">has_many</span><span class="p">:</span>
<a id="__codelineno-0-76" name="__codelineno-0-76"></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
<a id="__codelineno-0-77" name="__codelineno-0-77"></a>                <span class="sa">f</span><span class="s2">&quot;Both `</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">` and `</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">s` keys are present at top level.&quot;</span><span class="p">,</span>
<a id="__codelineno-0-78" name="__codelineno-0-78"></a>            <span class="p">)</span>
<a id="__codelineno-0-79" name="__codelineno-0-79"></a>
<a id="__codelineno-0-80" name="__codelineno-0-80"></a>        <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;scene&quot;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="p">(</span><span class="n">has_one</span> <span class="ow">or</span> <span class="n">has_many</span><span class="p">):</span>
<a id="__codelineno-0-81" name="__codelineno-0-81"></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
<a id="__codelineno-0-82" name="__codelineno-0-82"></a>                <span class="sa">f</span><span class="s2">&quot;Neither `</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">` and `</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">s` keys are present at top level.&quot;</span><span class="p">,</span>
<a id="__codelineno-0-83" name="__codelineno-0-83"></a>            <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="scenery.manifest_parser.ManifestParser.validate_yaml" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">validate_yaml</span><span class="p">(</span><span class="n">yaml</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Validate the structure of a YAML-loaded manifest.</p>
<p>This method checks if the YAML content is a dictionary and if it contains only expected keys.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>yaml</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The YAML content to validate.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>TypeError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the YAML content is not a dictionary.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code>ValueError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the YAML content contains unexpected keys.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>scenery/manifest_parser.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-145">145</a></span>
<span class="normal"><a href="#__codelineno-0-146">146</a></span>
<span class="normal"><a href="#__codelineno-0-147">147</a></span>
<span class="normal"><a href="#__codelineno-0-148">148</a></span>
<span class="normal"><a href="#__codelineno-0-149">149</a></span>
<span class="normal"><a href="#__codelineno-0-150">150</a></span>
<span class="normal"><a href="#__codelineno-0-151">151</a></span>
<span class="normal"><a href="#__codelineno-0-152">152</a></span>
<span class="normal"><a href="#__codelineno-0-153">153</a></span>
<span class="normal"><a href="#__codelineno-0-154">154</a></span>
<span class="normal"><a href="#__codelineno-0-155">155</a></span>
<span class="normal"><a href="#__codelineno-0-156">156</a></span>
<span class="normal"><a href="#__codelineno-0-157">157</a></span>
<span class="normal"><a href="#__codelineno-0-158">158</a></span>
<span class="normal"><a href="#__codelineno-0-159">159</a></span>
<span class="normal"><a href="#__codelineno-0-160">160</a></span>
<span class="normal"><a href="#__codelineno-0-161">161</a></span>
<span class="normal"><a href="#__codelineno-0-162">162</a></span>
<span class="normal"><a href="#__codelineno-0-163">163</a></span>
<span class="normal"><a href="#__codelineno-0-164">164</a></span>
<span class="normal"><a href="#__codelineno-0-165">165</a></span>
<span class="normal"><a href="#__codelineno-0-166">166</a></span>
<span class="normal"><a href="#__codelineno-0-167">167</a></span>
<span class="normal"><a href="#__codelineno-0-168">168</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-145" name="__codelineno-0-145"></a><span class="nd">@staticmethod</span>
<a id="__codelineno-0-146" name="__codelineno-0-146"></a><span class="k">def</span> <span class="nf">validate_yaml</span><span class="p">(</span><span class="n">yaml</span><span class="p">):</span>
<a id="__codelineno-0-147" name="__codelineno-0-147"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-148" name="__codelineno-0-148"></a><span class="sd">    Validate the structure of a YAML-loaded manifest.</span>
<a id="__codelineno-0-149" name="__codelineno-0-149"></a>
<a id="__codelineno-0-150" name="__codelineno-0-150"></a><span class="sd">    This method checks if the YAML content is a dictionary and if it contains only expected keys.</span>
<a id="__codelineno-0-151" name="__codelineno-0-151"></a>
<a id="__codelineno-0-152" name="__codelineno-0-152"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-153" name="__codelineno-0-153"></a><span class="sd">        yaml: The YAML content to validate.</span>
<a id="__codelineno-0-154" name="__codelineno-0-154"></a>
<a id="__codelineno-0-155" name="__codelineno-0-155"></a><span class="sd">    Raises:</span>
<a id="__codelineno-0-156" name="__codelineno-0-156"></a><span class="sd">        TypeError: If the YAML content is not a dictionary.</span>
<a id="__codelineno-0-157" name="__codelineno-0-157"></a><span class="sd">        ValueError: If the YAML content contains unexpected keys.</span>
<a id="__codelineno-0-158" name="__codelineno-0-158"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-159" name="__codelineno-0-159"></a>
<a id="__codelineno-0-160" name="__codelineno-0-160"></a>    <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">yaml</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">dict</span><span class="p">:</span>
<a id="__codelineno-0-161" name="__codelineno-0-161"></a>        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Manifest need to be a dict not a &#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">yaml</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
<a id="__codelineno-0-162" name="__codelineno-0-162"></a>
<a id="__codelineno-0-163" name="__codelineno-0-163"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="nb">all</span><span class="p">(</span>
<a id="__codelineno-0-164" name="__codelineno-0-164"></a>        <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">value</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">scenery</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">ManifestYAMLKeys</span><span class="p">]</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">yaml</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<a id="__codelineno-0-165" name="__codelineno-0-165"></a>    <span class="p">):</span>
<a id="__codelineno-0-166" name="__codelineno-0-166"></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
<a id="__codelineno-0-167" name="__codelineno-0-167"></a>            <span class="sa">f</span><span class="s2">&quot;Invalid key(s) in </span><span class="si">{</span><span class="n">yaml</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">yaml</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;origin&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;No origin found.&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">)&quot;</span>
<a id="__codelineno-0-168" name="__codelineno-0-168"></a>        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div><h2 id="manifest">Manifest</h2>


<div class="doc doc-object doc-module">



<a id="scenery.manifest"></a>
    <div class="doc doc-contents first">

        <p>Represent all data conveied by the manifest</p>








  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="scenery.manifest.Case" class="doc doc-heading">
            <code>Case</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">


        <p>Store a collection of items representing a test case.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="scenery.manifest.Case._id">_id</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The identifier for this case.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="scenery.manifest.Case.items">items</span></code></td>
            <td>
                  <code>dict[str, <a class="autorefs autorefs-internal" title="scenery.manifest.Item" href="#scenery.manifest.Item">Item</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A dictionary of items in this case, indexed by item ID.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><span title="scenery.manifest.Case.__getitem__">__getitem__</span></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Retrieve an item from the case by its ID.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>


<details class="class-methods" open>
  <summary>Class Methods</summary>
  <p>from_id_and_dict(case_id: str, items: dict[str, dict]) -&gt; Case:
    Create a Case instance from a case ID and a dictionary of items.</p>
</details>





              <details class="quote">
                <summary>Source code in <code>scenery/manifest.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-187">187</a></span>
<span class="normal"><a href="#__codelineno-0-188">188</a></span>
<span class="normal"><a href="#__codelineno-0-189">189</a></span>
<span class="normal"><a href="#__codelineno-0-190">190</a></span>
<span class="normal"><a href="#__codelineno-0-191">191</a></span>
<span class="normal"><a href="#__codelineno-0-192">192</a></span>
<span class="normal"><a href="#__codelineno-0-193">193</a></span>
<span class="normal"><a href="#__codelineno-0-194">194</a></span>
<span class="normal"><a href="#__codelineno-0-195">195</a></span>
<span class="normal"><a href="#__codelineno-0-196">196</a></span>
<span class="normal"><a href="#__codelineno-0-197">197</a></span>
<span class="normal"><a href="#__codelineno-0-198">198</a></span>
<span class="normal"><a href="#__codelineno-0-199">199</a></span>
<span class="normal"><a href="#__codelineno-0-200">200</a></span>
<span class="normal"><a href="#__codelineno-0-201">201</a></span>
<span class="normal"><a href="#__codelineno-0-202">202</a></span>
<span class="normal"><a href="#__codelineno-0-203">203</a></span>
<span class="normal"><a href="#__codelineno-0-204">204</a></span>
<span class="normal"><a href="#__codelineno-0-205">205</a></span>
<span class="normal"><a href="#__codelineno-0-206">206</a></span>
<span class="normal"><a href="#__codelineno-0-207">207</a></span>
<span class="normal"><a href="#__codelineno-0-208">208</a></span>
<span class="normal"><a href="#__codelineno-0-209">209</a></span>
<span class="normal"><a href="#__codelineno-0-210">210</a></span>
<span class="normal"><a href="#__codelineno-0-211">211</a></span>
<span class="normal"><a href="#__codelineno-0-212">212</a></span>
<span class="normal"><a href="#__codelineno-0-213">213</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-187" name="__codelineno-0-187"></a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-0-188" name="__codelineno-0-188"></a><span class="k">class</span> <span class="nc">Case</span><span class="p">:</span>
<a id="__codelineno-0-189" name="__codelineno-0-189"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-190" name="__codelineno-0-190"></a><span class="sd">    Store a collection of items representing a test case.</span>
<a id="__codelineno-0-191" name="__codelineno-0-191"></a>
<a id="__codelineno-0-192" name="__codelineno-0-192"></a><span class="sd">    Attributes:</span>
<a id="__codelineno-0-193" name="__codelineno-0-193"></a><span class="sd">        _id (str): The identifier for this case.</span>
<a id="__codelineno-0-194" name="__codelineno-0-194"></a><span class="sd">        items (dict[str, Item]): A dictionary of items in this case, indexed by item ID.</span>
<a id="__codelineno-0-195" name="__codelineno-0-195"></a>
<a id="__codelineno-0-196" name="__codelineno-0-196"></a><span class="sd">    Methods:</span>
<a id="__codelineno-0-197" name="__codelineno-0-197"></a><span class="sd">        __getitem__(item_id): Retrieve an item from the case by its ID.</span>
<a id="__codelineno-0-198" name="__codelineno-0-198"></a>
<a id="__codelineno-0-199" name="__codelineno-0-199"></a><span class="sd">    Class Methods:</span>
<a id="__codelineno-0-200" name="__codelineno-0-200"></a><span class="sd">        from_id_and_dict(case_id: str, items: dict[str, dict]) -&gt; Case:</span>
<a id="__codelineno-0-201" name="__codelineno-0-201"></a><span class="sd">            Create a Case instance from a case ID and a dictionary of items.</span>
<a id="__codelineno-0-202" name="__codelineno-0-202"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-203" name="__codelineno-0-203"></a>
<a id="__codelineno-0-204" name="__codelineno-0-204"></a>    <span class="n">_id</span><span class="p">:</span> <span class="nb">str</span>
<a id="__codelineno-0-205" name="__codelineno-0-205"></a>    <span class="n">items</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Item</span><span class="p">]</span>
<a id="__codelineno-0-206" name="__codelineno-0-206"></a>
<a id="__codelineno-0-207" name="__codelineno-0-207"></a>    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Item</span><span class="p">:</span>
<a id="__codelineno-0-208" name="__codelineno-0-208"></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">[</span><span class="n">item_id</span><span class="p">]</span>
<a id="__codelineno-0-209" name="__codelineno-0-209"></a>
<a id="__codelineno-0-210" name="__codelineno-0-210"></a>    <span class="nd">@classmethod</span>
<a id="__codelineno-0-211" name="__codelineno-0-211"></a>    <span class="k">def</span> <span class="nf">from_id_and_dict</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">case_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">items</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="s2">&quot;Case&quot;</span><span class="p">:</span>
<a id="__codelineno-0-212" name="__codelineno-0-212"></a>        <span class="n">items</span> <span class="o">=</span> <span class="p">{</span><span class="n">item_id</span><span class="p">:</span> <span class="n">Item</span><span class="p">(</span><span class="n">item_id</span><span class="p">,</span> <span class="n">item_dict</span><span class="p">)</span> <span class="k">for</span> <span class="n">item_id</span><span class="p">,</span> <span class="n">item_dict</span> <span class="ow">in</span> <span class="n">items</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
<a id="__codelineno-0-213" name="__codelineno-0-213"></a>        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">case_id</span><span class="p">,</span> <span class="n">items</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="scenery.manifest.DirectiveCommand" class="doc doc-heading">
            <code>DirectiveCommand</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="enum.Enum">Enum</span></code></p>


        <p>Values allowed for Manifest["checks"]</p>






              <details class="quote">
                <summary>Source code in <code>scenery/manifest.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-121">121</a></span>
<span class="normal"><a href="#__codelineno-0-122">122</a></span>
<span class="normal"><a href="#__codelineno-0-123">123</a></span>
<span class="normal"><a href="#__codelineno-0-124">124</a></span>
<span class="normal"><a href="#__codelineno-0-125">125</a></span>
<span class="normal"><a href="#__codelineno-0-126">126</a></span>
<span class="normal"><a href="#__codelineno-0-127">127</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-121" name="__codelineno-0-121"></a><span class="k">class</span> <span class="nc">DirectiveCommand</span><span class="p">(</span><span class="n">enum</span><span class="o">.</span><span class="n">Enum</span><span class="p">):</span>
<a id="__codelineno-0-122" name="__codelineno-0-122"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Values allowed for Manifest[&quot;checks&quot;]&quot;&quot;&quot;</span>
<a id="__codelineno-0-123" name="__codelineno-0-123"></a>
<a id="__codelineno-0-124" name="__codelineno-0-124"></a>    <span class="n">STATUS_CODE</span> <span class="o">=</span> <span class="s2">&quot;status_code&quot;</span>
<a id="__codelineno-0-125" name="__codelineno-0-125"></a>    <span class="n">REDIRECT_URL</span> <span class="o">=</span> <span class="s2">&quot;redirect_url&quot;</span>
<a id="__codelineno-0-126" name="__codelineno-0-126"></a>    <span class="n">COUNT_INSTANCES</span> <span class="o">=</span> <span class="s2">&quot;count_instances&quot;</span>
<a id="__codelineno-0-127" name="__codelineno-0-127"></a>    <span class="n">DOM_ELEMENT</span> <span class="o">=</span> <span class="s2">&quot;dom_element&quot;</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="scenery.manifest.DomArgument" class="doc doc-heading">
            <code>DomArgument</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="enum.Enum">Enum</span></code></p>


        <p>Values allowed for Manifest["checks]["dom_element"]</p>






              <details class="quote">
                <summary>Source code in <code>scenery/manifest.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-130">130</a></span>
<span class="normal"><a href="#__codelineno-0-131">131</a></span>
<span class="normal"><a href="#__codelineno-0-132">132</a></span>
<span class="normal"><a href="#__codelineno-0-133">133</a></span>
<span class="normal"><a href="#__codelineno-0-134">134</a></span>
<span class="normal"><a href="#__codelineno-0-135">135</a></span>
<span class="normal"><a href="#__codelineno-0-136">136</a></span>
<span class="normal"><a href="#__codelineno-0-137">137</a></span>
<span class="normal"><a href="#__codelineno-0-138">138</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-130" name="__codelineno-0-130"></a><span class="k">class</span> <span class="nc">DomArgument</span><span class="p">(</span><span class="n">enum</span><span class="o">.</span><span class="n">Enum</span><span class="p">):</span>
<a id="__codelineno-0-131" name="__codelineno-0-131"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Values allowed for Manifest[&quot;checks][&quot;dom_element&quot;]&quot;&quot;&quot;</span>
<a id="__codelineno-0-132" name="__codelineno-0-132"></a>
<a id="__codelineno-0-133" name="__codelineno-0-133"></a>    <span class="n">FIND</span> <span class="o">=</span> <span class="s2">&quot;find&quot;</span>
<a id="__codelineno-0-134" name="__codelineno-0-134"></a>    <span class="n">FIND_ALL</span> <span class="o">=</span> <span class="s2">&quot;find_all&quot;</span>
<a id="__codelineno-0-135" name="__codelineno-0-135"></a>    <span class="n">COUNT</span> <span class="o">=</span> <span class="s2">&quot;count&quot;</span>
<a id="__codelineno-0-136" name="__codelineno-0-136"></a>    <span class="n">SCOPE</span> <span class="o">=</span> <span class="s2">&quot;scope&quot;</span>
<a id="__codelineno-0-137" name="__codelineno-0-137"></a>    <span class="n">TEXT</span> <span class="o">=</span> <span class="s2">&quot;text&quot;</span>
<a id="__codelineno-0-138" name="__codelineno-0-138"></a>    <span class="n">ATTRIBUTE</span> <span class="o">=</span> <span class="s2">&quot;attribute&quot;</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="scenery.manifest.HttpCheck" class="doc doc-heading">
            <code>HttpCheck</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="scenery.manifest.HttpDirective" href="#scenery.manifest.HttpDirective">HttpDirective</a></code></p>


        <p>Store a given check to perform (after the subsitution)</p>






              <details class="quote">
                <summary>Source code in <code>scenery/manifest.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-444">444</a></span>
<span class="normal"><a href="#__codelineno-0-445">445</a></span>
<span class="normal"><a href="#__codelineno-0-446">446</a></span>
<span class="normal"><a href="#__codelineno-0-447">447</a></span>
<span class="normal"><a href="#__codelineno-0-448">448</a></span>
<span class="normal"><a href="#__codelineno-0-449">449</a></span>
<span class="normal"><a href="#__codelineno-0-450">450</a></span>
<span class="normal"><a href="#__codelineno-0-451">451</a></span>
<span class="normal"><a href="#__codelineno-0-452">452</a></span>
<span class="normal"><a href="#__codelineno-0-453">453</a></span>
<span class="normal"><a href="#__codelineno-0-454">454</a></span>
<span class="normal"><a href="#__codelineno-0-455">455</a></span>
<span class="normal"><a href="#__codelineno-0-456">456</a></span>
<span class="normal"><a href="#__codelineno-0-457">457</a></span>
<span class="normal"><a href="#__codelineno-0-458">458</a></span>
<span class="normal"><a href="#__codelineno-0-459">459</a></span>
<span class="normal"><a href="#__codelineno-0-460">460</a></span>
<span class="normal"><a href="#__codelineno-0-461">461</a></span>
<span class="normal"><a href="#__codelineno-0-462">462</a></span>
<span class="normal"><a href="#__codelineno-0-463">463</a></span>
<span class="normal"><a href="#__codelineno-0-464">464</a></span>
<span class="normal"><a href="#__codelineno-0-465">465</a></span>
<span class="normal"><a href="#__codelineno-0-466">466</a></span>
<span class="normal"><a href="#__codelineno-0-467">467</a></span>
<span class="normal"><a href="#__codelineno-0-468">468</a></span>
<span class="normal"><a href="#__codelineno-0-469">469</a></span>
<span class="normal"><a href="#__codelineno-0-470">470</a></span>
<span class="normal"><a href="#__codelineno-0-471">471</a></span>
<span class="normal"><a href="#__codelineno-0-472">472</a></span>
<span class="normal"><a href="#__codelineno-0-473">473</a></span>
<span class="normal"><a href="#__codelineno-0-474">474</a></span>
<span class="normal"><a href="#__codelineno-0-475">475</a></span>
<span class="normal"><a href="#__codelineno-0-476">476</a></span>
<span class="normal"><a href="#__codelineno-0-477">477</a></span>
<span class="normal"><a href="#__codelineno-0-478">478</a></span>
<span class="normal"><a href="#__codelineno-0-479">479</a></span>
<span class="normal"><a href="#__codelineno-0-480">480</a></span>
<span class="normal"><a href="#__codelineno-0-481">481</a></span>
<span class="normal"><a href="#__codelineno-0-482">482</a></span>
<span class="normal"><a href="#__codelineno-0-483">483</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-444" name="__codelineno-0-444"></a><span class="nd">@dataclass</span>
<a id="__codelineno-0-445" name="__codelineno-0-445"></a><span class="k">class</span> <span class="nc">HttpCheck</span><span class="p">(</span><span class="n">HttpDirective</span><span class="p">):</span>
<a id="__codelineno-0-446" name="__codelineno-0-446"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Store a given check to perform (after the subsitution)&quot;&quot;&quot;</span>
<a id="__codelineno-0-447" name="__codelineno-0-447"></a>
<a id="__codelineno-0-448" name="__codelineno-0-448"></a>    <span class="k">def</span> <span class="nf">__post_init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-449" name="__codelineno-0-449"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Format self.args&quot;&quot;&quot;</span>
<a id="__codelineno-0-450" name="__codelineno-0-450"></a>
<a id="__codelineno-0-451" name="__codelineno-0-451"></a>        <span class="k">match</span> <span class="bp">self</span><span class="o">.</span><span class="n">instruction</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="p">:</span>
<a id="__codelineno-0-452" name="__codelineno-0-452"></a>            <span class="k">case</span> <span class="n">DirectiveCommand</span><span class="o">.</span><span class="n">STATUS_CODE</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
<a id="__codelineno-0-453" name="__codelineno-0-453"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">args</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">HTTPStatus</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<a id="__codelineno-0-454" name="__codelineno-0-454"></a>            <span class="k">case</span> <span class="n">DirectiveCommand</span><span class="o">.</span><span class="n">DOM_ELEMENT</span><span class="p">,</span> <span class="nb">dict</span><span class="p">(</span><span class="n">d</span><span class="p">):</span>
<a id="__codelineno-0-455" name="__codelineno-0-455"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">args</span> <span class="o">=</span> <span class="p">{</span><span class="n">DomArgument</span><span class="p">(</span><span class="n">key</span><span class="p">):</span> <span class="n">value</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
<a id="__codelineno-0-456" name="__codelineno-0-456"></a>                <span class="k">if</span> <span class="n">attribute</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">DomArgument</span><span class="o">.</span><span class="n">ATTRIBUTE</span><span class="p">):</span>
<a id="__codelineno-0-457" name="__codelineno-0-457"></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="n">DomArgument</span><span class="o">.</span><span class="n">ATTRIBUTE</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-0-458" name="__codelineno-0-458"></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">_format_dom_element_attribute_value</span><span class="p">(</span><span class="n">attribute</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">])</span>
<a id="__codelineno-0-459" name="__codelineno-0-459"></a>                    <span class="p">)</span>
<a id="__codelineno-0-460" name="__codelineno-0-460"></a>            <span class="k">case</span> <span class="n">DirectiveCommand</span><span class="o">.</span><span class="n">REDIRECT_URL</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
<a id="__codelineno-0-461" name="__codelineno-0-461"></a>                <span class="k">pass</span>
<a id="__codelineno-0-462" name="__codelineno-0-462"></a>            <span class="k">case</span> <span class="n">DirectiveCommand</span><span class="o">.</span><span class="n">COUNT_INSTANCES</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;model&quot;</span><span class="p">:</span> <span class="n">ModelBase</span><span class="p">(),</span> <span class="s2">&quot;n&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">n</span><span class="p">)}:</span>
<a id="__codelineno-0-463" name="__codelineno-0-463"></a>                <span class="c1"># Validate model is registered</span>
<a id="__codelineno-0-464" name="__codelineno-0-464"></a>                <span class="n">app_config</span> <span class="o">=</span> <span class="n">django_apps</span><span class="o">.</span><span class="n">get_app_config</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;SCENERY_TESTED_APP_NAME&quot;</span><span class="p">))</span>
<a id="__codelineno-0-465" name="__codelineno-0-465"></a>                <span class="n">app_config</span><span class="o">.</span><span class="n">get_model</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="s2">&quot;model&quot;</span><span class="p">]</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
<a id="__codelineno-0-466" name="__codelineno-0-466"></a>            <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">:</span>
<a id="__codelineno-0-467" name="__codelineno-0-467"></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
<a id="__codelineno-0-468" name="__codelineno-0-468"></a>                    <span class="sa">f</span><span class="s2">&quot;Cannot interpret &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">instruction</span><span class="si">}</span><span class="s2">:(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="si">}</span><span class="s2">)&#39; as Directive&quot;</span>
<a id="__codelineno-0-469" name="__codelineno-0-469"></a>                <span class="p">)</span>
<a id="__codelineno-0-470" name="__codelineno-0-470"></a>
<a id="__codelineno-0-471" name="__codelineno-0-471"></a>    <span class="nd">@staticmethod</span>
<a id="__codelineno-0-472" name="__codelineno-0-472"></a>    <span class="k">def</span> <span class="nf">_format_dom_element_attribute_value</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="nb">str</span><span class="p">:</span>
<a id="__codelineno-0-473" name="__codelineno-0-473"></a>        <span class="k">match</span> <span class="n">value</span><span class="p">:</span>
<a id="__codelineno-0-474" name="__codelineno-0-474"></a>            <span class="k">case</span> <span class="nb">str</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
<a id="__codelineno-0-475" name="__codelineno-0-475"></a>                <span class="k">return</span> <span class="n">value</span>
<a id="__codelineno-0-476" name="__codelineno-0-476"></a>            <span class="k">case</span> <span class="nb">list</span><span class="p">(</span><span class="n">l</span><span class="p">):</span>
<a id="__codelineno-0-477" name="__codelineno-0-477"></a>                <span class="k">return</span> <span class="n">value</span>
<a id="__codelineno-0-478" name="__codelineno-0-478"></a>            <span class="k">case</span> <span class="nb">int</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
<a id="__codelineno-0-479" name="__codelineno-0-479"></a>                <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<a id="__codelineno-0-480" name="__codelineno-0-480"></a>            <span class="k">case</span> <span class="n">x</span><span class="p">:</span>
<a id="__codelineno-0-481" name="__codelineno-0-481"></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
<a id="__codelineno-0-482" name="__codelineno-0-482"></a>                    <span class="sa">f</span><span class="s2">&quot;attribute value can only be `str` or `list[str]` not </span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2"> (&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39;)&quot;</span>
<a id="__codelineno-0-483" name="__codelineno-0-483"></a>                <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="scenery.manifest.HttpCheck.__post_init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">__post_init__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Format self.args</p>

            <details class="quote">
              <summary>Source code in <code>scenery/manifest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-448">448</a></span>
<span class="normal"><a href="#__codelineno-0-449">449</a></span>
<span class="normal"><a href="#__codelineno-0-450">450</a></span>
<span class="normal"><a href="#__codelineno-0-451">451</a></span>
<span class="normal"><a href="#__codelineno-0-452">452</a></span>
<span class="normal"><a href="#__codelineno-0-453">453</a></span>
<span class="normal"><a href="#__codelineno-0-454">454</a></span>
<span class="normal"><a href="#__codelineno-0-455">455</a></span>
<span class="normal"><a href="#__codelineno-0-456">456</a></span>
<span class="normal"><a href="#__codelineno-0-457">457</a></span>
<span class="normal"><a href="#__codelineno-0-458">458</a></span>
<span class="normal"><a href="#__codelineno-0-459">459</a></span>
<span class="normal"><a href="#__codelineno-0-460">460</a></span>
<span class="normal"><a href="#__codelineno-0-461">461</a></span>
<span class="normal"><a href="#__codelineno-0-462">462</a></span>
<span class="normal"><a href="#__codelineno-0-463">463</a></span>
<span class="normal"><a href="#__codelineno-0-464">464</a></span>
<span class="normal"><a href="#__codelineno-0-465">465</a></span>
<span class="normal"><a href="#__codelineno-0-466">466</a></span>
<span class="normal"><a href="#__codelineno-0-467">467</a></span>
<span class="normal"><a href="#__codelineno-0-468">468</a></span>
<span class="normal"><a href="#__codelineno-0-469">469</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-448" name="__codelineno-0-448"></a><span class="k">def</span> <span class="nf">__post_init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-449" name="__codelineno-0-449"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Format self.args&quot;&quot;&quot;</span>
<a id="__codelineno-0-450" name="__codelineno-0-450"></a>
<a id="__codelineno-0-451" name="__codelineno-0-451"></a>    <span class="k">match</span> <span class="bp">self</span><span class="o">.</span><span class="n">instruction</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="p">:</span>
<a id="__codelineno-0-452" name="__codelineno-0-452"></a>        <span class="k">case</span> <span class="n">DirectiveCommand</span><span class="o">.</span><span class="n">STATUS_CODE</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
<a id="__codelineno-0-453" name="__codelineno-0-453"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">args</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">HTTPStatus</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<a id="__codelineno-0-454" name="__codelineno-0-454"></a>        <span class="k">case</span> <span class="n">DirectiveCommand</span><span class="o">.</span><span class="n">DOM_ELEMENT</span><span class="p">,</span> <span class="nb">dict</span><span class="p">(</span><span class="n">d</span><span class="p">):</span>
<a id="__codelineno-0-455" name="__codelineno-0-455"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">args</span> <span class="o">=</span> <span class="p">{</span><span class="n">DomArgument</span><span class="p">(</span><span class="n">key</span><span class="p">):</span> <span class="n">value</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
<a id="__codelineno-0-456" name="__codelineno-0-456"></a>            <span class="k">if</span> <span class="n">attribute</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">DomArgument</span><span class="o">.</span><span class="n">ATTRIBUTE</span><span class="p">):</span>
<a id="__codelineno-0-457" name="__codelineno-0-457"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="n">DomArgument</span><span class="o">.</span><span class="n">ATTRIBUTE</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-0-458" name="__codelineno-0-458"></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">_format_dom_element_attribute_value</span><span class="p">(</span><span class="n">attribute</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">])</span>
<a id="__codelineno-0-459" name="__codelineno-0-459"></a>                <span class="p">)</span>
<a id="__codelineno-0-460" name="__codelineno-0-460"></a>        <span class="k">case</span> <span class="n">DirectiveCommand</span><span class="o">.</span><span class="n">REDIRECT_URL</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
<a id="__codelineno-0-461" name="__codelineno-0-461"></a>            <span class="k">pass</span>
<a id="__codelineno-0-462" name="__codelineno-0-462"></a>        <span class="k">case</span> <span class="n">DirectiveCommand</span><span class="o">.</span><span class="n">COUNT_INSTANCES</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;model&quot;</span><span class="p">:</span> <span class="n">ModelBase</span><span class="p">(),</span> <span class="s2">&quot;n&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">n</span><span class="p">)}:</span>
<a id="__codelineno-0-463" name="__codelineno-0-463"></a>            <span class="c1"># Validate model is registered</span>
<a id="__codelineno-0-464" name="__codelineno-0-464"></a>            <span class="n">app_config</span> <span class="o">=</span> <span class="n">django_apps</span><span class="o">.</span><span class="n">get_app_config</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;SCENERY_TESTED_APP_NAME&quot;</span><span class="p">))</span>
<a id="__codelineno-0-465" name="__codelineno-0-465"></a>            <span class="n">app_config</span><span class="o">.</span><span class="n">get_model</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="s2">&quot;model&quot;</span><span class="p">]</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
<a id="__codelineno-0-466" name="__codelineno-0-466"></a>        <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">:</span>
<a id="__codelineno-0-467" name="__codelineno-0-467"></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
<a id="__codelineno-0-468" name="__codelineno-0-468"></a>                <span class="sa">f</span><span class="s2">&quot;Cannot interpret &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">instruction</span><span class="si">}</span><span class="s2">:(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="si">}</span><span class="s2">)&#39; as Directive&quot;</span>
<a id="__codelineno-0-469" name="__codelineno-0-469"></a>            <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="scenery.manifest.HttpDirective" class="doc doc-heading">
            <code>HttpDirective</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">


        <p>Store a given check to perform, before the substitution (this is part of a Scene, not a Take).</p>
<p>This class represents a directive (check) to be performed on an HTTP response,
before case-specific substitutions have been made.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="scenery.manifest.HttpDirective.instruction">instruction</span></code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="scenery.manifest.DirectiveCommand" href="#scenery.manifest.DirectiveCommand">DirectiveCommand</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The type of check to perform.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="scenery.manifest.HttpDirective.args">args</span></code></td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The arguments for the check.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="class-methods" open>
  <summary>Class Methods</summary>
  <p>from_dict(directive_dict: dict) -&gt; HttpDirective:
    Create an HttpDirective instance from a dictionary.</p>
</details>





              <details class="quote">
                <summary>Source code in <code>scenery/manifest.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-247">247</a></span>
<span class="normal"><a href="#__codelineno-0-248">248</a></span>
<span class="normal"><a href="#__codelineno-0-249">249</a></span>
<span class="normal"><a href="#__codelineno-0-250">250</a></span>
<span class="normal"><a href="#__codelineno-0-251">251</a></span>
<span class="normal"><a href="#__codelineno-0-252">252</a></span>
<span class="normal"><a href="#__codelineno-0-253">253</a></span>
<span class="normal"><a href="#__codelineno-0-254">254</a></span>
<span class="normal"><a href="#__codelineno-0-255">255</a></span>
<span class="normal"><a href="#__codelineno-0-256">256</a></span>
<span class="normal"><a href="#__codelineno-0-257">257</a></span>
<span class="normal"><a href="#__codelineno-0-258">258</a></span>
<span class="normal"><a href="#__codelineno-0-259">259</a></span>
<span class="normal"><a href="#__codelineno-0-260">260</a></span>
<span class="normal"><a href="#__codelineno-0-261">261</a></span>
<span class="normal"><a href="#__codelineno-0-262">262</a></span>
<span class="normal"><a href="#__codelineno-0-263">263</a></span>
<span class="normal"><a href="#__codelineno-0-264">264</a></span>
<span class="normal"><a href="#__codelineno-0-265">265</a></span>
<span class="normal"><a href="#__codelineno-0-266">266</a></span>
<span class="normal"><a href="#__codelineno-0-267">267</a></span>
<span class="normal"><a href="#__codelineno-0-268">268</a></span>
<span class="normal"><a href="#__codelineno-0-269">269</a></span>
<span class="normal"><a href="#__codelineno-0-270">270</a></span>
<span class="normal"><a href="#__codelineno-0-271">271</a></span>
<span class="normal"><a href="#__codelineno-0-272">272</a></span>
<span class="normal"><a href="#__codelineno-0-273">273</a></span>
<span class="normal"><a href="#__codelineno-0-274">274</a></span>
<span class="normal"><a href="#__codelineno-0-275">275</a></span>
<span class="normal"><a href="#__codelineno-0-276">276</a></span>
<span class="normal"><a href="#__codelineno-0-277">277</a></span>
<span class="normal"><a href="#__codelineno-0-278">278</a></span>
<span class="normal"><a href="#__codelineno-0-279">279</a></span>
<span class="normal"><a href="#__codelineno-0-280">280</a></span>
<span class="normal"><a href="#__codelineno-0-281">281</a></span>
<span class="normal"><a href="#__codelineno-0-282">282</a></span>
<span class="normal"><a href="#__codelineno-0-283">283</a></span>
<span class="normal"><a href="#__codelineno-0-284">284</a></span>
<span class="normal"><a href="#__codelineno-0-285">285</a></span>
<span class="normal"><a href="#__codelineno-0-286">286</a></span>
<span class="normal"><a href="#__codelineno-0-287">287</a></span>
<span class="normal"><a href="#__codelineno-0-288">288</a></span>
<span class="normal"><a href="#__codelineno-0-289">289</a></span>
<span class="normal"><a href="#__codelineno-0-290">290</a></span>
<span class="normal"><a href="#__codelineno-0-291">291</a></span>
<span class="normal"><a href="#__codelineno-0-292">292</a></span>
<span class="normal"><a href="#__codelineno-0-293">293</a></span>
<span class="normal"><a href="#__codelineno-0-294">294</a></span>
<span class="normal"><a href="#__codelineno-0-295">295</a></span>
<span class="normal"><a href="#__codelineno-0-296">296</a></span>
<span class="normal"><a href="#__codelineno-0-297">297</a></span>
<span class="normal"><a href="#__codelineno-0-298">298</a></span>
<span class="normal"><a href="#__codelineno-0-299">299</a></span>
<span class="normal"><a href="#__codelineno-0-300">300</a></span>
<span class="normal"><a href="#__codelineno-0-301">301</a></span>
<span class="normal"><a href="#__codelineno-0-302">302</a></span>
<span class="normal"><a href="#__codelineno-0-303">303</a></span>
<span class="normal"><a href="#__codelineno-0-304">304</a></span>
<span class="normal"><a href="#__codelineno-0-305">305</a></span>
<span class="normal"><a href="#__codelineno-0-306">306</a></span>
<span class="normal"><a href="#__codelineno-0-307">307</a></span>
<span class="normal"><a href="#__codelineno-0-308">308</a></span>
<span class="normal"><a href="#__codelineno-0-309">309</a></span>
<span class="normal"><a href="#__codelineno-0-310">310</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-247" name="__codelineno-0-247"></a><span class="nd">@dataclass</span>
<a id="__codelineno-0-248" name="__codelineno-0-248"></a><span class="k">class</span> <span class="nc">HttpDirective</span><span class="p">:</span>
<a id="__codelineno-0-249" name="__codelineno-0-249"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-250" name="__codelineno-0-250"></a><span class="sd">    Store a given check to perform, before the substitution (this is part of a Scene, not a Take).</span>
<a id="__codelineno-0-251" name="__codelineno-0-251"></a>
<a id="__codelineno-0-252" name="__codelineno-0-252"></a><span class="sd">    This class represents a directive (check) to be performed on an HTTP response,</span>
<a id="__codelineno-0-253" name="__codelineno-0-253"></a><span class="sd">    before case-specific substitutions have been made.</span>
<a id="__codelineno-0-254" name="__codelineno-0-254"></a>
<a id="__codelineno-0-255" name="__codelineno-0-255"></a><span class="sd">    Attributes:</span>
<a id="__codelineno-0-256" name="__codelineno-0-256"></a><span class="sd">        instruction (DirectiveCommand): The type of check to perform.</span>
<a id="__codelineno-0-257" name="__codelineno-0-257"></a><span class="sd">        args (Any): The arguments for the check.</span>
<a id="__codelineno-0-258" name="__codelineno-0-258"></a>
<a id="__codelineno-0-259" name="__codelineno-0-259"></a><span class="sd">    Class Methods:</span>
<a id="__codelineno-0-260" name="__codelineno-0-260"></a><span class="sd">        from_dict(directive_dict: dict) -&gt; HttpDirective:</span>
<a id="__codelineno-0-261" name="__codelineno-0-261"></a><span class="sd">            Create an HttpDirective instance from a dictionary.</span>
<a id="__codelineno-0-262" name="__codelineno-0-262"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-263" name="__codelineno-0-263"></a>
<a id="__codelineno-0-264" name="__codelineno-0-264"></a>    <span class="n">instruction</span><span class="p">:</span> <span class="n">DirectiveCommand</span>
<a id="__codelineno-0-265" name="__codelineno-0-265"></a>    <span class="n">args</span><span class="p">:</span> <span class="n">Any</span>
<a id="__codelineno-0-266" name="__codelineno-0-266"></a>
<a id="__codelineno-0-267" name="__codelineno-0-267"></a>    <span class="k">def</span> <span class="nf">__post_init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-268" name="__codelineno-0-268"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Format self.args&quot;&quot;&quot;</span>
<a id="__codelineno-0-269" name="__codelineno-0-269"></a>
<a id="__codelineno-0-270" name="__codelineno-0-270"></a>        <span class="k">match</span> <span class="bp">self</span><span class="o">.</span><span class="n">instruction</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="p">:</span>
<a id="__codelineno-0-271" name="__codelineno-0-271"></a>            <span class="k">case</span> <span class="n">DirectiveCommand</span><span class="o">.</span><span class="n">STATUS_CODE</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
<a id="__codelineno-0-272" name="__codelineno-0-272"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">args</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">HTTPStatus</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<a id="__codelineno-0-273" name="__codelineno-0-273"></a>                <span class="c1"># NOTE: Workaround if we want the class to be frozen</span>
<a id="__codelineno-0-274" name="__codelineno-0-274"></a>                <span class="c1"># object.__setattr__(self, &quot;args&quot;, HTTPStatus(n))</span>
<a id="__codelineno-0-275" name="__codelineno-0-275"></a>                <span class="k">pass</span>
<a id="__codelineno-0-276" name="__codelineno-0-276"></a>            <span class="k">case</span> <span class="n">DirectiveCommand</span><span class="o">.</span><span class="n">STATUS_CODE</span><span class="p">,</span> <span class="n">Substituable</span><span class="p">():</span>
<a id="__codelineno-0-277" name="__codelineno-0-277"></a>                <span class="k">pass</span>
<a id="__codelineno-0-278" name="__codelineno-0-278"></a>            <span class="k">case</span> <span class="n">DirectiveCommand</span><span class="o">.</span><span class="n">DOM_ELEMENT</span><span class="p">,</span> <span class="nb">dict</span><span class="p">(</span><span class="n">d</span><span class="p">):</span>
<a id="__codelineno-0-279" name="__codelineno-0-279"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">args</span> <span class="o">=</span> <span class="p">{</span><span class="n">DomArgument</span><span class="p">(</span><span class="n">key</span><span class="p">):</span> <span class="n">value</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
<a id="__codelineno-0-280" name="__codelineno-0-280"></a>                <span class="c1"># Check if there is and only one locator</span>
<a id="__codelineno-0-281" name="__codelineno-0-281"></a>                <span class="n">locators</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-282" name="__codelineno-0-282"></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">(</span><span class="n">DomArgument</span><span class="o">.</span><span class="n">FIND_ALL</span><span class="p">,</span> <span class="n">DomArgument</span><span class="o">.</span><span class="n">FIND</span><span class="p">)</span>
<a id="__codelineno-0-283" name="__codelineno-0-283"></a>                <span class="p">]</span>
<a id="__codelineno-0-284" name="__codelineno-0-284"></a>                <span class="k">if</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">(</span><span class="n">locators</span><span class="p">):</span>
<a id="__codelineno-0-285" name="__codelineno-0-285"></a>                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Neither `find_all` or `find` provided to check DOM element&quot;</span><span class="p">)</span>
<a id="__codelineno-0-286" name="__codelineno-0-286"></a>                <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-287" name="__codelineno-0-287"></a>                    <span class="n">locators</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">locators</span><span class="p">))</span>
<a id="__codelineno-0-288" name="__codelineno-0-288"></a>                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">locators</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
<a id="__codelineno-0-289" name="__codelineno-0-289"></a>                        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;More than one locator provided&quot;</span><span class="p">)</span>
<a id="__codelineno-0-290" name="__codelineno-0-290"></a>
<a id="__codelineno-0-291" name="__codelineno-0-291"></a>            <span class="k">case</span> <span class="n">DirectiveCommand</span><span class="o">.</span><span class="n">DOM_ELEMENT</span><span class="p">,</span> <span class="n">Substituable</span><span class="p">():</span>
<a id="__codelineno-0-292" name="__codelineno-0-292"></a>                <span class="k">pass</span>
<a id="__codelineno-0-293" name="__codelineno-0-293"></a>            <span class="k">case</span> <span class="n">DirectiveCommand</span><span class="o">.</span><span class="n">REDIRECT_URL</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
<a id="__codelineno-0-294" name="__codelineno-0-294"></a>                <span class="k">pass</span>
<a id="__codelineno-0-295" name="__codelineno-0-295"></a>            <span class="k">case</span> <span class="n">DirectiveCommand</span><span class="o">.</span><span class="n">REDIRECT_URL</span><span class="p">,</span> <span class="n">Substituable</span><span class="p">():</span>
<a id="__codelineno-0-296" name="__codelineno-0-296"></a>                <span class="k">pass</span>
<a id="__codelineno-0-297" name="__codelineno-0-297"></a>            <span class="k">case</span> <span class="n">DirectiveCommand</span><span class="o">.</span><span class="n">COUNT_INSTANCES</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;model&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">s</span><span class="p">),</span> <span class="s2">&quot;n&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">n</span><span class="p">)}:</span>
<a id="__codelineno-0-298" name="__codelineno-0-298"></a>                <span class="n">app_config</span> <span class="o">=</span> <span class="n">django_apps</span><span class="o">.</span><span class="n">get_app_config</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;SCENERY_TESTED_APP_NAME&quot;</span><span class="p">))</span>
<a id="__codelineno-0-299" name="__codelineno-0-299"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="s2">&quot;model&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">app_config</span><span class="o">.</span><span class="n">get_model</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<a id="__codelineno-0-300" name="__codelineno-0-300"></a>            <span class="k">case</span> <span class="n">DirectiveCommand</span><span class="o">.</span><span class="n">COUNT_INSTANCES</span><span class="p">,</span> <span class="n">Substituable</span><span class="p">():</span>
<a id="__codelineno-0-301" name="__codelineno-0-301"></a>                <span class="k">pass</span>
<a id="__codelineno-0-302" name="__codelineno-0-302"></a>            <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">:</span>
<a id="__codelineno-0-303" name="__codelineno-0-303"></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
<a id="__codelineno-0-304" name="__codelineno-0-304"></a>                    <span class="sa">f</span><span class="s2">&quot;Cannot interpret &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">instruction</span><span class="si">}</span><span class="s2">:(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="si">}</span><span class="s2">)&#39; as Directive&quot;</span>
<a id="__codelineno-0-305" name="__codelineno-0-305"></a>                <span class="p">)</span>
<a id="__codelineno-0-306" name="__codelineno-0-306"></a>
<a id="__codelineno-0-307" name="__codelineno-0-307"></a>    <span class="nd">@classmethod</span>
<a id="__codelineno-0-308" name="__codelineno-0-308"></a>    <span class="k">def</span> <span class="nf">from_dict</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">directive_dict</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;HttpDirective&quot;</span><span class="p">:</span>
<a id="__codelineno-0-309" name="__codelineno-0-309"></a>        <span class="n">instruction</span><span class="p">,</span> <span class="n">args</span> <span class="o">=</span> <span class="n">SingleKeyDict</span><span class="p">(</span><span class="n">directive_dict</span><span class="p">)</span><span class="o">.</span><span class="n">as_tuple</span><span class="p">()</span>
<a id="__codelineno-0-310" name="__codelineno-0-310"></a>        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">DirectiveCommand</span><span class="p">(</span><span class="n">instruction</span><span class="p">),</span> <span class="n">args</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="scenery.manifest.HttpDirective.__post_init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">__post_init__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Format self.args</p>

            <details class="quote">
              <summary>Source code in <code>scenery/manifest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-267">267</a></span>
<span class="normal"><a href="#__codelineno-0-268">268</a></span>
<span class="normal"><a href="#__codelineno-0-269">269</a></span>
<span class="normal"><a href="#__codelineno-0-270">270</a></span>
<span class="normal"><a href="#__codelineno-0-271">271</a></span>
<span class="normal"><a href="#__codelineno-0-272">272</a></span>
<span class="normal"><a href="#__codelineno-0-273">273</a></span>
<span class="normal"><a href="#__codelineno-0-274">274</a></span>
<span class="normal"><a href="#__codelineno-0-275">275</a></span>
<span class="normal"><a href="#__codelineno-0-276">276</a></span>
<span class="normal"><a href="#__codelineno-0-277">277</a></span>
<span class="normal"><a href="#__codelineno-0-278">278</a></span>
<span class="normal"><a href="#__codelineno-0-279">279</a></span>
<span class="normal"><a href="#__codelineno-0-280">280</a></span>
<span class="normal"><a href="#__codelineno-0-281">281</a></span>
<span class="normal"><a href="#__codelineno-0-282">282</a></span>
<span class="normal"><a href="#__codelineno-0-283">283</a></span>
<span class="normal"><a href="#__codelineno-0-284">284</a></span>
<span class="normal"><a href="#__codelineno-0-285">285</a></span>
<span class="normal"><a href="#__codelineno-0-286">286</a></span>
<span class="normal"><a href="#__codelineno-0-287">287</a></span>
<span class="normal"><a href="#__codelineno-0-288">288</a></span>
<span class="normal"><a href="#__codelineno-0-289">289</a></span>
<span class="normal"><a href="#__codelineno-0-290">290</a></span>
<span class="normal"><a href="#__codelineno-0-291">291</a></span>
<span class="normal"><a href="#__codelineno-0-292">292</a></span>
<span class="normal"><a href="#__codelineno-0-293">293</a></span>
<span class="normal"><a href="#__codelineno-0-294">294</a></span>
<span class="normal"><a href="#__codelineno-0-295">295</a></span>
<span class="normal"><a href="#__codelineno-0-296">296</a></span>
<span class="normal"><a href="#__codelineno-0-297">297</a></span>
<span class="normal"><a href="#__codelineno-0-298">298</a></span>
<span class="normal"><a href="#__codelineno-0-299">299</a></span>
<span class="normal"><a href="#__codelineno-0-300">300</a></span>
<span class="normal"><a href="#__codelineno-0-301">301</a></span>
<span class="normal"><a href="#__codelineno-0-302">302</a></span>
<span class="normal"><a href="#__codelineno-0-303">303</a></span>
<span class="normal"><a href="#__codelineno-0-304">304</a></span>
<span class="normal"><a href="#__codelineno-0-305">305</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-267" name="__codelineno-0-267"></a><span class="k">def</span> <span class="nf">__post_init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-268" name="__codelineno-0-268"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Format self.args&quot;&quot;&quot;</span>
<a id="__codelineno-0-269" name="__codelineno-0-269"></a>
<a id="__codelineno-0-270" name="__codelineno-0-270"></a>    <span class="k">match</span> <span class="bp">self</span><span class="o">.</span><span class="n">instruction</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="p">:</span>
<a id="__codelineno-0-271" name="__codelineno-0-271"></a>        <span class="k">case</span> <span class="n">DirectiveCommand</span><span class="o">.</span><span class="n">STATUS_CODE</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
<a id="__codelineno-0-272" name="__codelineno-0-272"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">args</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">HTTPStatus</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<a id="__codelineno-0-273" name="__codelineno-0-273"></a>            <span class="c1"># NOTE: Workaround if we want the class to be frozen</span>
<a id="__codelineno-0-274" name="__codelineno-0-274"></a>            <span class="c1"># object.__setattr__(self, &quot;args&quot;, HTTPStatus(n))</span>
<a id="__codelineno-0-275" name="__codelineno-0-275"></a>            <span class="k">pass</span>
<a id="__codelineno-0-276" name="__codelineno-0-276"></a>        <span class="k">case</span> <span class="n">DirectiveCommand</span><span class="o">.</span><span class="n">STATUS_CODE</span><span class="p">,</span> <span class="n">Substituable</span><span class="p">():</span>
<a id="__codelineno-0-277" name="__codelineno-0-277"></a>            <span class="k">pass</span>
<a id="__codelineno-0-278" name="__codelineno-0-278"></a>        <span class="k">case</span> <span class="n">DirectiveCommand</span><span class="o">.</span><span class="n">DOM_ELEMENT</span><span class="p">,</span> <span class="nb">dict</span><span class="p">(</span><span class="n">d</span><span class="p">):</span>
<a id="__codelineno-0-279" name="__codelineno-0-279"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">args</span> <span class="o">=</span> <span class="p">{</span><span class="n">DomArgument</span><span class="p">(</span><span class="n">key</span><span class="p">):</span> <span class="n">value</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
<a id="__codelineno-0-280" name="__codelineno-0-280"></a>            <span class="c1"># Check if there is and only one locator</span>
<a id="__codelineno-0-281" name="__codelineno-0-281"></a>            <span class="n">locators</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-282" name="__codelineno-0-282"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">(</span><span class="n">DomArgument</span><span class="o">.</span><span class="n">FIND_ALL</span><span class="p">,</span> <span class="n">DomArgument</span><span class="o">.</span><span class="n">FIND</span><span class="p">)</span>
<a id="__codelineno-0-283" name="__codelineno-0-283"></a>            <span class="p">]</span>
<a id="__codelineno-0-284" name="__codelineno-0-284"></a>            <span class="k">if</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">(</span><span class="n">locators</span><span class="p">):</span>
<a id="__codelineno-0-285" name="__codelineno-0-285"></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Neither `find_all` or `find` provided to check DOM element&quot;</span><span class="p">)</span>
<a id="__codelineno-0-286" name="__codelineno-0-286"></a>            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-287" name="__codelineno-0-287"></a>                <span class="n">locators</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">locators</span><span class="p">))</span>
<a id="__codelineno-0-288" name="__codelineno-0-288"></a>                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">locators</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
<a id="__codelineno-0-289" name="__codelineno-0-289"></a>                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;More than one locator provided&quot;</span><span class="p">)</span>
<a id="__codelineno-0-290" name="__codelineno-0-290"></a>
<a id="__codelineno-0-291" name="__codelineno-0-291"></a>        <span class="k">case</span> <span class="n">DirectiveCommand</span><span class="o">.</span><span class="n">DOM_ELEMENT</span><span class="p">,</span> <span class="n">Substituable</span><span class="p">():</span>
<a id="__codelineno-0-292" name="__codelineno-0-292"></a>            <span class="k">pass</span>
<a id="__codelineno-0-293" name="__codelineno-0-293"></a>        <span class="k">case</span> <span class="n">DirectiveCommand</span><span class="o">.</span><span class="n">REDIRECT_URL</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
<a id="__codelineno-0-294" name="__codelineno-0-294"></a>            <span class="k">pass</span>
<a id="__codelineno-0-295" name="__codelineno-0-295"></a>        <span class="k">case</span> <span class="n">DirectiveCommand</span><span class="o">.</span><span class="n">REDIRECT_URL</span><span class="p">,</span> <span class="n">Substituable</span><span class="p">():</span>
<a id="__codelineno-0-296" name="__codelineno-0-296"></a>            <span class="k">pass</span>
<a id="__codelineno-0-297" name="__codelineno-0-297"></a>        <span class="k">case</span> <span class="n">DirectiveCommand</span><span class="o">.</span><span class="n">COUNT_INSTANCES</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;model&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">s</span><span class="p">),</span> <span class="s2">&quot;n&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">n</span><span class="p">)}:</span>
<a id="__codelineno-0-298" name="__codelineno-0-298"></a>            <span class="n">app_config</span> <span class="o">=</span> <span class="n">django_apps</span><span class="o">.</span><span class="n">get_app_config</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;SCENERY_TESTED_APP_NAME&quot;</span><span class="p">))</span>
<a id="__codelineno-0-299" name="__codelineno-0-299"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="s2">&quot;model&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">app_config</span><span class="o">.</span><span class="n">get_model</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<a id="__codelineno-0-300" name="__codelineno-0-300"></a>        <span class="k">case</span> <span class="n">DirectiveCommand</span><span class="o">.</span><span class="n">COUNT_INSTANCES</span><span class="p">,</span> <span class="n">Substituable</span><span class="p">():</span>
<a id="__codelineno-0-301" name="__codelineno-0-301"></a>            <span class="k">pass</span>
<a id="__codelineno-0-302" name="__codelineno-0-302"></a>        <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">:</span>
<a id="__codelineno-0-303" name="__codelineno-0-303"></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
<a id="__codelineno-0-304" name="__codelineno-0-304"></a>                <span class="sa">f</span><span class="s2">&quot;Cannot interpret &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">instruction</span><span class="si">}</span><span class="s2">:(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="si">}</span><span class="s2">)&#39; as Directive&quot;</span>
<a id="__codelineno-0-305" name="__codelineno-0-305"></a>            <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="scenery.manifest.HttpScene" class="doc doc-heading">
            <code>HttpScene</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">


        <p>Store all actions to perform, before the substitution of information from the <code>Cases</code>.</p>
<p>This class represents an HTTP scene, which includes the method, URL, and various
parameters and checks to be performed.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="scenery.manifest.HttpScene.method">method</span></code></td>
            <td>
                  <code><span title="http.HTTPMethod">HTTPMethod</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The HTTP method for this scene.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="scenery.manifest.HttpScene.url">url</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The URL or URL pattern for this scene.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="scenery.manifest.HttpScene.directives">directives</span></code></td>
            <td>
                  <code>list[<a class="autorefs autorefs-internal" title="scenery.manifest.HttpDirective" href="#scenery.manifest.HttpDirective">HttpDirective</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The list of directives (checks) to perform.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="scenery.manifest.HttpScene.data">data</span></code></td>
            <td>
                  <code>dict[str, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The data to be sent with the request.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="scenery.manifest.HttpScene.query_parameters">query_parameters</span></code></td>
            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Query parameters for the URL.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="scenery.manifest.HttpScene.url_parameters">url_parameters</span></code></td>
            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>URL parameters for reverse URL lookup.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><span title="scenery.manifest.HttpScene.shoot">shoot</span></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Case) -&gt; HttpTake:
Create an HttpTake instance by substituting case values into the scene.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>


<details class="class-methods" open>
  <summary>Class Methods</summary>
  <p>from_dict(d: dict) -&gt; HttpScene:
    Create an HttpScene instance from a dictionary.
substitute_recursively(x, case: Case):
    Recursively substitute values from a case into a data structure.</p>
</details>





              <details class="quote">
                <summary>Source code in <code>scenery/manifest.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-313">313</a></span>
<span class="normal"><a href="#__codelineno-0-314">314</a></span>
<span class="normal"><a href="#__codelineno-0-315">315</a></span>
<span class="normal"><a href="#__codelineno-0-316">316</a></span>
<span class="normal"><a href="#__codelineno-0-317">317</a></span>
<span class="normal"><a href="#__codelineno-0-318">318</a></span>
<span class="normal"><a href="#__codelineno-0-319">319</a></span>
<span class="normal"><a href="#__codelineno-0-320">320</a></span>
<span class="normal"><a href="#__codelineno-0-321">321</a></span>
<span class="normal"><a href="#__codelineno-0-322">322</a></span>
<span class="normal"><a href="#__codelineno-0-323">323</a></span>
<span class="normal"><a href="#__codelineno-0-324">324</a></span>
<span class="normal"><a href="#__codelineno-0-325">325</a></span>
<span class="normal"><a href="#__codelineno-0-326">326</a></span>
<span class="normal"><a href="#__codelineno-0-327">327</a></span>
<span class="normal"><a href="#__codelineno-0-328">328</a></span>
<span class="normal"><a href="#__codelineno-0-329">329</a></span>
<span class="normal"><a href="#__codelineno-0-330">330</a></span>
<span class="normal"><a href="#__codelineno-0-331">331</a></span>
<span class="normal"><a href="#__codelineno-0-332">332</a></span>
<span class="normal"><a href="#__codelineno-0-333">333</a></span>
<span class="normal"><a href="#__codelineno-0-334">334</a></span>
<span class="normal"><a href="#__codelineno-0-335">335</a></span>
<span class="normal"><a href="#__codelineno-0-336">336</a></span>
<span class="normal"><a href="#__codelineno-0-337">337</a></span>
<span class="normal"><a href="#__codelineno-0-338">338</a></span>
<span class="normal"><a href="#__codelineno-0-339">339</a></span>
<span class="normal"><a href="#__codelineno-0-340">340</a></span>
<span class="normal"><a href="#__codelineno-0-341">341</a></span>
<span class="normal"><a href="#__codelineno-0-342">342</a></span>
<span class="normal"><a href="#__codelineno-0-343">343</a></span>
<span class="normal"><a href="#__codelineno-0-344">344</a></span>
<span class="normal"><a href="#__codelineno-0-345">345</a></span>
<span class="normal"><a href="#__codelineno-0-346">346</a></span>
<span class="normal"><a href="#__codelineno-0-347">347</a></span>
<span class="normal"><a href="#__codelineno-0-348">348</a></span>
<span class="normal"><a href="#__codelineno-0-349">349</a></span>
<span class="normal"><a href="#__codelineno-0-350">350</a></span>
<span class="normal"><a href="#__codelineno-0-351">351</a></span>
<span class="normal"><a href="#__codelineno-0-352">352</a></span>
<span class="normal"><a href="#__codelineno-0-353">353</a></span>
<span class="normal"><a href="#__codelineno-0-354">354</a></span>
<span class="normal"><a href="#__codelineno-0-355">355</a></span>
<span class="normal"><a href="#__codelineno-0-356">356</a></span>
<span class="normal"><a href="#__codelineno-0-357">357</a></span>
<span class="normal"><a href="#__codelineno-0-358">358</a></span>
<span class="normal"><a href="#__codelineno-0-359">359</a></span>
<span class="normal"><a href="#__codelineno-0-360">360</a></span>
<span class="normal"><a href="#__codelineno-0-361">361</a></span>
<span class="normal"><a href="#__codelineno-0-362">362</a></span>
<span class="normal"><a href="#__codelineno-0-363">363</a></span>
<span class="normal"><a href="#__codelineno-0-364">364</a></span>
<span class="normal"><a href="#__codelineno-0-365">365</a></span>
<span class="normal"><a href="#__codelineno-0-366">366</a></span>
<span class="normal"><a href="#__codelineno-0-367">367</a></span>
<span class="normal"><a href="#__codelineno-0-368">368</a></span>
<span class="normal"><a href="#__codelineno-0-369">369</a></span>
<span class="normal"><a href="#__codelineno-0-370">370</a></span>
<span class="normal"><a href="#__codelineno-0-371">371</a></span>
<span class="normal"><a href="#__codelineno-0-372">372</a></span>
<span class="normal"><a href="#__codelineno-0-373">373</a></span>
<span class="normal"><a href="#__codelineno-0-374">374</a></span>
<span class="normal"><a href="#__codelineno-0-375">375</a></span>
<span class="normal"><a href="#__codelineno-0-376">376</a></span>
<span class="normal"><a href="#__codelineno-0-377">377</a></span>
<span class="normal"><a href="#__codelineno-0-378">378</a></span>
<span class="normal"><a href="#__codelineno-0-379">379</a></span>
<span class="normal"><a href="#__codelineno-0-380">380</a></span>
<span class="normal"><a href="#__codelineno-0-381">381</a></span>
<span class="normal"><a href="#__codelineno-0-382">382</a></span>
<span class="normal"><a href="#__codelineno-0-383">383</a></span>
<span class="normal"><a href="#__codelineno-0-384">384</a></span>
<span class="normal"><a href="#__codelineno-0-385">385</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-313" name="__codelineno-0-313"></a><span class="nd">@dataclass</span>
<a id="__codelineno-0-314" name="__codelineno-0-314"></a><span class="k">class</span> <span class="nc">HttpScene</span><span class="p">:</span>
<a id="__codelineno-0-315" name="__codelineno-0-315"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-316" name="__codelineno-0-316"></a><span class="sd">    Store all actions to perform, before the substitution of information from the `Cases`.</span>
<a id="__codelineno-0-317" name="__codelineno-0-317"></a>
<a id="__codelineno-0-318" name="__codelineno-0-318"></a><span class="sd">    This class represents an HTTP scene, which includes the method, URL, and various</span>
<a id="__codelineno-0-319" name="__codelineno-0-319"></a><span class="sd">    parameters and checks to be performed.</span>
<a id="__codelineno-0-320" name="__codelineno-0-320"></a>
<a id="__codelineno-0-321" name="__codelineno-0-321"></a><span class="sd">    Attributes:</span>
<a id="__codelineno-0-322" name="__codelineno-0-322"></a><span class="sd">        method (http.HTTPMethod): The HTTP method for this scene.</span>
<a id="__codelineno-0-323" name="__codelineno-0-323"></a><span class="sd">        url (str): The URL or URL pattern for this scene.</span>
<a id="__codelineno-0-324" name="__codelineno-0-324"></a><span class="sd">        directives (list[HttpDirective]): The list of directives (checks) to perform.</span>
<a id="__codelineno-0-325" name="__codelineno-0-325"></a><span class="sd">        data (dict[str, Any]): The data to be sent with the request.</span>
<a id="__codelineno-0-326" name="__codelineno-0-326"></a><span class="sd">        query_parameters (dict): Query parameters for the URL.</span>
<a id="__codelineno-0-327" name="__codelineno-0-327"></a><span class="sd">        url_parameters (dict): URL parameters for reverse URL lookup.</span>
<a id="__codelineno-0-328" name="__codelineno-0-328"></a>
<a id="__codelineno-0-329" name="__codelineno-0-329"></a><span class="sd">    Methods:</span>
<a id="__codelineno-0-330" name="__codelineno-0-330"></a><span class="sd">        shoot(case: Case) -&gt; HttpTake:</span>
<a id="__codelineno-0-331" name="__codelineno-0-331"></a><span class="sd">            Create an HttpTake instance by substituting case values into the scene.</span>
<a id="__codelineno-0-332" name="__codelineno-0-332"></a>
<a id="__codelineno-0-333" name="__codelineno-0-333"></a><span class="sd">    Class Methods:</span>
<a id="__codelineno-0-334" name="__codelineno-0-334"></a><span class="sd">        from_dict(d: dict) -&gt; HttpScene:</span>
<a id="__codelineno-0-335" name="__codelineno-0-335"></a><span class="sd">            Create an HttpScene instance from a dictionary.</span>
<a id="__codelineno-0-336" name="__codelineno-0-336"></a><span class="sd">        substitute_recursively(x, case: Case):</span>
<a id="__codelineno-0-337" name="__codelineno-0-337"></a><span class="sd">            Recursively substitute values from a case into a data structure.</span>
<a id="__codelineno-0-338" name="__codelineno-0-338"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-339" name="__codelineno-0-339"></a>
<a id="__codelineno-0-340" name="__codelineno-0-340"></a>    <span class="n">method</span><span class="p">:</span> <span class="n">http</span><span class="o">.</span><span class="n">HTTPMethod</span>
<a id="__codelineno-0-341" name="__codelineno-0-341"></a>    <span class="n">url</span><span class="p">:</span> <span class="nb">str</span>
<a id="__codelineno-0-342" name="__codelineno-0-342"></a>    <span class="n">directives</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">HttpDirective</span><span class="p">]</span>
<a id="__codelineno-0-343" name="__codelineno-0-343"></a>    <span class="n">data</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">)</span>
<a id="__codelineno-0-344" name="__codelineno-0-344"></a>    <span class="n">query_parameters</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">)</span>
<a id="__codelineno-0-345" name="__codelineno-0-345"></a>    <span class="n">url_parameters</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">)</span>
<a id="__codelineno-0-346" name="__codelineno-0-346"></a>
<a id="__codelineno-0-347" name="__codelineno-0-347"></a>    <span class="k">def</span> <span class="nf">__post_init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-348" name="__codelineno-0-348"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">method</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">HTTPMethod</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">method</span><span class="p">)</span>
<a id="__codelineno-0-349" name="__codelineno-0-349"></a>        <span class="c1"># At this point we don&#39;t check url as we wait for subsitution</span>
<a id="__codelineno-0-350" name="__codelineno-0-350"></a>        <span class="c1"># potentially occuring through data/query_parameters/url_parameters</span>
<a id="__codelineno-0-351" name="__codelineno-0-351"></a>
<a id="__codelineno-0-352" name="__codelineno-0-352"></a>    <span class="nd">@classmethod</span>
<a id="__codelineno-0-353" name="__codelineno-0-353"></a>    <span class="k">def</span> <span class="nf">from_dict</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">d</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;HttpScene&quot;</span><span class="p">:</span>
<a id="__codelineno-0-354" name="__codelineno-0-354"></a>        <span class="n">d</span><span class="p">[</span><span class="s2">&quot;directives&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">HttpDirective</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">directive</span><span class="p">)</span> <span class="k">for</span> <span class="n">directive</span> <span class="ow">in</span> <span class="n">d</span><span class="p">[</span><span class="s2">&quot;directives&quot;</span><span class="p">]]</span>
<a id="__codelineno-0-355" name="__codelineno-0-355"></a>        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="o">**</span><span class="n">d</span><span class="p">)</span>
<a id="__codelineno-0-356" name="__codelineno-0-356"></a>
<a id="__codelineno-0-357" name="__codelineno-0-357"></a>    <span class="nd">@classmethod</span>
<a id="__codelineno-0-358" name="__codelineno-0-358"></a>    <span class="k">def</span> <span class="nf">substitute_recursively</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">case</span><span class="p">:</span> <span class="n">Case</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">:</span>
<a id="__codelineno-0-359" name="__codelineno-0-359"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Perform the substitution&quot;&quot;&quot;</span>
<a id="__codelineno-0-360" name="__codelineno-0-360"></a>
<a id="__codelineno-0-361" name="__codelineno-0-361"></a>        <span class="k">match</span> <span class="n">x</span><span class="p">:</span>
<a id="__codelineno-0-362" name="__codelineno-0-362"></a>            <span class="k">case</span><span class="w"> </span><span class="nb">int</span><span class="p">(</span><span class="k">_</span><span class="p">)</span> <span class="o">|</span> <span class="nb">str</span><span class="p">(</span><span class="n">_</span><span class="p">):</span>
<a id="__codelineno-0-363" name="__codelineno-0-363"></a>                <span class="k">return</span> <span class="n">x</span>
<a id="__codelineno-0-364" name="__codelineno-0-364"></a>            <span class="k">case</span> <span class="n">ModelBase</span><span class="p">():</span>
<a id="__codelineno-0-365" name="__codelineno-0-365"></a>                <span class="k">return</span> <span class="n">x</span>
<a id="__codelineno-0-366" name="__codelineno-0-366"></a>            <span class="k">case</span><span class="w"> </span><span class="n">Substituable</span><span class="p">(</span><span class="k">_</span><span class="p">):</span>
<a id="__codelineno-0-367" name="__codelineno-0-367"></a>                <span class="k">return</span> <span class="n">x</span><span class="o">.</span><span class="n">shoot</span><span class="p">(</span><span class="n">case</span><span class="p">)</span>
<a id="__codelineno-0-368" name="__codelineno-0-368"></a>            <span class="k">case</span> <span class="n">HttpDirective</span><span class="p">(</span><span class="n">instruction</span><span class="p">,</span> <span class="n">args</span><span class="p">):</span>
<a id="__codelineno-0-369" name="__codelineno-0-369"></a>                <span class="k">return</span> <span class="n">HttpCheck</span><span class="p">(</span><span class="n">instruction</span><span class="p">,</span> <span class="bp">cls</span><span class="o">.</span><span class="n">substitute_recursively</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">case</span><span class="p">))</span>
<a id="__codelineno-0-370" name="__codelineno-0-370"></a>            <span class="k">case</span><span class="w"> </span><span class="nb">dict</span><span class="p">(</span><span class="k">_</span><span class="p">):</span>
<a id="__codelineno-0-371" name="__codelineno-0-371"></a>                <span class="k">return</span> <span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="bp">cls</span><span class="o">.</span><span class="n">substitute_recursively</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">case</span><span class="p">)</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">x</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
<a id="__codelineno-0-372" name="__codelineno-0-372"></a>            <span class="k">case</span><span class="w"> </span><span class="nb">list</span><span class="p">(</span><span class="k">_</span><span class="p">):</span>
<a id="__codelineno-0-373" name="__codelineno-0-373"></a>                <span class="k">return</span> <span class="p">[</span><span class="bp">cls</span><span class="o">.</span><span class="n">substitute_recursively</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">case</span><span class="p">)</span> <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">x</span><span class="p">]</span>
<a id="__codelineno-0-374" name="__codelineno-0-374"></a>            <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">:</span>
<a id="__codelineno-0-375" name="__codelineno-0-375"></a>                <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Cannot substitute recursively &#39;</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">&#39; (&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39;)&quot;</span><span class="p">)</span>
<a id="__codelineno-0-376" name="__codelineno-0-376"></a>
<a id="__codelineno-0-377" name="__codelineno-0-377"></a>    <span class="k">def</span> <span class="nf">shoot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">case</span><span class="p">:</span> <span class="n">Case</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;HttpTake&quot;</span><span class="p">:</span>
<a id="__codelineno-0-378" name="__codelineno-0-378"></a>        <span class="k">return</span> <span class="n">HttpTake</span><span class="p">(</span>
<a id="__codelineno-0-379" name="__codelineno-0-379"></a>            <span class="n">method</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">method</span><span class="p">,</span>
<a id="__codelineno-0-380" name="__codelineno-0-380"></a>            <span class="n">url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span>
<a id="__codelineno-0-381" name="__codelineno-0-381"></a>            <span class="n">query_parameters</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">query_parameters</span><span class="p">,</span>
<a id="__codelineno-0-382" name="__codelineno-0-382"></a>            <span class="n">data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">substitute_recursively</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">case</span><span class="p">),</span>
<a id="__codelineno-0-383" name="__codelineno-0-383"></a>            <span class="n">url_parameters</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">substitute_recursively</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url_parameters</span><span class="p">,</span> <span class="n">case</span><span class="p">),</span>
<a id="__codelineno-0-384" name="__codelineno-0-384"></a>            <span class="n">checks</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">substitute_recursively</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">directives</span><span class="p">,</span> <span class="n">case</span><span class="p">),</span>
<a id="__codelineno-0-385" name="__codelineno-0-385"></a>        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="scenery.manifest.HttpScene.substitute_recursively" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">substitute_recursively</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">case</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Perform the substitution</p>

            <details class="quote">
              <summary>Source code in <code>scenery/manifest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-357">357</a></span>
<span class="normal"><a href="#__codelineno-0-358">358</a></span>
<span class="normal"><a href="#__codelineno-0-359">359</a></span>
<span class="normal"><a href="#__codelineno-0-360">360</a></span>
<span class="normal"><a href="#__codelineno-0-361">361</a></span>
<span class="normal"><a href="#__codelineno-0-362">362</a></span>
<span class="normal"><a href="#__codelineno-0-363">363</a></span>
<span class="normal"><a href="#__codelineno-0-364">364</a></span>
<span class="normal"><a href="#__codelineno-0-365">365</a></span>
<span class="normal"><a href="#__codelineno-0-366">366</a></span>
<span class="normal"><a href="#__codelineno-0-367">367</a></span>
<span class="normal"><a href="#__codelineno-0-368">368</a></span>
<span class="normal"><a href="#__codelineno-0-369">369</a></span>
<span class="normal"><a href="#__codelineno-0-370">370</a></span>
<span class="normal"><a href="#__codelineno-0-371">371</a></span>
<span class="normal"><a href="#__codelineno-0-372">372</a></span>
<span class="normal"><a href="#__codelineno-0-373">373</a></span>
<span class="normal"><a href="#__codelineno-0-374">374</a></span>
<span class="normal"><a href="#__codelineno-0-375">375</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-357" name="__codelineno-0-357"></a><span class="nd">@classmethod</span>
<a id="__codelineno-0-358" name="__codelineno-0-358"></a><span class="k">def</span> <span class="nf">substitute_recursively</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">,</span> <span class="n">case</span><span class="p">:</span> <span class="n">Case</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">:</span>
<a id="__codelineno-0-359" name="__codelineno-0-359"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Perform the substitution&quot;&quot;&quot;</span>
<a id="__codelineno-0-360" name="__codelineno-0-360"></a>
<a id="__codelineno-0-361" name="__codelineno-0-361"></a>    <span class="k">match</span> <span class="n">x</span><span class="p">:</span>
<a id="__codelineno-0-362" name="__codelineno-0-362"></a>        <span class="k">case</span><span class="w"> </span><span class="nb">int</span><span class="p">(</span><span class="k">_</span><span class="p">)</span> <span class="o">|</span> <span class="nb">str</span><span class="p">(</span><span class="n">_</span><span class="p">):</span>
<a id="__codelineno-0-363" name="__codelineno-0-363"></a>            <span class="k">return</span> <span class="n">x</span>
<a id="__codelineno-0-364" name="__codelineno-0-364"></a>        <span class="k">case</span> <span class="n">ModelBase</span><span class="p">():</span>
<a id="__codelineno-0-365" name="__codelineno-0-365"></a>            <span class="k">return</span> <span class="n">x</span>
<a id="__codelineno-0-366" name="__codelineno-0-366"></a>        <span class="k">case</span><span class="w"> </span><span class="n">Substituable</span><span class="p">(</span><span class="k">_</span><span class="p">):</span>
<a id="__codelineno-0-367" name="__codelineno-0-367"></a>            <span class="k">return</span> <span class="n">x</span><span class="o">.</span><span class="n">shoot</span><span class="p">(</span><span class="n">case</span><span class="p">)</span>
<a id="__codelineno-0-368" name="__codelineno-0-368"></a>        <span class="k">case</span> <span class="n">HttpDirective</span><span class="p">(</span><span class="n">instruction</span><span class="p">,</span> <span class="n">args</span><span class="p">):</span>
<a id="__codelineno-0-369" name="__codelineno-0-369"></a>            <span class="k">return</span> <span class="n">HttpCheck</span><span class="p">(</span><span class="n">instruction</span><span class="p">,</span> <span class="bp">cls</span><span class="o">.</span><span class="n">substitute_recursively</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">case</span><span class="p">))</span>
<a id="__codelineno-0-370" name="__codelineno-0-370"></a>        <span class="k">case</span><span class="w"> </span><span class="nb">dict</span><span class="p">(</span><span class="k">_</span><span class="p">):</span>
<a id="__codelineno-0-371" name="__codelineno-0-371"></a>            <span class="k">return</span> <span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="bp">cls</span><span class="o">.</span><span class="n">substitute_recursively</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">case</span><span class="p">)</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">x</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
<a id="__codelineno-0-372" name="__codelineno-0-372"></a>        <span class="k">case</span><span class="w"> </span><span class="nb">list</span><span class="p">(</span><span class="k">_</span><span class="p">):</span>
<a id="__codelineno-0-373" name="__codelineno-0-373"></a>            <span class="k">return</span> <span class="p">[</span><span class="bp">cls</span><span class="o">.</span><span class="n">substitute_recursively</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">case</span><span class="p">)</span> <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">x</span><span class="p">]</span>
<a id="__codelineno-0-374" name="__codelineno-0-374"></a>        <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">:</span>
<a id="__codelineno-0-375" name="__codelineno-0-375"></a>            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Cannot substitute recursively &#39;</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">&#39; (&#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39;)&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="scenery.manifest.HttpTake" class="doc doc-heading">
            <code>HttpTake</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">


        <p>Store all the information after the substitution from the <code>Cases</code> has been performed.</p>
<p>This class represents a fully resolved HTTP request to be executed, including
the method, URL, data, and checks to be performed.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="scenery.manifest.HttpTake.method">method</span></code></td>
            <td>
                  <code><span title="http.HTTPMethod">HTTPMethod</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The HTTP method for this take.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="scenery.manifest.HttpTake.url">url</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The fully resolved URL for this take.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="scenery.manifest.HttpTake.checks">checks</span></code></td>
            <td>
                  <code>list[<a class="autorefs autorefs-internal" title="scenery.manifest.HttpCheck" href="#scenery.manifest.HttpCheck">HttpCheck</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The list of checks to perform on the response.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="scenery.manifest.HttpTake.data">data</span></code></td>
            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The data to be sent with the request.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="scenery.manifest.HttpTake.query_parameters">query_parameters</span></code></td>
            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Query parameters for the URL.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="scenery.manifest.HttpTake.url_parameters">url_parameters</span></code></td>
            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>URL parameters used in URL resolution.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="notes" open>
  <summary>Notes</summary>
  <p>The <code>url</code> is expected to be either a valid URL or a registered viewname.
If it's a viewname, it will be resolved using Django's <code>reverse</code> function.</p>
</details>





              <details class="quote">
                <summary>Source code in <code>scenery/manifest.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-486">486</a></span>
<span class="normal"><a href="#__codelineno-0-487">487</a></span>
<span class="normal"><a href="#__codelineno-0-488">488</a></span>
<span class="normal"><a href="#__codelineno-0-489">489</a></span>
<span class="normal"><a href="#__codelineno-0-490">490</a></span>
<span class="normal"><a href="#__codelineno-0-491">491</a></span>
<span class="normal"><a href="#__codelineno-0-492">492</a></span>
<span class="normal"><a href="#__codelineno-0-493">493</a></span>
<span class="normal"><a href="#__codelineno-0-494">494</a></span>
<span class="normal"><a href="#__codelineno-0-495">495</a></span>
<span class="normal"><a href="#__codelineno-0-496">496</a></span>
<span class="normal"><a href="#__codelineno-0-497">497</a></span>
<span class="normal"><a href="#__codelineno-0-498">498</a></span>
<span class="normal"><a href="#__codelineno-0-499">499</a></span>
<span class="normal"><a href="#__codelineno-0-500">500</a></span>
<span class="normal"><a href="#__codelineno-0-501">501</a></span>
<span class="normal"><a href="#__codelineno-0-502">502</a></span>
<span class="normal"><a href="#__codelineno-0-503">503</a></span>
<span class="normal"><a href="#__codelineno-0-504">504</a></span>
<span class="normal"><a href="#__codelineno-0-505">505</a></span>
<span class="normal"><a href="#__codelineno-0-506">506</a></span>
<span class="normal"><a href="#__codelineno-0-507">507</a></span>
<span class="normal"><a href="#__codelineno-0-508">508</a></span>
<span class="normal"><a href="#__codelineno-0-509">509</a></span>
<span class="normal"><a href="#__codelineno-0-510">510</a></span>
<span class="normal"><a href="#__codelineno-0-511">511</a></span>
<span class="normal"><a href="#__codelineno-0-512">512</a></span>
<span class="normal"><a href="#__codelineno-0-513">513</a></span>
<span class="normal"><a href="#__codelineno-0-514">514</a></span>
<span class="normal"><a href="#__codelineno-0-515">515</a></span>
<span class="normal"><a href="#__codelineno-0-516">516</a></span>
<span class="normal"><a href="#__codelineno-0-517">517</a></span>
<span class="normal"><a href="#__codelineno-0-518">518</a></span>
<span class="normal"><a href="#__codelineno-0-519">519</a></span>
<span class="normal"><a href="#__codelineno-0-520">520</a></span>
<span class="normal"><a href="#__codelineno-0-521">521</a></span>
<span class="normal"><a href="#__codelineno-0-522">522</a></span>
<span class="normal"><a href="#__codelineno-0-523">523</a></span>
<span class="normal"><a href="#__codelineno-0-524">524</a></span>
<span class="normal"><a href="#__codelineno-0-525">525</a></span>
<span class="normal"><a href="#__codelineno-0-526">526</a></span>
<span class="normal"><a href="#__codelineno-0-527">527</a></span>
<span class="normal"><a href="#__codelineno-0-528">528</a></span>
<span class="normal"><a href="#__codelineno-0-529">529</a></span>
<span class="normal"><a href="#__codelineno-0-530">530</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-486" name="__codelineno-0-486"></a><span class="nd">@dataclass</span>
<a id="__codelineno-0-487" name="__codelineno-0-487"></a><span class="k">class</span> <span class="nc">HttpTake</span><span class="p">:</span>
<a id="__codelineno-0-488" name="__codelineno-0-488"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-489" name="__codelineno-0-489"></a><span class="sd">    Store all the information after the substitution from the `Cases` has been performed.</span>
<a id="__codelineno-0-490" name="__codelineno-0-490"></a>
<a id="__codelineno-0-491" name="__codelineno-0-491"></a><span class="sd">    This class represents a fully resolved HTTP request to be executed, including</span>
<a id="__codelineno-0-492" name="__codelineno-0-492"></a><span class="sd">    the method, URL, data, and checks to be performed.</span>
<a id="__codelineno-0-493" name="__codelineno-0-493"></a>
<a id="__codelineno-0-494" name="__codelineno-0-494"></a><span class="sd">    Attributes:</span>
<a id="__codelineno-0-495" name="__codelineno-0-495"></a><span class="sd">        method (http.HTTPMethod): The HTTP method for this take.</span>
<a id="__codelineno-0-496" name="__codelineno-0-496"></a><span class="sd">        url (str): The fully resolved URL for this take.</span>
<a id="__codelineno-0-497" name="__codelineno-0-497"></a><span class="sd">        checks (list[HttpCheck]): The list of checks to perform on the response.</span>
<a id="__codelineno-0-498" name="__codelineno-0-498"></a><span class="sd">        data (dict): The data to be sent with the request.</span>
<a id="__codelineno-0-499" name="__codelineno-0-499"></a><span class="sd">        query_parameters (dict): Query parameters for the URL.</span>
<a id="__codelineno-0-500" name="__codelineno-0-500"></a><span class="sd">        url_parameters (dict): URL parameters used in URL resolution.</span>
<a id="__codelineno-0-501" name="__codelineno-0-501"></a>
<a id="__codelineno-0-502" name="__codelineno-0-502"></a><span class="sd">    Notes:</span>
<a id="__codelineno-0-503" name="__codelineno-0-503"></a><span class="sd">        The `url` is expected to be either a valid URL or a registered viewname.</span>
<a id="__codelineno-0-504" name="__codelineno-0-504"></a><span class="sd">        If it&#39;s a viewname, it will be resolved using Django&#39;s `reverse` function.</span>
<a id="__codelineno-0-505" name="__codelineno-0-505"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-506" name="__codelineno-0-506"></a>
<a id="__codelineno-0-507" name="__codelineno-0-507"></a>    <span class="n">method</span><span class="p">:</span> <span class="n">http</span><span class="o">.</span><span class="n">HTTPMethod</span>
<a id="__codelineno-0-508" name="__codelineno-0-508"></a>    <span class="n">url</span><span class="p">:</span> <span class="nb">str</span>
<a id="__codelineno-0-509" name="__codelineno-0-509"></a>    <span class="n">checks</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">HttpCheck</span><span class="p">]</span>
<a id="__codelineno-0-510" name="__codelineno-0-510"></a>    <span class="n">data</span><span class="p">:</span> <span class="nb">dict</span>
<a id="__codelineno-0-511" name="__codelineno-0-511"></a>    <span class="n">query_parameters</span><span class="p">:</span> <span class="nb">dict</span>
<a id="__codelineno-0-512" name="__codelineno-0-512"></a>    <span class="n">url_parameters</span><span class="p">:</span> <span class="nb">dict</span>
<a id="__codelineno-0-513" name="__codelineno-0-513"></a>
<a id="__codelineno-0-514" name="__codelineno-0-514"></a>    <span class="k">def</span> <span class="nf">__post_init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-515" name="__codelineno-0-515"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">method</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">HTTPMethod</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">method</span><span class="p">)</span>
<a id="__codelineno-0-516" name="__codelineno-0-516"></a>
<a id="__codelineno-0-517" name="__codelineno-0-517"></a>        <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-518" name="__codelineno-0-518"></a>            <span class="c1"># First we try if the url is a django viewname</span>
<a id="__codelineno-0-519" name="__codelineno-0-519"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="n">reverse</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">url_parameters</span><span class="p">)</span>
<a id="__codelineno-0-520" name="__codelineno-0-520"></a>        <span class="k">except</span> <span class="n">NoReverseMatch</span><span class="p">:</span>
<a id="__codelineno-0-521" name="__codelineno-0-521"></a>            <span class="c1"># Otherwise we check it is a valid url</span>
<a id="__codelineno-0-522" name="__codelineno-0-522"></a>            <span class="n">parsed</span> <span class="o">=</span> <span class="n">urlparse</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
<a id="__codelineno-0-523" name="__codelineno-0-523"></a>            <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">parsed</span><span class="o">.</span><span class="n">scheme</span> <span class="ow">and</span> <span class="n">parsed</span><span class="o">.</span><span class="n">netloc</span><span class="p">):</span>
<a id="__codelineno-0-524" name="__codelineno-0-524"></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="si">}</span><span class="s2">&#39; could not be reversed and is not a valid url&quot;</span><span class="p">)</span>
<a id="__codelineno-0-525" name="__codelineno-0-525"></a>
<a id="__codelineno-0-526" name="__codelineno-0-526"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">query_parameters</span><span class="p">:</span>
<a id="__codelineno-0-527" name="__codelineno-0-527"></a>            <span class="c1"># NOTE: We use http.urlencode instead for compatibility</span>
<a id="__codelineno-0-528" name="__codelineno-0-528"></a>            <span class="c1"># https://stackoverflow.com/questions/4995279/including-a-querystring-in-a-django-core-urlresolvers-reverse-call</span>
<a id="__codelineno-0-529" name="__codelineno-0-529"></a>            <span class="c1"># https://gist.github.com/benbacardi/227f924ec1d9bedd242b</span>
<a id="__codelineno-0-530" name="__codelineno-0-530"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">+=</span> <span class="s2">&quot;?&quot;</span> <span class="o">+</span> <span class="n">urlencode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">query_parameters</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="scenery.manifest.Item" class="doc doc-heading">
            <code>Item</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">


        <p>Store potential information that will be used to build the HttpRequest</p>






              <details class="quote">
                <summary>Source code in <code>scenery/manifest.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-176">176</a></span>
<span class="normal"><a href="#__codelineno-0-177">177</a></span>
<span class="normal"><a href="#__codelineno-0-178">178</a></span>
<span class="normal"><a href="#__codelineno-0-179">179</a></span>
<span class="normal"><a href="#__codelineno-0-180">180</a></span>
<span class="normal"><a href="#__codelineno-0-181">181</a></span>
<span class="normal"><a href="#__codelineno-0-182">182</a></span>
<span class="normal"><a href="#__codelineno-0-183">183</a></span>
<span class="normal"><a href="#__codelineno-0-184">184</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-176" name="__codelineno-0-176"></a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-0-177" name="__codelineno-0-177"></a><span class="k">class</span> <span class="nc">Item</span><span class="p">:</span>
<a id="__codelineno-0-178" name="__codelineno-0-178"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Store potential information that will be used to build the HttpRequest&quot;&quot;&quot;</span>
<a id="__codelineno-0-179" name="__codelineno-0-179"></a>
<a id="__codelineno-0-180" name="__codelineno-0-180"></a>    <span class="n">_id</span><span class="p">:</span> <span class="nb">str</span>
<a id="__codelineno-0-181" name="__codelineno-0-181"></a>    <span class="n">_dict</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
<a id="__codelineno-0-182" name="__codelineno-0-182"></a>
<a id="__codelineno-0-183" name="__codelineno-0-183"></a>    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<a id="__codelineno-0-184" name="__codelineno-0-184"></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="scenery.manifest.Manifest" class="doc doc-heading">
            <code>Manifest</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">


        <p>Store all the information to build/shoot all different <code>Takes</code>.</p>
<p>This class represents a complete test manifest, including setup instructions,
test cases, and scenes to be executed.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="scenery.manifest.Manifest.set_up_test_data">set_up_test_data</span></code></td>
            <td>
                  <code>list[<a class="autorefs autorefs-internal" title="scenery.manifest.SetUpInstruction" href="#scenery.manifest.SetUpInstruction">SetUpInstruction</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Instructions for setting up test data.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="scenery.manifest.Manifest.set_up">set_up</span></code></td>
            <td>
                  <code>list[<a class="autorefs autorefs-internal" title="scenery.manifest.SetUpInstruction" href="#scenery.manifest.SetUpInstruction">SetUpInstruction</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Instructions for general test setup.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="scenery.manifest.Manifest.scenes">scenes</span></code></td>
            <td>
                  <code>list[<a class="autorefs autorefs-internal" title="scenery.manifest.HttpScene" href="#scenery.manifest.HttpScene">HttpScene</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The HTTP scenes to be executed.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="scenery.manifest.Manifest.cases">cases</span></code></td>
            <td>
                  <code>dict[str, <a class="autorefs autorefs-internal" title="scenery.manifest.Case" href="#scenery.manifest.Case">Case</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The test cases, indexed by case ID.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="scenery.manifest.Manifest.manifest_origin">manifest_origin</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The origin of the manifest file.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="class-methods" open>
  <summary>Class Methods</summary>
  <p>from_formatted_dict(d: dict) -&gt; Manifest:
    Create a Manifest instance from a formatted dictionary.</p>
</details>





              <details class="quote">
                <summary>Source code in <code>scenery/manifest.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-393">393</a></span>
<span class="normal"><a href="#__codelineno-0-394">394</a></span>
<span class="normal"><a href="#__codelineno-0-395">395</a></span>
<span class="normal"><a href="#__codelineno-0-396">396</a></span>
<span class="normal"><a href="#__codelineno-0-397">397</a></span>
<span class="normal"><a href="#__codelineno-0-398">398</a></span>
<span class="normal"><a href="#__codelineno-0-399">399</a></span>
<span class="normal"><a href="#__codelineno-0-400">400</a></span>
<span class="normal"><a href="#__codelineno-0-401">401</a></span>
<span class="normal"><a href="#__codelineno-0-402">402</a></span>
<span class="normal"><a href="#__codelineno-0-403">403</a></span>
<span class="normal"><a href="#__codelineno-0-404">404</a></span>
<span class="normal"><a href="#__codelineno-0-405">405</a></span>
<span class="normal"><a href="#__codelineno-0-406">406</a></span>
<span class="normal"><a href="#__codelineno-0-407">407</a></span>
<span class="normal"><a href="#__codelineno-0-408">408</a></span>
<span class="normal"><a href="#__codelineno-0-409">409</a></span>
<span class="normal"><a href="#__codelineno-0-410">410</a></span>
<span class="normal"><a href="#__codelineno-0-411">411</a></span>
<span class="normal"><a href="#__codelineno-0-412">412</a></span>
<span class="normal"><a href="#__codelineno-0-413">413</a></span>
<span class="normal"><a href="#__codelineno-0-414">414</a></span>
<span class="normal"><a href="#__codelineno-0-415">415</a></span>
<span class="normal"><a href="#__codelineno-0-416">416</a></span>
<span class="normal"><a href="#__codelineno-0-417">417</a></span>
<span class="normal"><a href="#__codelineno-0-418">418</a></span>
<span class="normal"><a href="#__codelineno-0-419">419</a></span>
<span class="normal"><a href="#__codelineno-0-420">420</a></span>
<span class="normal"><a href="#__codelineno-0-421">421</a></span>
<span class="normal"><a href="#__codelineno-0-422">422</a></span>
<span class="normal"><a href="#__codelineno-0-423">423</a></span>
<span class="normal"><a href="#__codelineno-0-424">424</a></span>
<span class="normal"><a href="#__codelineno-0-425">425</a></span>
<span class="normal"><a href="#__codelineno-0-426">426</a></span>
<span class="normal"><a href="#__codelineno-0-427">427</a></span>
<span class="normal"><a href="#__codelineno-0-428">428</a></span>
<span class="normal"><a href="#__codelineno-0-429">429</a></span>
<span class="normal"><a href="#__codelineno-0-430">430</a></span>
<span class="normal"><a href="#__codelineno-0-431">431</a></span>
<span class="normal"><a href="#__codelineno-0-432">432</a></span>
<span class="normal"><a href="#__codelineno-0-433">433</a></span>
<span class="normal"><a href="#__codelineno-0-434">434</a></span>
<span class="normal"><a href="#__codelineno-0-435">435</a></span>
<span class="normal"><a href="#__codelineno-0-436">436</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-393" name="__codelineno-0-393"></a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-0-394" name="__codelineno-0-394"></a><span class="k">class</span> <span class="nc">Manifest</span><span class="p">:</span>
<a id="__codelineno-0-395" name="__codelineno-0-395"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-396" name="__codelineno-0-396"></a><span class="sd">    Store all the information to build/shoot all different `Takes`.</span>
<a id="__codelineno-0-397" name="__codelineno-0-397"></a>
<a id="__codelineno-0-398" name="__codelineno-0-398"></a><span class="sd">    This class represents a complete test manifest, including setup instructions,</span>
<a id="__codelineno-0-399" name="__codelineno-0-399"></a><span class="sd">    test cases, and scenes to be executed.</span>
<a id="__codelineno-0-400" name="__codelineno-0-400"></a>
<a id="__codelineno-0-401" name="__codelineno-0-401"></a><span class="sd">    Attributes:</span>
<a id="__codelineno-0-402" name="__codelineno-0-402"></a><span class="sd">        set_up_test_data (list[SetUpInstruction]): Instructions for setting up test data.</span>
<a id="__codelineno-0-403" name="__codelineno-0-403"></a><span class="sd">        set_up (list[SetUpInstruction]): Instructions for general test setup.</span>
<a id="__codelineno-0-404" name="__codelineno-0-404"></a><span class="sd">        scenes (list[HttpScene]): The HTTP scenes to be executed.</span>
<a id="__codelineno-0-405" name="__codelineno-0-405"></a><span class="sd">        cases (dict[str, Case]): The test cases, indexed by case ID.</span>
<a id="__codelineno-0-406" name="__codelineno-0-406"></a><span class="sd">        manifest_origin (str): The origin of the manifest file.</span>
<a id="__codelineno-0-407" name="__codelineno-0-407"></a>
<a id="__codelineno-0-408" name="__codelineno-0-408"></a><span class="sd">    Class Methods:</span>
<a id="__codelineno-0-409" name="__codelineno-0-409"></a><span class="sd">        from_formatted_dict(d: dict) -&gt; Manifest:</span>
<a id="__codelineno-0-410" name="__codelineno-0-410"></a><span class="sd">            Create a Manifest instance from a formatted dictionary.</span>
<a id="__codelineno-0-411" name="__codelineno-0-411"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-412" name="__codelineno-0-412"></a>
<a id="__codelineno-0-413" name="__codelineno-0-413"></a>    <span class="n">set_up_test_data</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">SetUpInstruction</span><span class="p">]</span>
<a id="__codelineno-0-414" name="__codelineno-0-414"></a>    <span class="n">set_up</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">SetUpInstruction</span><span class="p">]</span>
<a id="__codelineno-0-415" name="__codelineno-0-415"></a>    <span class="n">scenes</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">HttpScene</span><span class="p">]</span>
<a id="__codelineno-0-416" name="__codelineno-0-416"></a>    <span class="n">cases</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Case</span><span class="p">]</span>
<a id="__codelineno-0-417" name="__codelineno-0-417"></a>    <span class="n">manifest_origin</span><span class="p">:</span> <span class="nb">str</span>
<a id="__codelineno-0-418" name="__codelineno-0-418"></a>
<a id="__codelineno-0-419" name="__codelineno-0-419"></a>    <span class="nd">@classmethod</span>
<a id="__codelineno-0-420" name="__codelineno-0-420"></a>    <span class="k">def</span> <span class="nf">from_formatted_dict</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">d</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Manifest&quot;</span><span class="p">:</span>
<a id="__codelineno-0-421" name="__codelineno-0-421"></a>        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
<a id="__codelineno-0-422" name="__codelineno-0-422"></a>            <span class="p">[</span>
<a id="__codelineno-0-423" name="__codelineno-0-423"></a>                <span class="n">SetUpInstruction</span><span class="o">.</span><span class="n">from_object</span><span class="p">(</span><span class="n">instruction</span><span class="p">)</span>
<a id="__codelineno-0-424" name="__codelineno-0-424"></a>                <span class="k">for</span> <span class="n">instruction</span> <span class="ow">in</span> <span class="n">d</span><span class="p">[</span><span class="n">ManifestFormattedDictKeys</span><span class="o">.</span><span class="n">SET_UP_TEST_DATA</span><span class="p">]</span>
<a id="__codelineno-0-425" name="__codelineno-0-425"></a>            <span class="p">],</span>
<a id="__codelineno-0-426" name="__codelineno-0-426"></a>            <span class="p">[</span>
<a id="__codelineno-0-427" name="__codelineno-0-427"></a>                <span class="n">SetUpInstruction</span><span class="o">.</span><span class="n">from_object</span><span class="p">(</span><span class="n">instruction</span><span class="p">)</span>
<a id="__codelineno-0-428" name="__codelineno-0-428"></a>                <span class="k">for</span> <span class="n">instruction</span> <span class="ow">in</span> <span class="n">d</span><span class="p">[</span><span class="n">ManifestFormattedDictKeys</span><span class="o">.</span><span class="n">SET_UP</span><span class="p">]</span>
<a id="__codelineno-0-429" name="__codelineno-0-429"></a>            <span class="p">],</span>
<a id="__codelineno-0-430" name="__codelineno-0-430"></a>            <span class="p">[</span><span class="n">HttpScene</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">scene</span><span class="p">)</span> <span class="k">for</span> <span class="n">scene</span> <span class="ow">in</span> <span class="n">d</span><span class="p">[</span><span class="n">ManifestFormattedDictKeys</span><span class="o">.</span><span class="n">SCENES</span><span class="p">]],</span>
<a id="__codelineno-0-431" name="__codelineno-0-431"></a>            <span class="p">{</span>
<a id="__codelineno-0-432" name="__codelineno-0-432"></a>                <span class="n">case_id</span><span class="p">:</span> <span class="n">Case</span><span class="o">.</span><span class="n">from_id_and_dict</span><span class="p">(</span><span class="n">case_id</span><span class="p">,</span> <span class="n">case_dict</span><span class="p">)</span>
<a id="__codelineno-0-433" name="__codelineno-0-433"></a>                <span class="k">for</span> <span class="n">case_id</span><span class="p">,</span> <span class="n">case_dict</span> <span class="ow">in</span> <span class="n">d</span><span class="p">[</span><span class="n">ManifestFormattedDictKeys</span><span class="o">.</span><span class="n">CASES</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
<a id="__codelineno-0-434" name="__codelineno-0-434"></a>            <span class="p">},</span>
<a id="__codelineno-0-435" name="__codelineno-0-435"></a>            <span class="n">d</span><span class="p">[</span><span class="n">ManifestFormattedDictKeys</span><span class="o">.</span><span class="n">MANIFEST_ORIGIN</span><span class="p">],</span>
<a id="__codelineno-0-436" name="__codelineno-0-436"></a>        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="scenery.manifest.ManifestDictKeys" class="doc doc-heading">
            <code>ManifestDictKeys</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="enum.Enum">Enum</span></code></p>


        <p>Keys allowed for Manifest.from_dict (and .from_yaml)</p>






              <details class="quote">
                <summary>Source code in <code>scenery/manifest.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-88">88</a></span>
<span class="normal"><a href="#__codelineno-0-89">89</a></span>
<span class="normal"><a href="#__codelineno-0-90">90</a></span>
<span class="normal"><a href="#__codelineno-0-91">91</a></span>
<span class="normal"><a href="#__codelineno-0-92">92</a></span>
<span class="normal"><a href="#__codelineno-0-93">93</a></span>
<span class="normal"><a href="#__codelineno-0-94">94</a></span>
<span class="normal"><a href="#__codelineno-0-95">95</a></span>
<span class="normal"><a href="#__codelineno-0-96">96</a></span>
<span class="normal"><a href="#__codelineno-0-97">97</a></span>
<span class="normal"><a href="#__codelineno-0-98">98</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-88" name="__codelineno-0-88"></a><span class="k">class</span> <span class="nc">ManifestDictKeys</span><span class="p">(</span><span class="n">enum</span><span class="o">.</span><span class="n">Enum</span><span class="p">):</span>
<a id="__codelineno-0-89" name="__codelineno-0-89"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Keys allowed for Manifest.from_dict (and .from_yaml)&quot;&quot;&quot;</span>
<a id="__codelineno-0-90" name="__codelineno-0-90"></a>
<a id="__codelineno-0-91" name="__codelineno-0-91"></a>    <span class="n">SET_UP_TEST_DATA</span> <span class="o">=</span> <span class="s2">&quot;set_up_test_data&quot;</span>
<a id="__codelineno-0-92" name="__codelineno-0-92"></a>    <span class="n">SET_UP</span> <span class="o">=</span> <span class="s2">&quot;set_up&quot;</span>
<a id="__codelineno-0-93" name="__codelineno-0-93"></a>    <span class="n">CASES</span> <span class="o">=</span> <span class="s2">&quot;cases&quot;</span>
<a id="__codelineno-0-94" name="__codelineno-0-94"></a>    <span class="n">SCENES</span> <span class="o">=</span> <span class="s2">&quot;scenes&quot;</span>
<a id="__codelineno-0-95" name="__codelineno-0-95"></a>    <span class="n">MANIFEST_ORIGIN</span> <span class="o">=</span> <span class="s2">&quot;manifest_origin&quot;</span>
<a id="__codelineno-0-96" name="__codelineno-0-96"></a>
<a id="__codelineno-0-97" name="__codelineno-0-97"></a>    <span class="n">CASE</span> <span class="o">=</span> <span class="s2">&quot;case&quot;</span>
<a id="__codelineno-0-98" name="__codelineno-0-98"></a>    <span class="n">SCENE</span> <span class="o">=</span> <span class="s2">&quot;scene&quot;</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="scenery.manifest.ManifestFormattedDictKeys" class="doc doc-heading">
            <code>ManifestFormattedDictKeys</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="enum.Enum">Enum</span></code></p>


        <p>Used in formated dict, they are exactly contained when passed in Manifest.from_formatted_dict</p>






              <details class="quote">
                <summary>Source code in <code>scenery/manifest.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-78">78</a></span>
<span class="normal"><a href="#__codelineno-0-79">79</a></span>
<span class="normal"><a href="#__codelineno-0-80">80</a></span>
<span class="normal"><a href="#__codelineno-0-81">81</a></span>
<span class="normal"><a href="#__codelineno-0-82">82</a></span>
<span class="normal"><a href="#__codelineno-0-83">83</a></span>
<span class="normal"><a href="#__codelineno-0-84">84</a></span>
<span class="normal"><a href="#__codelineno-0-85">85</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-78" name="__codelineno-0-78"></a><span class="k">class</span> <span class="nc">ManifestFormattedDictKeys</span><span class="p">(</span><span class="n">enum</span><span class="o">.</span><span class="n">Enum</span><span class="p">):</span>
<a id="__codelineno-0-79" name="__codelineno-0-79"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Used in formated dict, they are exactly contained when passed in Manifest.from_formatted_dict&quot;&quot;&quot;</span>
<a id="__codelineno-0-80" name="__codelineno-0-80"></a>
<a id="__codelineno-0-81" name="__codelineno-0-81"></a>    <span class="n">SET_UP_TEST_DATA</span> <span class="o">=</span> <span class="s2">&quot;set_up_test_data&quot;</span>
<a id="__codelineno-0-82" name="__codelineno-0-82"></a>    <span class="n">SET_UP</span> <span class="o">=</span> <span class="s2">&quot;set_up&quot;</span>
<a id="__codelineno-0-83" name="__codelineno-0-83"></a>    <span class="n">CASES</span> <span class="o">=</span> <span class="s2">&quot;cases&quot;</span>
<a id="__codelineno-0-84" name="__codelineno-0-84"></a>    <span class="n">SCENES</span> <span class="o">=</span> <span class="s2">&quot;scenes&quot;</span>
<a id="__codelineno-0-85" name="__codelineno-0-85"></a>    <span class="n">MANIFEST_ORIGIN</span> <span class="o">=</span> <span class="s2">&quot;manifest_origin&quot;</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="scenery.manifest.ManifestYAMLKeys" class="doc doc-heading">
            <code>ManifestYAMLKeys</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="enum.Enum">Enum</span></code></p>


        <p>Keys allowed for Manifest.from_yaml compared to Manifest.from_dict</p>






              <details class="quote">
                <summary>Source code in <code>scenery/manifest.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-101">101</a></span>
<span class="normal"><a href="#__codelineno-0-102">102</a></span>
<span class="normal"><a href="#__codelineno-0-103">103</a></span>
<span class="normal"><a href="#__codelineno-0-104">104</a></span>
<span class="normal"><a href="#__codelineno-0-105">105</a></span>
<span class="normal"><a href="#__codelineno-0-106">106</a></span>
<span class="normal"><a href="#__codelineno-0-107">107</a></span>
<span class="normal"><a href="#__codelineno-0-108">108</a></span>
<span class="normal"><a href="#__codelineno-0-109">109</a></span>
<span class="normal"><a href="#__codelineno-0-110">110</a></span>
<span class="normal"><a href="#__codelineno-0-111">111</a></span>
<span class="normal"><a href="#__codelineno-0-112">112</a></span>
<span class="normal"><a href="#__codelineno-0-113">113</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-101" name="__codelineno-0-101"></a><span class="k">class</span> <span class="nc">ManifestYAMLKeys</span><span class="p">(</span><span class="n">enum</span><span class="o">.</span><span class="n">Enum</span><span class="p">):</span>
<a id="__codelineno-0-102" name="__codelineno-0-102"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Keys allowed for Manifest.from_yaml compared to Manifest.from_dict&quot;&quot;&quot;</span>
<a id="__codelineno-0-103" name="__codelineno-0-103"></a>
<a id="__codelineno-0-104" name="__codelineno-0-104"></a>    <span class="n">SET_UP_TEST_DATA</span> <span class="o">=</span> <span class="s2">&quot;set_up_test_data&quot;</span>
<a id="__codelineno-0-105" name="__codelineno-0-105"></a>    <span class="n">SET_UP</span> <span class="o">=</span> <span class="s2">&quot;set_up&quot;</span>
<a id="__codelineno-0-106" name="__codelineno-0-106"></a>    <span class="n">CASES</span> <span class="o">=</span> <span class="s2">&quot;cases&quot;</span>
<a id="__codelineno-0-107" name="__codelineno-0-107"></a>    <span class="n">SCENES</span> <span class="o">=</span> <span class="s2">&quot;scenes&quot;</span>
<a id="__codelineno-0-108" name="__codelineno-0-108"></a>    <span class="n">MANIFEST_ORIGIN</span> <span class="o">=</span> <span class="s2">&quot;manifest_origin&quot;</span>
<a id="__codelineno-0-109" name="__codelineno-0-109"></a>
<a id="__codelineno-0-110" name="__codelineno-0-110"></a>    <span class="n">CASE</span> <span class="o">=</span> <span class="s2">&quot;case&quot;</span>
<a id="__codelineno-0-111" name="__codelineno-0-111"></a>    <span class="n">SCENE</span> <span class="o">=</span> <span class="s2">&quot;scene&quot;</span>
<a id="__codelineno-0-112" name="__codelineno-0-112"></a>
<a id="__codelineno-0-113" name="__codelineno-0-113"></a>    <span class="n">VARIABLES</span> <span class="o">=</span> <span class="s2">&quot;variables&quot;</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="scenery.manifest.SetUpInstruction" class="doc doc-heading">
            <code>SetUpInstruction</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">


        <p>Store the command and potential arguments for setUpTestData and setUp</p>






              <details class="quote">
                <summary>Source code in <code>scenery/manifest.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-146">146</a></span>
<span class="normal"><a href="#__codelineno-0-147">147</a></span>
<span class="normal"><a href="#__codelineno-0-148">148</a></span>
<span class="normal"><a href="#__codelineno-0-149">149</a></span>
<span class="normal"><a href="#__codelineno-0-150">150</a></span>
<span class="normal"><a href="#__codelineno-0-151">151</a></span>
<span class="normal"><a href="#__codelineno-0-152">152</a></span>
<span class="normal"><a href="#__codelineno-0-153">153</a></span>
<span class="normal"><a href="#__codelineno-0-154">154</a></span>
<span class="normal"><a href="#__codelineno-0-155">155</a></span>
<span class="normal"><a href="#__codelineno-0-156">156</a></span>
<span class="normal"><a href="#__codelineno-0-157">157</a></span>
<span class="normal"><a href="#__codelineno-0-158">158</a></span>
<span class="normal"><a href="#__codelineno-0-159">159</a></span>
<span class="normal"><a href="#__codelineno-0-160">160</a></span>
<span class="normal"><a href="#__codelineno-0-161">161</a></span>
<span class="normal"><a href="#__codelineno-0-162">162</a></span>
<span class="normal"><a href="#__codelineno-0-163">163</a></span>
<span class="normal"><a href="#__codelineno-0-164">164</a></span>
<span class="normal"><a href="#__codelineno-0-165">165</a></span>
<span class="normal"><a href="#__codelineno-0-166">166</a></span>
<span class="normal"><a href="#__codelineno-0-167">167</a></span>
<span class="normal"><a href="#__codelineno-0-168">168</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-146" name="__codelineno-0-146"></a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-0-147" name="__codelineno-0-147"></a><span class="k">class</span> <span class="nc">SetUpInstruction</span><span class="p">:</span>
<a id="__codelineno-0-148" name="__codelineno-0-148"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Store the command and potential arguments for setUpTestData and setUp&quot;&quot;&quot;</span>
<a id="__codelineno-0-149" name="__codelineno-0-149"></a>
<a id="__codelineno-0-150" name="__codelineno-0-150"></a>    <span class="n">command</span><span class="p">:</span> <span class="nb">str</span>
<a id="__codelineno-0-151" name="__codelineno-0-151"></a>    <span class="n">args</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">)</span>
<a id="__codelineno-0-152" name="__codelineno-0-152"></a>
<a id="__codelineno-0-153" name="__codelineno-0-153"></a>    <span class="nd">@classmethod</span>
<a id="__codelineno-0-154" name="__codelineno-0-154"></a>    <span class="k">def</span> <span class="nf">from_object</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;SetUpInstruction&quot;</span><span class="p">:</span>
<a id="__codelineno-0-155" name="__codelineno-0-155"></a>        <span class="k">match</span> <span class="n">x</span><span class="p">:</span>
<a id="__codelineno-0-156" name="__codelineno-0-156"></a>            <span class="k">case</span> <span class="nb">str</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
<a id="__codelineno-0-157" name="__codelineno-0-157"></a>                <span class="n">cmd_name</span><span class="p">,</span> <span class="n">args</span> <span class="o">=</span> <span class="n">s</span><span class="p">,</span> <span class="p">{}</span>
<a id="__codelineno-0-158" name="__codelineno-0-158"></a>            <span class="k">case</span> <span class="nb">dict</span><span class="p">(</span><span class="n">d</span><span class="p">)</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">d</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
<a id="__codelineno-0-159" name="__codelineno-0-159"></a>                <span class="n">cmd_name</span><span class="p">,</span> <span class="n">args</span> <span class="o">=</span> <span class="n">SingleKeyDict</span><span class="p">(</span><span class="n">d</span><span class="p">)</span><span class="o">.</span><span class="n">as_tuple</span><span class="p">()</span>
<a id="__codelineno-0-160" name="__codelineno-0-160"></a>            <span class="k">case</span> <span class="nb">dict</span><span class="p">(</span><span class="n">d</span><span class="p">):</span>
<a id="__codelineno-0-161" name="__codelineno-0-161"></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
<a id="__codelineno-0-162" name="__codelineno-0-162"></a>                    <span class="sa">f</span><span class="s2">&quot;`SetUpInstruction` cannot be instantiated from dictionnary of length </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="si">}</span><span class="se">\n</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">&quot;</span>
<a id="__codelineno-0-163" name="__codelineno-0-163"></a>                <span class="p">)</span>
<a id="__codelineno-0-164" name="__codelineno-0-164"></a>            <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">:</span>
<a id="__codelineno-0-165" name="__codelineno-0-165"></a>                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;`SetUpInstruction` cannot be instantiated from </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-166" name="__codelineno-0-166"></a>
<a id="__codelineno-0-167" name="__codelineno-0-167"></a>        <span class="c1"># return cls(SetUpCommand(cmd_name), args)</span>
<a id="__codelineno-0-168" name="__codelineno-0-168"></a>        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">cmd_name</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="scenery.manifest.SingleKeyDict" class="doc doc-heading">
            <code>SingleKeyDict</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="typing.Generic">Generic</span>[<span title="scenery.manifest.SingleKeyDictKey">SingleKeyDictKey</span>, <span title="scenery.manifest.SingleKeyDictKeyValue">SingleKeyDictKeyValue</span>]</code></p>


        <p>A dataclass representing a dictionary with a single key-value pair.</p>
<p>This class is useful for having a quick as_tuple representation of a dict {key:value}
returned as (key, value).</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="scenery.manifest.SingleKeyDict._dict">_dict</span></code></td>
            <td>
                  <code>Dict[<span title="scenery.manifest.SingleKeyDictKey">SingleKeyDictKey</span>, <span title="scenery.manifest.SingleKeyDictKeyValue">SingleKeyDictKeyValue</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The underlying dictionary.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="scenery.manifest.SingleKeyDict.key">key</span></code></td>
            <td>
                  <code><span title="scenery.manifest.SingleKeyDictKey">SingleKeyDictKey</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The single key in the dictionary.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="scenery.manifest.SingleKeyDict.value">value</span></code></td>
            <td>
                  <code><span title="scenery.manifest.SingleKeyDictKeyValue">SingleKeyDictKeyValue</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The value associated with the single key.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><span title="scenery.manifest.SingleKeyDict.validate">validate</span></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Ensures the dictionary has exactly one key-value pair.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="scenery.manifest.SingleKeyDict.as_tuple" href="#scenery.manifest.SingleKeyDict.as_tuple">as_tuple</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Returns the key-value pair as a tuple.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>ValueError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the dictionary does not contain exactly one key-value pair.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>






              <details class="quote">
                <summary>Source code in <code>scenery/manifest.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-28">28</a></span>
<span class="normal"><a href="#__codelineno-0-29">29</a></span>
<span class="normal"><a href="#__codelineno-0-30">30</a></span>
<span class="normal"><a href="#__codelineno-0-31">31</a></span>
<span class="normal"><a href="#__codelineno-0-32">32</a></span>
<span class="normal"><a href="#__codelineno-0-33">33</a></span>
<span class="normal"><a href="#__codelineno-0-34">34</a></span>
<span class="normal"><a href="#__codelineno-0-35">35</a></span>
<span class="normal"><a href="#__codelineno-0-36">36</a></span>
<span class="normal"><a href="#__codelineno-0-37">37</a></span>
<span class="normal"><a href="#__codelineno-0-38">38</a></span>
<span class="normal"><a href="#__codelineno-0-39">39</a></span>
<span class="normal"><a href="#__codelineno-0-40">40</a></span>
<span class="normal"><a href="#__codelineno-0-41">41</a></span>
<span class="normal"><a href="#__codelineno-0-42">42</a></span>
<span class="normal"><a href="#__codelineno-0-43">43</a></span>
<span class="normal"><a href="#__codelineno-0-44">44</a></span>
<span class="normal"><a href="#__codelineno-0-45">45</a></span>
<span class="normal"><a href="#__codelineno-0-46">46</a></span>
<span class="normal"><a href="#__codelineno-0-47">47</a></span>
<span class="normal"><a href="#__codelineno-0-48">48</a></span>
<span class="normal"><a href="#__codelineno-0-49">49</a></span>
<span class="normal"><a href="#__codelineno-0-50">50</a></span>
<span class="normal"><a href="#__codelineno-0-51">51</a></span>
<span class="normal"><a href="#__codelineno-0-52">52</a></span>
<span class="normal"><a href="#__codelineno-0-53">53</a></span>
<span class="normal"><a href="#__codelineno-0-54">54</a></span>
<span class="normal"><a href="#__codelineno-0-55">55</a></span>
<span class="normal"><a href="#__codelineno-0-56">56</a></span>
<span class="normal"><a href="#__codelineno-0-57">57</a></span>
<span class="normal"><a href="#__codelineno-0-58">58</a></span>
<span class="normal"><a href="#__codelineno-0-59">59</a></span>
<span class="normal"><a href="#__codelineno-0-60">60</a></span>
<span class="normal"><a href="#__codelineno-0-61">61</a></span>
<span class="normal"><a href="#__codelineno-0-62">62</a></span>
<span class="normal"><a href="#__codelineno-0-63">63</a></span>
<span class="normal"><a href="#__codelineno-0-64">64</a></span>
<span class="normal"><a href="#__codelineno-0-65">65</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-28" name="__codelineno-0-28"></a><span class="nd">@dataclass</span>
<a id="__codelineno-0-29" name="__codelineno-0-29"></a><span class="k">class</span> <span class="nc">SingleKeyDict</span><span class="p">(</span><span class="n">typing</span><span class="o">.</span><span class="n">Generic</span><span class="p">[</span><span class="n">SingleKeyDictKey</span><span class="p">,</span> <span class="n">SingleKeyDictKeyValue</span><span class="p">]):</span>
<a id="__codelineno-0-30" name="__codelineno-0-30"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-31" name="__codelineno-0-31"></a><span class="sd">    A dataclass representing a dictionary with a single key-value pair.</span>
<a id="__codelineno-0-32" name="__codelineno-0-32"></a>
<a id="__codelineno-0-33" name="__codelineno-0-33"></a><span class="sd">    This class is useful for having a quick as_tuple representation of a dict {key:value}</span>
<a id="__codelineno-0-34" name="__codelineno-0-34"></a><span class="sd">    returned as (key, value).</span>
<a id="__codelineno-0-35" name="__codelineno-0-35"></a>
<a id="__codelineno-0-36" name="__codelineno-0-36"></a><span class="sd">    Attributes:</span>
<a id="__codelineno-0-37" name="__codelineno-0-37"></a><span class="sd">        _dict (Dict[SingleKeyDictKey, SingleKeyDictKeyValue]): The underlying dictionary.</span>
<a id="__codelineno-0-38" name="__codelineno-0-38"></a><span class="sd">        key (SingleKeyDictKey): The single key in the dictionary.</span>
<a id="__codelineno-0-39" name="__codelineno-0-39"></a><span class="sd">        value (SingleKeyDictKeyValue): The value associated with the single key.</span>
<a id="__codelineno-0-40" name="__codelineno-0-40"></a>
<a id="__codelineno-0-41" name="__codelineno-0-41"></a><span class="sd">    Methods:</span>
<a id="__codelineno-0-42" name="__codelineno-0-42"></a><span class="sd">        validate(): Ensures the dictionary has exactly one key-value pair.</span>
<a id="__codelineno-0-43" name="__codelineno-0-43"></a><span class="sd">        as_tuple(): Returns the key-value pair as a tuple.</span>
<a id="__codelineno-0-44" name="__codelineno-0-44"></a>
<a id="__codelineno-0-45" name="__codelineno-0-45"></a><span class="sd">    Raises:</span>
<a id="__codelineno-0-46" name="__codelineno-0-46"></a><span class="sd">        ValueError: If the dictionary does not contain exactly one key-value pair.</span>
<a id="__codelineno-0-47" name="__codelineno-0-47"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-48" name="__codelineno-0-48"></a>
<a id="__codelineno-0-49" name="__codelineno-0-49"></a>    <span class="n">_dict</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="n">SingleKeyDictKey</span><span class="p">,</span> <span class="n">SingleKeyDictKeyValue</span><span class="p">]</span> <span class="o">=</span> <span class="n">field</span><span class="p">()</span>
<a id="__codelineno-0-50" name="__codelineno-0-50"></a>    <span class="n">key</span><span class="p">:</span> <span class="n">SingleKeyDictKey</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">init</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-0-51" name="__codelineno-0-51"></a>    <span class="n">value</span><span class="p">:</span> <span class="n">SingleKeyDictKeyValue</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">init</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-0-52" name="__codelineno-0-52"></a>
<a id="__codelineno-0-53" name="__codelineno-0-53"></a>    <span class="k">def</span> <span class="nf">__post_init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-54" name="__codelineno-0-54"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">validate</span><span class="p">()</span>
<a id="__codelineno-0-55" name="__codelineno-0-55"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">key</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_dict</span><span class="o">.</span><span class="n">items</span><span class="p">()))</span>
<a id="__codelineno-0-56" name="__codelineno-0-56"></a>
<a id="__codelineno-0-57" name="__codelineno-0-57"></a>    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-58" name="__codelineno-0-58"></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_dict</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
<a id="__codelineno-0-59" name="__codelineno-0-59"></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
<a id="__codelineno-0-60" name="__codelineno-0-60"></a>                <span class="sa">f</span><span class="s2">&quot;SingleKeyDict should have length 1 not &#39;</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_dict</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39;</span><span class="se">\n</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_dict</span><span class="si">}</span><span class="s2">&quot;</span>
<a id="__codelineno-0-61" name="__codelineno-0-61"></a>            <span class="p">)</span>
<a id="__codelineno-0-62" name="__codelineno-0-62"></a>
<a id="__codelineno-0-63" name="__codelineno-0-63"></a>    <span class="k">def</span> <span class="nf">as_tuple</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">:</span>
<a id="__codelineno-0-64" name="__codelineno-0-64"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;🔴 This should not be confused with built-in method datclasses.astuple&quot;&quot;&quot;</span>
<a id="__codelineno-0-65" name="__codelineno-0-65"></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">key</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="scenery.manifest.SingleKeyDict.as_tuple" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">as_tuple</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>🔴 This should not be confused with built-in method datclasses.astuple</p>

            <details class="quote">
              <summary>Source code in <code>scenery/manifest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-63">63</a></span>
<span class="normal"><a href="#__codelineno-0-64">64</a></span>
<span class="normal"><a href="#__codelineno-0-65">65</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-63" name="__codelineno-0-63"></a><span class="k">def</span> <span class="nf">as_tuple</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">:</span>
<a id="__codelineno-0-64" name="__codelineno-0-64"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;🔴 This should not be confused with built-in method datclasses.astuple&quot;&quot;&quot;</span>
<a id="__codelineno-0-65" name="__codelineno-0-65"></a>    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">key</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div><h2 id="metatest">Metatest</h2>


<div class="doc doc-object doc-module">



<a id="scenery.metatest"></a>
    <div class="doc doc-contents first">








  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="scenery.metatest.MetaTest" class="doc doc-heading">
            <code>MetaTest</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code>type</code></p>


        <p>A metaclass for creating test classes dynamically based on a Manifest.</p>
<p>This metaclass creates test methods for each combination of case and scene in the manifest,
and adds setup methods to the test class.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>clsname</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the class being created.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>bases</code>
            </td>
            <td>
                  <code>tuple</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The base classes of the class being created.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>manifest</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="scenery.manifest.Manifest" href="#scenery.manifest.Manifest">Manifest</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The manifest containing test cases and scenes.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>restrict</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A string to restrict which tests are created, in the format "case_id.scene_pos".</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>type</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new test class with dynamically created test methods.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>ValueError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the restrict argument is not in the correct format.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>






              <details class="quote">
                <summary>Source code in <code>scenery/metatest.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-24">24</a></span>
<span class="normal"><a href="#__codelineno-0-25">25</a></span>
<span class="normal"><a href="#__codelineno-0-26">26</a></span>
<span class="normal"><a href="#__codelineno-0-27">27</a></span>
<span class="normal"><a href="#__codelineno-0-28">28</a></span>
<span class="normal"><a href="#__codelineno-0-29">29</a></span>
<span class="normal"><a href="#__codelineno-0-30">30</a></span>
<span class="normal"><a href="#__codelineno-0-31">31</a></span>
<span class="normal"><a href="#__codelineno-0-32">32</a></span>
<span class="normal"><a href="#__codelineno-0-33">33</a></span>
<span class="normal"><a href="#__codelineno-0-34">34</a></span>
<span class="normal"><a href="#__codelineno-0-35">35</a></span>
<span class="normal"><a href="#__codelineno-0-36">36</a></span>
<span class="normal"><a href="#__codelineno-0-37">37</a></span>
<span class="normal"><a href="#__codelineno-0-38">38</a></span>
<span class="normal"><a href="#__codelineno-0-39">39</a></span>
<span class="normal"><a href="#__codelineno-0-40">40</a></span>
<span class="normal"><a href="#__codelineno-0-41">41</a></span>
<span class="normal"><a href="#__codelineno-0-42">42</a></span>
<span class="normal"><a href="#__codelineno-0-43">43</a></span>
<span class="normal"><a href="#__codelineno-0-44">44</a></span>
<span class="normal"><a href="#__codelineno-0-45">45</a></span>
<span class="normal"><a href="#__codelineno-0-46">46</a></span>
<span class="normal"><a href="#__codelineno-0-47">47</a></span>
<span class="normal"><a href="#__codelineno-0-48">48</a></span>
<span class="normal"><a href="#__codelineno-0-49">49</a></span>
<span class="normal"><a href="#__codelineno-0-50">50</a></span>
<span class="normal"><a href="#__codelineno-0-51">51</a></span>
<span class="normal"><a href="#__codelineno-0-52">52</a></span>
<span class="normal"><a href="#__codelineno-0-53">53</a></span>
<span class="normal"><a href="#__codelineno-0-54">54</a></span>
<span class="normal"><a href="#__codelineno-0-55">55</a></span>
<span class="normal"><a href="#__codelineno-0-56">56</a></span>
<span class="normal"><a href="#__codelineno-0-57">57</a></span>
<span class="normal"><a href="#__codelineno-0-58">58</a></span>
<span class="normal"><a href="#__codelineno-0-59">59</a></span>
<span class="normal"><a href="#__codelineno-0-60">60</a></span>
<span class="normal"><a href="#__codelineno-0-61">61</a></span>
<span class="normal"><a href="#__codelineno-0-62">62</a></span>
<span class="normal"><a href="#__codelineno-0-63">63</a></span>
<span class="normal"><a href="#__codelineno-0-64">64</a></span>
<span class="normal"><a href="#__codelineno-0-65">65</a></span>
<span class="normal"><a href="#__codelineno-0-66">66</a></span>
<span class="normal"><a href="#__codelineno-0-67">67</a></span>
<span class="normal"><a href="#__codelineno-0-68">68</a></span>
<span class="normal"><a href="#__codelineno-0-69">69</a></span>
<span class="normal"><a href="#__codelineno-0-70">70</a></span>
<span class="normal"><a href="#__codelineno-0-71">71</a></span>
<span class="normal"><a href="#__codelineno-0-72">72</a></span>
<span class="normal"><a href="#__codelineno-0-73">73</a></span>
<span class="normal"><a href="#__codelineno-0-74">74</a></span>
<span class="normal"><a href="#__codelineno-0-75">75</a></span>
<span class="normal"><a href="#__codelineno-0-76">76</a></span>
<span class="normal"><a href="#__codelineno-0-77">77</a></span>
<span class="normal"><a href="#__codelineno-0-78">78</a></span>
<span class="normal"><a href="#__codelineno-0-79">79</a></span>
<span class="normal"><a href="#__codelineno-0-80">80</a></span>
<span class="normal"><a href="#__codelineno-0-81">81</a></span>
<span class="normal"><a href="#__codelineno-0-82">82</a></span>
<span class="normal"><a href="#__codelineno-0-83">83</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-24" name="__codelineno-0-24"></a><span class="k">class</span> <span class="nc">MetaTest</span><span class="p">(</span><span class="nb">type</span><span class="p">):</span>
<a id="__codelineno-0-25" name="__codelineno-0-25"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-26" name="__codelineno-0-26"></a><span class="sd">    A metaclass for creating test classes dynamically based on a Manifest.</span>
<a id="__codelineno-0-27" name="__codelineno-0-27"></a>
<a id="__codelineno-0-28" name="__codelineno-0-28"></a><span class="sd">    This metaclass creates test methods for each combination of case and scene in the manifest,</span>
<a id="__codelineno-0-29" name="__codelineno-0-29"></a><span class="sd">    and adds setup methods to the test class.</span>
<a id="__codelineno-0-30" name="__codelineno-0-30"></a>
<a id="__codelineno-0-31" name="__codelineno-0-31"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-32" name="__codelineno-0-32"></a><span class="sd">        clsname (str): The name of the class being created.</span>
<a id="__codelineno-0-33" name="__codelineno-0-33"></a><span class="sd">        bases (tuple): The base classes of the class being created.</span>
<a id="__codelineno-0-34" name="__codelineno-0-34"></a><span class="sd">        manifest (Manifest): The manifest containing test cases and scenes.</span>
<a id="__codelineno-0-35" name="__codelineno-0-35"></a><span class="sd">        restrict (str, optional): A string to restrict which tests are created, in the format &quot;case_id.scene_pos&quot;.</span>
<a id="__codelineno-0-36" name="__codelineno-0-36"></a>
<a id="__codelineno-0-37" name="__codelineno-0-37"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-38" name="__codelineno-0-38"></a><span class="sd">        type: A new test class with dynamically created test methods.</span>
<a id="__codelineno-0-39" name="__codelineno-0-39"></a>
<a id="__codelineno-0-40" name="__codelineno-0-40"></a><span class="sd">    Raises:</span>
<a id="__codelineno-0-41" name="__codelineno-0-41"></a><span class="sd">        ValueError: If the restrict argument is not in the correct format.</span>
<a id="__codelineno-0-42" name="__codelineno-0-42"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-43" name="__codelineno-0-43"></a>
<a id="__codelineno-0-44" name="__codelineno-0-44"></a>    <span class="k">def</span> <span class="fm">__new__</span><span class="p">(</span>
<a id="__codelineno-0-45" name="__codelineno-0-45"></a>        <span class="bp">cls</span><span class="p">,</span>
<a id="__codelineno-0-46" name="__codelineno-0-46"></a>        <span class="n">clsname</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<a id="__codelineno-0-47" name="__codelineno-0-47"></a>        <span class="n">bases</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">type</span><span class="p">],</span>
<a id="__codelineno-0-48" name="__codelineno-0-48"></a>        <span class="n">manifest</span><span class="p">:</span> <span class="n">Manifest</span><span class="p">,</span>
<a id="__codelineno-0-49" name="__codelineno-0-49"></a>        <span class="n">restrict</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-50" name="__codelineno-0-50"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;MetaTest&quot;</span><span class="p">:</span>
<a id="__codelineno-0-51" name="__codelineno-0-51"></a>        <span class="k">if</span> <span class="n">restrict</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-52" name="__codelineno-0-52"></a>            <span class="n">restrict_args</span> <span class="o">=</span> <span class="n">restrict</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>
<a id="__codelineno-0-53" name="__codelineno-0-53"></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">restrict_args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
<a id="__codelineno-0-54" name="__codelineno-0-54"></a>                <span class="n">restrict_case_id</span><span class="p">,</span> <span class="n">restrict_scene_pos</span> <span class="o">=</span> <span class="n">restrict_args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="kc">None</span>
<a id="__codelineno-0-55" name="__codelineno-0-55"></a>            <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">restrict_args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
<a id="__codelineno-0-56" name="__codelineno-0-56"></a>                <span class="n">restrict_case_id</span><span class="p">,</span> <span class="n">restrict_scene_pos</span> <span class="o">=</span> <span class="n">restrict_args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">restrict_args</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<a id="__codelineno-0-57" name="__codelineno-0-57"></a>            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-58" name="__codelineno-0-58"></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Wrong restrict argmuent </span><span class="si">{</span><span class="n">restrict</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-59" name="__codelineno-0-59"></a>
<a id="__codelineno-0-60" name="__codelineno-0-60"></a>        <span class="c1"># Build setUpTestData and SetUp</span>
<a id="__codelineno-0-61" name="__codelineno-0-61"></a>        <span class="n">setUpTestData</span> <span class="o">=</span> <span class="n">MethodBuilder</span><span class="o">.</span><span class="n">build_setUpTestData</span><span class="p">(</span><span class="n">manifest</span><span class="o">.</span><span class="n">set_up_test_data</span><span class="p">)</span>
<a id="__codelineno-0-62" name="__codelineno-0-62"></a>        <span class="n">setUp</span> <span class="o">=</span> <span class="n">MethodBuilder</span><span class="o">.</span><span class="n">build_setUp</span><span class="p">(</span><span class="n">manifest</span><span class="o">.</span><span class="n">set_up</span><span class="p">)</span>
<a id="__codelineno-0-63" name="__codelineno-0-63"></a>
<a id="__codelineno-0-64" name="__codelineno-0-64"></a>        <span class="c1"># Add SetupData and SetUp as methods of the Test class</span>
<a id="__codelineno-0-65" name="__codelineno-0-65"></a>        <span class="n">cls_attrs</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-0-66" name="__codelineno-0-66"></a>            <span class="s2">&quot;setUpTestData&quot;</span><span class="p">:</span> <span class="n">setUpTestData</span><span class="p">,</span>
<a id="__codelineno-0-67" name="__codelineno-0-67"></a>            <span class="s2">&quot;setUp&quot;</span><span class="p">:</span> <span class="n">setUp</span><span class="p">,</span>
<a id="__codelineno-0-68" name="__codelineno-0-68"></a>        <span class="p">}</span>
<a id="__codelineno-0-69" name="__codelineno-0-69"></a>
<a id="__codelineno-0-70" name="__codelineno-0-70"></a>        <span class="k">for</span> <span class="p">(</span><span class="n">case_id</span><span class="p">,</span> <span class="n">case</span><span class="p">),</span> <span class="p">(</span><span class="n">scene_pos</span><span class="p">,</span> <span class="n">scene</span><span class="p">)</span> <span class="ow">in</span> <span class="n">itertools</span><span class="o">.</span><span class="n">product</span><span class="p">(</span>
<a id="__codelineno-0-71" name="__codelineno-0-71"></a>            <span class="n">manifest</span><span class="o">.</span><span class="n">cases</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">manifest</span><span class="o">.</span><span class="n">scenes</span><span class="p">)</span>
<a id="__codelineno-0-72" name="__codelineno-0-72"></a>        <span class="p">):</span>
<a id="__codelineno-0-73" name="__codelineno-0-73"></a>            <span class="k">if</span> <span class="n">restrict</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-74" name="__codelineno-0-74"></a>                <span class="k">if</span> <span class="n">case_id</span> <span class="o">!=</span> <span class="n">restrict_case_id</span><span class="p">:</span>
<a id="__codelineno-0-75" name="__codelineno-0-75"></a>                    <span class="k">continue</span>
<a id="__codelineno-0-76" name="__codelineno-0-76"></a>                <span class="k">elif</span> <span class="n">restrict_scene_pos</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">str</span><span class="p">(</span><span class="n">scene_pos</span><span class="p">)</span> <span class="o">!=</span> <span class="n">restrict_scene_pos</span><span class="p">:</span>
<a id="__codelineno-0-77" name="__codelineno-0-77"></a>                    <span class="k">continue</span>
<a id="__codelineno-0-78" name="__codelineno-0-78"></a>
<a id="__codelineno-0-79" name="__codelineno-0-79"></a>            <span class="n">take</span> <span class="o">=</span> <span class="n">scene</span><span class="o">.</span><span class="n">shoot</span><span class="p">(</span><span class="n">case</span><span class="p">)</span>
<a id="__codelineno-0-80" name="__codelineno-0-80"></a>            <span class="n">test</span> <span class="o">=</span> <span class="n">MethodBuilder</span><span class="o">.</span><span class="n">build_test_from_take</span><span class="p">(</span><span class="n">take</span><span class="p">)</span>
<a id="__codelineno-0-81" name="__codelineno-0-81"></a>            <span class="n">cls_attrs</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="sa">f</span><span class="s2">&quot;test_case_</span><span class="si">{</span><span class="n">case_id</span><span class="si">}</span><span class="s2">_scene_</span><span class="si">{</span><span class="n">scene_pos</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">:</span> <span class="n">test</span><span class="p">})</span>
<a id="__codelineno-0-82" name="__codelineno-0-82"></a>
<a id="__codelineno-0-83" name="__codelineno-0-83"></a>        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">clsname</span><span class="p">,</span> <span class="n">bases</span><span class="p">,</span> <span class="n">cls_attrs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="scenery.metatest.MetaTestDiscoverer" class="doc doc-heading">
            <code>MetaTestDiscoverer</code>


</h2>


    <div class="doc doc-contents ">


        <p>A class for discovering and loading test cases from manifest files.</p>
<p>This class scans a directory for manifest files, creates test classes from these manifests,
and loads the tests into test suites.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="scenery.metatest.MetaTestDiscoverer.logger">logger</span></code></td>
            <td>
                  <code>Logger</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A logger instance for this class.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="scenery.metatest.MetaTestDiscoverer.runner">runner</span></code></td>
            <td>
                  <code>DiscoverRunner</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A Django test runner instance.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="scenery.metatest.MetaTestDiscoverer.loader">loader</span></code></td>
            <td>
                  <code>TestLoader</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A test loader instance from the runner.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>






              <details class="quote">
                <summary>Source code in <code>scenery/metatest.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-86"> 86</a></span>
<span class="normal"><a href="#__codelineno-0-87"> 87</a></span>
<span class="normal"><a href="#__codelineno-0-88"> 88</a></span>
<span class="normal"><a href="#__codelineno-0-89"> 89</a></span>
<span class="normal"><a href="#__codelineno-0-90"> 90</a></span>
<span class="normal"><a href="#__codelineno-0-91"> 91</a></span>
<span class="normal"><a href="#__codelineno-0-92"> 92</a></span>
<span class="normal"><a href="#__codelineno-0-93"> 93</a></span>
<span class="normal"><a href="#__codelineno-0-94"> 94</a></span>
<span class="normal"><a href="#__codelineno-0-95"> 95</a></span>
<span class="normal"><a href="#__codelineno-0-96"> 96</a></span>
<span class="normal"><a href="#__codelineno-0-97"> 97</a></span>
<span class="normal"><a href="#__codelineno-0-98"> 98</a></span>
<span class="normal"><a href="#__codelineno-0-99"> 99</a></span>
<span class="normal"><a href="#__codelineno-0-100">100</a></span>
<span class="normal"><a href="#__codelineno-0-101">101</a></span>
<span class="normal"><a href="#__codelineno-0-102">102</a></span>
<span class="normal"><a href="#__codelineno-0-103">103</a></span>
<span class="normal"><a href="#__codelineno-0-104">104</a></span>
<span class="normal"><a href="#__codelineno-0-105">105</a></span>
<span class="normal"><a href="#__codelineno-0-106">106</a></span>
<span class="normal"><a href="#__codelineno-0-107">107</a></span>
<span class="normal"><a href="#__codelineno-0-108">108</a></span>
<span class="normal"><a href="#__codelineno-0-109">109</a></span>
<span class="normal"><a href="#__codelineno-0-110">110</a></span>
<span class="normal"><a href="#__codelineno-0-111">111</a></span>
<span class="normal"><a href="#__codelineno-0-112">112</a></span>
<span class="normal"><a href="#__codelineno-0-113">113</a></span>
<span class="normal"><a href="#__codelineno-0-114">114</a></span>
<span class="normal"><a href="#__codelineno-0-115">115</a></span>
<span class="normal"><a href="#__codelineno-0-116">116</a></span>
<span class="normal"><a href="#__codelineno-0-117">117</a></span>
<span class="normal"><a href="#__codelineno-0-118">118</a></span>
<span class="normal"><a href="#__codelineno-0-119">119</a></span>
<span class="normal"><a href="#__codelineno-0-120">120</a></span>
<span class="normal"><a href="#__codelineno-0-121">121</a></span>
<span class="normal"><a href="#__codelineno-0-122">122</a></span>
<span class="normal"><a href="#__codelineno-0-123">123</a></span>
<span class="normal"><a href="#__codelineno-0-124">124</a></span>
<span class="normal"><a href="#__codelineno-0-125">125</a></span>
<span class="normal"><a href="#__codelineno-0-126">126</a></span>
<span class="normal"><a href="#__codelineno-0-127">127</a></span>
<span class="normal"><a href="#__codelineno-0-128">128</a></span>
<span class="normal"><a href="#__codelineno-0-129">129</a></span>
<span class="normal"><a href="#__codelineno-0-130">130</a></span>
<span class="normal"><a href="#__codelineno-0-131">131</a></span>
<span class="normal"><a href="#__codelineno-0-132">132</a></span>
<span class="normal"><a href="#__codelineno-0-133">133</a></span>
<span class="normal"><a href="#__codelineno-0-134">134</a></span>
<span class="normal"><a href="#__codelineno-0-135">135</a></span>
<span class="normal"><a href="#__codelineno-0-136">136</a></span>
<span class="normal"><a href="#__codelineno-0-137">137</a></span>
<span class="normal"><a href="#__codelineno-0-138">138</a></span>
<span class="normal"><a href="#__codelineno-0-139">139</a></span>
<span class="normal"><a href="#__codelineno-0-140">140</a></span>
<span class="normal"><a href="#__codelineno-0-141">141</a></span>
<span class="normal"><a href="#__codelineno-0-142">142</a></span>
<span class="normal"><a href="#__codelineno-0-143">143</a></span>
<span class="normal"><a href="#__codelineno-0-144">144</a></span>
<span class="normal"><a href="#__codelineno-0-145">145</a></span>
<span class="normal"><a href="#__codelineno-0-146">146</a></span>
<span class="normal"><a href="#__codelineno-0-147">147</a></span>
<span class="normal"><a href="#__codelineno-0-148">148</a></span>
<span class="normal"><a href="#__codelineno-0-149">149</a></span>
<span class="normal"><a href="#__codelineno-0-150">150</a></span>
<span class="normal"><a href="#__codelineno-0-151">151</a></span>
<span class="normal"><a href="#__codelineno-0-152">152</a></span>
<span class="normal"><a href="#__codelineno-0-153">153</a></span>
<span class="normal"><a href="#__codelineno-0-154">154</a></span>
<span class="normal"><a href="#__codelineno-0-155">155</a></span>
<span class="normal"><a href="#__codelineno-0-156">156</a></span>
<span class="normal"><a href="#__codelineno-0-157">157</a></span>
<span class="normal"><a href="#__codelineno-0-158">158</a></span>
<span class="normal"><a href="#__codelineno-0-159">159</a></span>
<span class="normal"><a href="#__codelineno-0-160">160</a></span>
<span class="normal"><a href="#__codelineno-0-161">161</a></span>
<span class="normal"><a href="#__codelineno-0-162">162</a></span>
<span class="normal"><a href="#__codelineno-0-163">163</a></span>
<span class="normal"><a href="#__codelineno-0-164">164</a></span>
<span class="normal"><a href="#__codelineno-0-165">165</a></span>
<span class="normal"><a href="#__codelineno-0-166">166</a></span>
<span class="normal"><a href="#__codelineno-0-167">167</a></span>
<span class="normal"><a href="#__codelineno-0-168">168</a></span>
<span class="normal"><a href="#__codelineno-0-169">169</a></span>
<span class="normal"><a href="#__codelineno-0-170">170</a></span>
<span class="normal"><a href="#__codelineno-0-171">171</a></span>
<span class="normal"><a href="#__codelineno-0-172">172</a></span>
<span class="normal"><a href="#__codelineno-0-173">173</a></span>
<span class="normal"><a href="#__codelineno-0-174">174</a></span>
<span class="normal"><a href="#__codelineno-0-175">175</a></span>
<span class="normal"><a href="#__codelineno-0-176">176</a></span>
<span class="normal"><a href="#__codelineno-0-177">177</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-86" name="__codelineno-0-86"></a><span class="k">class</span> <span class="nc">MetaTestDiscoverer</span><span class="p">:</span>
<a id="__codelineno-0-87" name="__codelineno-0-87"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-88" name="__codelineno-0-88"></a><span class="sd">    A class for discovering and loading test cases from manifest files.</span>
<a id="__codelineno-0-89" name="__codelineno-0-89"></a>
<a id="__codelineno-0-90" name="__codelineno-0-90"></a><span class="sd">    This class scans a directory for manifest files, creates test classes from these manifests,</span>
<a id="__codelineno-0-91" name="__codelineno-0-91"></a><span class="sd">    and loads the tests into test suites.</span>
<a id="__codelineno-0-92" name="__codelineno-0-92"></a>
<a id="__codelineno-0-93" name="__codelineno-0-93"></a><span class="sd">    Attributes:</span>
<a id="__codelineno-0-94" name="__codelineno-0-94"></a><span class="sd">        logger (Logger): A logger instance for this class.</span>
<a id="__codelineno-0-95" name="__codelineno-0-95"></a><span class="sd">        runner (DiscoverRunner): A Django test runner instance.</span>
<a id="__codelineno-0-96" name="__codelineno-0-96"></a><span class="sd">        loader (TestLoader): A test loader instance from the runner.</span>
<a id="__codelineno-0-97" name="__codelineno-0-97"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-98" name="__codelineno-0-98"></a>
<a id="__codelineno-0-99" name="__codelineno-0-99"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-100" name="__codelineno-0-100"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="n">__package__</span><span class="p">)</span>
<a id="__codelineno-0-101" name="__codelineno-0-101"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">runner</span> <span class="o">=</span> <span class="n">get_runner</span><span class="p">(</span><span class="n">settings</span><span class="p">,</span> <span class="n">test_runner_class</span><span class="o">=</span><span class="s2">&quot;django.test.runner.DiscoverRunner&quot;</span><span class="p">)()</span>
<a id="__codelineno-0-102" name="__codelineno-0-102"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">loader</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner</span><span class="o">.</span><span class="n">test_loader</span>
<a id="__codelineno-0-103" name="__codelineno-0-103"></a>
<a id="__codelineno-0-104" name="__codelineno-0-104"></a>    <span class="k">def</span> <span class="nf">discover</span><span class="p">(</span>
<a id="__codelineno-0-105" name="__codelineno-0-105"></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">restrict</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">verbosity</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">2</span>
<a id="__codelineno-0-106" name="__codelineno-0-106"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">unittest</span><span class="o">.</span><span class="n">TestSuite</span><span class="p">]]:</span>
<a id="__codelineno-0-107" name="__codelineno-0-107"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-108" name="__codelineno-0-108"></a><span class="sd">        Discover and load tests from manifest files.</span>
<a id="__codelineno-0-109" name="__codelineno-0-109"></a>
<a id="__codelineno-0-110" name="__codelineno-0-110"></a><span class="sd">        Args:</span>
<a id="__codelineno-0-111" name="__codelineno-0-111"></a><span class="sd">            restrict (str, optional): A string to restrict which manifests and tests are loaded,</span>
<a id="__codelineno-0-112" name="__codelineno-0-112"></a><span class="sd">                                      in the format &quot;manifest.case_id.scene_pos&quot;.</span>
<a id="__codelineno-0-113" name="__codelineno-0-113"></a><span class="sd">            verbosity (int, optional): The verbosity level for output. Defaults to 2.</span>
<a id="__codelineno-0-114" name="__codelineno-0-114"></a>
<a id="__codelineno-0-115" name="__codelineno-0-115"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-116" name="__codelineno-0-116"></a><span class="sd">            list: A list of tuples, each containing a test name and a TestSuite with a single test.</span>
<a id="__codelineno-0-117" name="__codelineno-0-117"></a>
<a id="__codelineno-0-118" name="__codelineno-0-118"></a><span class="sd">        Raises:</span>
<a id="__codelineno-0-119" name="__codelineno-0-119"></a><span class="sd">            ValueError: If the restrict argument is not in the correct format.</span>
<a id="__codelineno-0-120" name="__codelineno-0-120"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-121" name="__codelineno-0-121"></a>
<a id="__codelineno-0-122" name="__codelineno-0-122"></a>        <span class="c1"># handle manifest/test restriction</span>
<a id="__codelineno-0-123" name="__codelineno-0-123"></a>        <span class="k">if</span> <span class="n">restrict</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-124" name="__codelineno-0-124"></a>            <span class="n">restrict_args</span> <span class="o">=</span> <span class="n">restrict</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>
<a id="__codelineno-0-125" name="__codelineno-0-125"></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">restrict_args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
<a id="__codelineno-0-126" name="__codelineno-0-126"></a>                <span class="n">restrict_manifest</span><span class="p">,</span> <span class="n">restrict_test</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-0-127" name="__codelineno-0-127"></a>                    <span class="n">restrict_args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
<a id="__codelineno-0-128" name="__codelineno-0-128"></a>                    <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-129" name="__codelineno-0-129"></a>                <span class="p">)</span>
<a id="__codelineno-0-130" name="__codelineno-0-130"></a>            <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">restrict_args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
<a id="__codelineno-0-131" name="__codelineno-0-131"></a>                <span class="n">restrict_manifest</span><span class="p">,</span> <span class="n">restrict_test</span> <span class="o">=</span> <span class="p">(</span><span class="n">restrict_args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">restrict_args</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<a id="__codelineno-0-132" name="__codelineno-0-132"></a>            <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">restrict_args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
<a id="__codelineno-0-133" name="__codelineno-0-133"></a>                <span class="n">restrict_manifest</span><span class="p">,</span> <span class="n">restrict_test</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-0-134" name="__codelineno-0-134"></a>                    <span class="n">restrict_args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
<a id="__codelineno-0-135" name="__codelineno-0-135"></a>                    <span class="n">restrict_args</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span> <span class="o">+</span> <span class="n">restrict_args</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
<a id="__codelineno-0-136" name="__codelineno-0-136"></a>                <span class="p">)</span>
<a id="__codelineno-0-137" name="__codelineno-0-137"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-138" name="__codelineno-0-138"></a>            <span class="n">restrict_manifest</span><span class="p">,</span> <span class="n">restrict_test</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>
<a id="__codelineno-0-139" name="__codelineno-0-139"></a>
<a id="__codelineno-0-140" name="__codelineno-0-140"></a>        <span class="n">out</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-141" name="__codelineno-0-141"></a>
<a id="__codelineno-0-142" name="__codelineno-0-142"></a>        <span class="n">suite_cls</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner</span><span class="o">.</span><span class="n">test_suite</span>
<a id="__codelineno-0-143" name="__codelineno-0-143"></a>
<a id="__codelineno-0-144" name="__codelineno-0-144"></a>        <span class="n">folder</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;SCENERY_MANIFESTS_FOLDER&quot;</span><span class="p">)</span>
<a id="__codelineno-0-145" name="__codelineno-0-145"></a>
<a id="__codelineno-0-146" name="__codelineno-0-146"></a>        <span class="k">if</span> <span class="n">verbosity</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
<a id="__codelineno-0-147" name="__codelineno-0-147"></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Manifests discovered:&quot;</span><span class="p">)</span>
<a id="__codelineno-0-148" name="__codelineno-0-148"></a>
<a id="__codelineno-0-149" name="__codelineno-0-149"></a>        <span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">folder</span><span class="p">):</span>
<a id="__codelineno-0-150" name="__codelineno-0-150"></a>            <span class="n">manifest_name</span> <span class="o">=</span> <span class="n">filename</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;.yml&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
<a id="__codelineno-0-151" name="__codelineno-0-151"></a>
<a id="__codelineno-0-152" name="__codelineno-0-152"></a>            <span class="k">if</span> <span class="n">restrict</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">restrict_manifest</span> <span class="o">!=</span> <span class="n">manifest_name</span><span class="p">:</span>
<a id="__codelineno-0-153" name="__codelineno-0-153"></a>                <span class="k">continue</span>
<a id="__codelineno-0-154" name="__codelineno-0-154"></a>
<a id="__codelineno-0-155" name="__codelineno-0-155"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Discovered manifest &#39;</span><span class="si">{</span><span class="n">folder</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
<a id="__codelineno-0-156" name="__codelineno-0-156"></a>
<a id="__codelineno-0-157" name="__codelineno-0-157"></a>            <span class="n">manifest</span> <span class="o">=</span> <span class="n">ManifestParser</span><span class="o">.</span><span class="n">parse_yaml</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">folder</span><span class="p">,</span> <span class="n">filename</span><span class="p">))</span>
<a id="__codelineno-0-158" name="__codelineno-0-158"></a>
<a id="__codelineno-0-159" name="__codelineno-0-159"></a>            <span class="c1"># Create class</span>
<a id="__codelineno-0-160" name="__codelineno-0-160"></a>            <span class="bp">cls</span> <span class="o">=</span> <span class="n">MetaTest</span><span class="p">(</span><span class="n">manifest_name</span><span class="p">,</span> <span class="p">(</span><span class="n">django</span><span class="o">.</span><span class="n">test</span><span class="o">.</span><span class="n">TestCase</span><span class="p">,),</span> <span class="n">manifest</span><span class="p">,</span> <span class="n">restrict</span><span class="o">=</span><span class="n">restrict_test</span><span class="p">)</span>
<a id="__codelineno-0-161" name="__codelineno-0-161"></a>
<a id="__codelineno-0-162" name="__codelineno-0-162"></a>            <span class="c1"># Log / verbosity</span>
<a id="__codelineno-0-163" name="__codelineno-0-163"></a>            <span class="k">if</span> <span class="n">verbosity</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">:</span>
<a id="__codelineno-0-164" name="__codelineno-0-164"></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&gt; </span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__qualname__</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-165" name="__codelineno-0-165"></a>
<a id="__codelineno-0-166" name="__codelineno-0-166"></a>            <span class="c1"># Load</span>
<a id="__codelineno-0-167" name="__codelineno-0-167"></a>            <span class="n">tests</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">loader</span><span class="o">.</span><span class="n">loadTestsFromTestCase</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>
<a id="__codelineno-0-168" name="__codelineno-0-168"></a>            <span class="k">for</span> <span class="n">test</span> <span class="ow">in</span> <span class="n">tests</span><span class="p">:</span>
<a id="__codelineno-0-169" name="__codelineno-0-169"></a>                <span class="n">test_name</span> <span class="o">=</span> <span class="n">scenery</span><span class="o">.</span><span class="n">common</span><span class="o">.</span><span class="n">pretty_test_name</span><span class="p">(</span><span class="n">test</span><span class="p">)</span>
<a id="__codelineno-0-170" name="__codelineno-0-170"></a>                <span class="n">suite</span> <span class="o">=</span> <span class="n">suite_cls</span><span class="p">()</span>
<a id="__codelineno-0-171" name="__codelineno-0-171"></a>                <span class="n">suite</span><span class="o">.</span><span class="n">addTest</span><span class="p">(</span><span class="n">test</span><span class="p">)</span>
<a id="__codelineno-0-172" name="__codelineno-0-172"></a>                <span class="n">out</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">test_name</span><span class="p">,</span> <span class="n">suite</span><span class="p">))</span>
<a id="__codelineno-0-173" name="__codelineno-0-173"></a>
<a id="__codelineno-0-174" name="__codelineno-0-174"></a>        <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Resulting in </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">out</span><span class="p">)</span><span class="si">}</span><span class="s2"> tests.&quot;</span>
<a id="__codelineno-0-175" name="__codelineno-0-175"></a>        <span class="k">if</span> <span class="n">verbosity</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
<a id="__codelineno-0-176" name="__codelineno-0-176"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">msg</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-177" name="__codelineno-0-177"></a>        <span class="k">return</span> <span class="n">out</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="scenery.metatest.MetaTestDiscoverer.discover" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">discover</span><span class="p">(</span><span class="n">restrict</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">verbosity</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Discover and load tests from manifest files.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>restrict</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A string to restrict which manifests and tests are loaded,
                      in the format "manifest.case_id.scene_pos".</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>verbosity</code>
            </td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The verbosity level for output. Defaults to 2.</p>
              </div>
            </td>
            <td>
                  <code>2</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>list</code></td>            <td>
                  <code>list[tuple[str, <span title="unittest.TestSuite">TestSuite</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of tuples, each containing a test name and a TestSuite with a single test.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>ValueError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the restrict argument is not in the correct format.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>scenery/metatest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-104">104</a></span>
<span class="normal"><a href="#__codelineno-0-105">105</a></span>
<span class="normal"><a href="#__codelineno-0-106">106</a></span>
<span class="normal"><a href="#__codelineno-0-107">107</a></span>
<span class="normal"><a href="#__codelineno-0-108">108</a></span>
<span class="normal"><a href="#__codelineno-0-109">109</a></span>
<span class="normal"><a href="#__codelineno-0-110">110</a></span>
<span class="normal"><a href="#__codelineno-0-111">111</a></span>
<span class="normal"><a href="#__codelineno-0-112">112</a></span>
<span class="normal"><a href="#__codelineno-0-113">113</a></span>
<span class="normal"><a href="#__codelineno-0-114">114</a></span>
<span class="normal"><a href="#__codelineno-0-115">115</a></span>
<span class="normal"><a href="#__codelineno-0-116">116</a></span>
<span class="normal"><a href="#__codelineno-0-117">117</a></span>
<span class="normal"><a href="#__codelineno-0-118">118</a></span>
<span class="normal"><a href="#__codelineno-0-119">119</a></span>
<span class="normal"><a href="#__codelineno-0-120">120</a></span>
<span class="normal"><a href="#__codelineno-0-121">121</a></span>
<span class="normal"><a href="#__codelineno-0-122">122</a></span>
<span class="normal"><a href="#__codelineno-0-123">123</a></span>
<span class="normal"><a href="#__codelineno-0-124">124</a></span>
<span class="normal"><a href="#__codelineno-0-125">125</a></span>
<span class="normal"><a href="#__codelineno-0-126">126</a></span>
<span class="normal"><a href="#__codelineno-0-127">127</a></span>
<span class="normal"><a href="#__codelineno-0-128">128</a></span>
<span class="normal"><a href="#__codelineno-0-129">129</a></span>
<span class="normal"><a href="#__codelineno-0-130">130</a></span>
<span class="normal"><a href="#__codelineno-0-131">131</a></span>
<span class="normal"><a href="#__codelineno-0-132">132</a></span>
<span class="normal"><a href="#__codelineno-0-133">133</a></span>
<span class="normal"><a href="#__codelineno-0-134">134</a></span>
<span class="normal"><a href="#__codelineno-0-135">135</a></span>
<span class="normal"><a href="#__codelineno-0-136">136</a></span>
<span class="normal"><a href="#__codelineno-0-137">137</a></span>
<span class="normal"><a href="#__codelineno-0-138">138</a></span>
<span class="normal"><a href="#__codelineno-0-139">139</a></span>
<span class="normal"><a href="#__codelineno-0-140">140</a></span>
<span class="normal"><a href="#__codelineno-0-141">141</a></span>
<span class="normal"><a href="#__codelineno-0-142">142</a></span>
<span class="normal"><a href="#__codelineno-0-143">143</a></span>
<span class="normal"><a href="#__codelineno-0-144">144</a></span>
<span class="normal"><a href="#__codelineno-0-145">145</a></span>
<span class="normal"><a href="#__codelineno-0-146">146</a></span>
<span class="normal"><a href="#__codelineno-0-147">147</a></span>
<span class="normal"><a href="#__codelineno-0-148">148</a></span>
<span class="normal"><a href="#__codelineno-0-149">149</a></span>
<span class="normal"><a href="#__codelineno-0-150">150</a></span>
<span class="normal"><a href="#__codelineno-0-151">151</a></span>
<span class="normal"><a href="#__codelineno-0-152">152</a></span>
<span class="normal"><a href="#__codelineno-0-153">153</a></span>
<span class="normal"><a href="#__codelineno-0-154">154</a></span>
<span class="normal"><a href="#__codelineno-0-155">155</a></span>
<span class="normal"><a href="#__codelineno-0-156">156</a></span>
<span class="normal"><a href="#__codelineno-0-157">157</a></span>
<span class="normal"><a href="#__codelineno-0-158">158</a></span>
<span class="normal"><a href="#__codelineno-0-159">159</a></span>
<span class="normal"><a href="#__codelineno-0-160">160</a></span>
<span class="normal"><a href="#__codelineno-0-161">161</a></span>
<span class="normal"><a href="#__codelineno-0-162">162</a></span>
<span class="normal"><a href="#__codelineno-0-163">163</a></span>
<span class="normal"><a href="#__codelineno-0-164">164</a></span>
<span class="normal"><a href="#__codelineno-0-165">165</a></span>
<span class="normal"><a href="#__codelineno-0-166">166</a></span>
<span class="normal"><a href="#__codelineno-0-167">167</a></span>
<span class="normal"><a href="#__codelineno-0-168">168</a></span>
<span class="normal"><a href="#__codelineno-0-169">169</a></span>
<span class="normal"><a href="#__codelineno-0-170">170</a></span>
<span class="normal"><a href="#__codelineno-0-171">171</a></span>
<span class="normal"><a href="#__codelineno-0-172">172</a></span>
<span class="normal"><a href="#__codelineno-0-173">173</a></span>
<span class="normal"><a href="#__codelineno-0-174">174</a></span>
<span class="normal"><a href="#__codelineno-0-175">175</a></span>
<span class="normal"><a href="#__codelineno-0-176">176</a></span>
<span class="normal"><a href="#__codelineno-0-177">177</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-104" name="__codelineno-0-104"></a><span class="k">def</span> <span class="nf">discover</span><span class="p">(</span>
<a id="__codelineno-0-105" name="__codelineno-0-105"></a>    <span class="bp">self</span><span class="p">,</span> <span class="n">restrict</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">verbosity</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">2</span>
<a id="__codelineno-0-106" name="__codelineno-0-106"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">unittest</span><span class="o">.</span><span class="n">TestSuite</span><span class="p">]]:</span>
<a id="__codelineno-0-107" name="__codelineno-0-107"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-108" name="__codelineno-0-108"></a><span class="sd">    Discover and load tests from manifest files.</span>
<a id="__codelineno-0-109" name="__codelineno-0-109"></a>
<a id="__codelineno-0-110" name="__codelineno-0-110"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-111" name="__codelineno-0-111"></a><span class="sd">        restrict (str, optional): A string to restrict which manifests and tests are loaded,</span>
<a id="__codelineno-0-112" name="__codelineno-0-112"></a><span class="sd">                                  in the format &quot;manifest.case_id.scene_pos&quot;.</span>
<a id="__codelineno-0-113" name="__codelineno-0-113"></a><span class="sd">        verbosity (int, optional): The verbosity level for output. Defaults to 2.</span>
<a id="__codelineno-0-114" name="__codelineno-0-114"></a>
<a id="__codelineno-0-115" name="__codelineno-0-115"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-116" name="__codelineno-0-116"></a><span class="sd">        list: A list of tuples, each containing a test name and a TestSuite with a single test.</span>
<a id="__codelineno-0-117" name="__codelineno-0-117"></a>
<a id="__codelineno-0-118" name="__codelineno-0-118"></a><span class="sd">    Raises:</span>
<a id="__codelineno-0-119" name="__codelineno-0-119"></a><span class="sd">        ValueError: If the restrict argument is not in the correct format.</span>
<a id="__codelineno-0-120" name="__codelineno-0-120"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-121" name="__codelineno-0-121"></a>
<a id="__codelineno-0-122" name="__codelineno-0-122"></a>    <span class="c1"># handle manifest/test restriction</span>
<a id="__codelineno-0-123" name="__codelineno-0-123"></a>    <span class="k">if</span> <span class="n">restrict</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-124" name="__codelineno-0-124"></a>        <span class="n">restrict_args</span> <span class="o">=</span> <span class="n">restrict</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>
<a id="__codelineno-0-125" name="__codelineno-0-125"></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">restrict_args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
<a id="__codelineno-0-126" name="__codelineno-0-126"></a>            <span class="n">restrict_manifest</span><span class="p">,</span> <span class="n">restrict_test</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-0-127" name="__codelineno-0-127"></a>                <span class="n">restrict_args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
<a id="__codelineno-0-128" name="__codelineno-0-128"></a>                <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-129" name="__codelineno-0-129"></a>            <span class="p">)</span>
<a id="__codelineno-0-130" name="__codelineno-0-130"></a>        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">restrict_args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
<a id="__codelineno-0-131" name="__codelineno-0-131"></a>            <span class="n">restrict_manifest</span><span class="p">,</span> <span class="n">restrict_test</span> <span class="o">=</span> <span class="p">(</span><span class="n">restrict_args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">restrict_args</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<a id="__codelineno-0-132" name="__codelineno-0-132"></a>        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">restrict_args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
<a id="__codelineno-0-133" name="__codelineno-0-133"></a>            <span class="n">restrict_manifest</span><span class="p">,</span> <span class="n">restrict_test</span> <span class="o">=</span> <span class="p">(</span>
<a id="__codelineno-0-134" name="__codelineno-0-134"></a>                <span class="n">restrict_args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
<a id="__codelineno-0-135" name="__codelineno-0-135"></a>                <span class="n">restrict_args</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span> <span class="o">+</span> <span class="n">restrict_args</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
<a id="__codelineno-0-136" name="__codelineno-0-136"></a>            <span class="p">)</span>
<a id="__codelineno-0-137" name="__codelineno-0-137"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-138" name="__codelineno-0-138"></a>        <span class="n">restrict_manifest</span><span class="p">,</span> <span class="n">restrict_test</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>
<a id="__codelineno-0-139" name="__codelineno-0-139"></a>
<a id="__codelineno-0-140" name="__codelineno-0-140"></a>    <span class="n">out</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-141" name="__codelineno-0-141"></a>
<a id="__codelineno-0-142" name="__codelineno-0-142"></a>    <span class="n">suite_cls</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner</span><span class="o">.</span><span class="n">test_suite</span>
<a id="__codelineno-0-143" name="__codelineno-0-143"></a>
<a id="__codelineno-0-144" name="__codelineno-0-144"></a>    <span class="n">folder</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;SCENERY_MANIFESTS_FOLDER&quot;</span><span class="p">)</span>
<a id="__codelineno-0-145" name="__codelineno-0-145"></a>
<a id="__codelineno-0-146" name="__codelineno-0-146"></a>    <span class="k">if</span> <span class="n">verbosity</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
<a id="__codelineno-0-147" name="__codelineno-0-147"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Manifests discovered:&quot;</span><span class="p">)</span>
<a id="__codelineno-0-148" name="__codelineno-0-148"></a>
<a id="__codelineno-0-149" name="__codelineno-0-149"></a>    <span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">folder</span><span class="p">):</span>
<a id="__codelineno-0-150" name="__codelineno-0-150"></a>        <span class="n">manifest_name</span> <span class="o">=</span> <span class="n">filename</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;.yml&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
<a id="__codelineno-0-151" name="__codelineno-0-151"></a>
<a id="__codelineno-0-152" name="__codelineno-0-152"></a>        <span class="k">if</span> <span class="n">restrict</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">restrict_manifest</span> <span class="o">!=</span> <span class="n">manifest_name</span><span class="p">:</span>
<a id="__codelineno-0-153" name="__codelineno-0-153"></a>            <span class="k">continue</span>
<a id="__codelineno-0-154" name="__codelineno-0-154"></a>
<a id="__codelineno-0-155" name="__codelineno-0-155"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Discovered manifest &#39;</span><span class="si">{</span><span class="n">folder</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
<a id="__codelineno-0-156" name="__codelineno-0-156"></a>
<a id="__codelineno-0-157" name="__codelineno-0-157"></a>        <span class="n">manifest</span> <span class="o">=</span> <span class="n">ManifestParser</span><span class="o">.</span><span class="n">parse_yaml</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">folder</span><span class="p">,</span> <span class="n">filename</span><span class="p">))</span>
<a id="__codelineno-0-158" name="__codelineno-0-158"></a>
<a id="__codelineno-0-159" name="__codelineno-0-159"></a>        <span class="c1"># Create class</span>
<a id="__codelineno-0-160" name="__codelineno-0-160"></a>        <span class="bp">cls</span> <span class="o">=</span> <span class="n">MetaTest</span><span class="p">(</span><span class="n">manifest_name</span><span class="p">,</span> <span class="p">(</span><span class="n">django</span><span class="o">.</span><span class="n">test</span><span class="o">.</span><span class="n">TestCase</span><span class="p">,),</span> <span class="n">manifest</span><span class="p">,</span> <span class="n">restrict</span><span class="o">=</span><span class="n">restrict_test</span><span class="p">)</span>
<a id="__codelineno-0-161" name="__codelineno-0-161"></a>
<a id="__codelineno-0-162" name="__codelineno-0-162"></a>        <span class="c1"># Log / verbosity</span>
<a id="__codelineno-0-163" name="__codelineno-0-163"></a>        <span class="k">if</span> <span class="n">verbosity</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">:</span>
<a id="__codelineno-0-164" name="__codelineno-0-164"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&gt; </span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__qualname__</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-165" name="__codelineno-0-165"></a>
<a id="__codelineno-0-166" name="__codelineno-0-166"></a>        <span class="c1"># Load</span>
<a id="__codelineno-0-167" name="__codelineno-0-167"></a>        <span class="n">tests</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">loader</span><span class="o">.</span><span class="n">loadTestsFromTestCase</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>
<a id="__codelineno-0-168" name="__codelineno-0-168"></a>        <span class="k">for</span> <span class="n">test</span> <span class="ow">in</span> <span class="n">tests</span><span class="p">:</span>
<a id="__codelineno-0-169" name="__codelineno-0-169"></a>            <span class="n">test_name</span> <span class="o">=</span> <span class="n">scenery</span><span class="o">.</span><span class="n">common</span><span class="o">.</span><span class="n">pretty_test_name</span><span class="p">(</span><span class="n">test</span><span class="p">)</span>
<a id="__codelineno-0-170" name="__codelineno-0-170"></a>            <span class="n">suite</span> <span class="o">=</span> <span class="n">suite_cls</span><span class="p">()</span>
<a id="__codelineno-0-171" name="__codelineno-0-171"></a>            <span class="n">suite</span><span class="o">.</span><span class="n">addTest</span><span class="p">(</span><span class="n">test</span><span class="p">)</span>
<a id="__codelineno-0-172" name="__codelineno-0-172"></a>            <span class="n">out</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">test_name</span><span class="p">,</span> <span class="n">suite</span><span class="p">))</span>
<a id="__codelineno-0-173" name="__codelineno-0-173"></a>
<a id="__codelineno-0-174" name="__codelineno-0-174"></a>    <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Resulting in </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">out</span><span class="p">)</span><span class="si">}</span><span class="s2"> tests.&quot;</span>
<a id="__codelineno-0-175" name="__codelineno-0-175"></a>    <span class="k">if</span> <span class="n">verbosity</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
<a id="__codelineno-0-176" name="__codelineno-0-176"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">msg</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-177" name="__codelineno-0-177"></a>    <span class="k">return</span> <span class="n">out</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="scenery.metatest.MetaTestRunner" class="doc doc-heading">
            <code>MetaTestRunner</code>


</h2>


    <div class="doc doc-contents ">


        <p>A class for running discovered tests and collecting results.</p>
<p>This class takes discovered tests, runs them using a Django test runner,
and collects and formats the results.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="scenery.metatest.MetaTestRunner.runner">runner</span></code></td>
            <td>
                  <code>DiscoverRunner</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A Django test runner instance.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="scenery.metatest.MetaTestRunner.logger">logger</span></code></td>
            <td>
                  <code>Logger</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A logger instance for this class.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="scenery.metatest.MetaTestRunner.discoverer">discoverer</span></code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="scenery.metatest.MetaTestDiscoverer" href="#scenery.metatest.MetaTestDiscoverer">MetaTestDiscoverer</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An instance of MetaTestDiscoverer for discovering tests.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="scenery.metatest.MetaTestRunner.stream">stream</span></code></td>
            <td>
                  <code>StringIO</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A string buffer for capturing test output.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>






              <details class="quote">
                <summary>Source code in <code>scenery/metatest.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-180">180</a></span>
<span class="normal"><a href="#__codelineno-0-181">181</a></span>
<span class="normal"><a href="#__codelineno-0-182">182</a></span>
<span class="normal"><a href="#__codelineno-0-183">183</a></span>
<span class="normal"><a href="#__codelineno-0-184">184</a></span>
<span class="normal"><a href="#__codelineno-0-185">185</a></span>
<span class="normal"><a href="#__codelineno-0-186">186</a></span>
<span class="normal"><a href="#__codelineno-0-187">187</a></span>
<span class="normal"><a href="#__codelineno-0-188">188</a></span>
<span class="normal"><a href="#__codelineno-0-189">189</a></span>
<span class="normal"><a href="#__codelineno-0-190">190</a></span>
<span class="normal"><a href="#__codelineno-0-191">191</a></span>
<span class="normal"><a href="#__codelineno-0-192">192</a></span>
<span class="normal"><a href="#__codelineno-0-193">193</a></span>
<span class="normal"><a href="#__codelineno-0-194">194</a></span>
<span class="normal"><a href="#__codelineno-0-195">195</a></span>
<span class="normal"><a href="#__codelineno-0-196">196</a></span>
<span class="normal"><a href="#__codelineno-0-197">197</a></span>
<span class="normal"><a href="#__codelineno-0-198">198</a></span>
<span class="normal"><a href="#__codelineno-0-199">199</a></span>
<span class="normal"><a href="#__codelineno-0-200">200</a></span>
<span class="normal"><a href="#__codelineno-0-201">201</a></span>
<span class="normal"><a href="#__codelineno-0-202">202</a></span>
<span class="normal"><a href="#__codelineno-0-203">203</a></span>
<span class="normal"><a href="#__codelineno-0-204">204</a></span>
<span class="normal"><a href="#__codelineno-0-205">205</a></span>
<span class="normal"><a href="#__codelineno-0-206">206</a></span>
<span class="normal"><a href="#__codelineno-0-207">207</a></span>
<span class="normal"><a href="#__codelineno-0-208">208</a></span>
<span class="normal"><a href="#__codelineno-0-209">209</a></span>
<span class="normal"><a href="#__codelineno-0-210">210</a></span>
<span class="normal"><a href="#__codelineno-0-211">211</a></span>
<span class="normal"><a href="#__codelineno-0-212">212</a></span>
<span class="normal"><a href="#__codelineno-0-213">213</a></span>
<span class="normal"><a href="#__codelineno-0-214">214</a></span>
<span class="normal"><a href="#__codelineno-0-215">215</a></span>
<span class="normal"><a href="#__codelineno-0-216">216</a></span>
<span class="normal"><a href="#__codelineno-0-217">217</a></span>
<span class="normal"><a href="#__codelineno-0-218">218</a></span>
<span class="normal"><a href="#__codelineno-0-219">219</a></span>
<span class="normal"><a href="#__codelineno-0-220">220</a></span>
<span class="normal"><a href="#__codelineno-0-221">221</a></span>
<span class="normal"><a href="#__codelineno-0-222">222</a></span>
<span class="normal"><a href="#__codelineno-0-223">223</a></span>
<span class="normal"><a href="#__codelineno-0-224">224</a></span>
<span class="normal"><a href="#__codelineno-0-225">225</a></span>
<span class="normal"><a href="#__codelineno-0-226">226</a></span>
<span class="normal"><a href="#__codelineno-0-227">227</a></span>
<span class="normal"><a href="#__codelineno-0-228">228</a></span>
<span class="normal"><a href="#__codelineno-0-229">229</a></span>
<span class="normal"><a href="#__codelineno-0-230">230</a></span>
<span class="normal"><a href="#__codelineno-0-231">231</a></span>
<span class="normal"><a href="#__codelineno-0-232">232</a></span>
<span class="normal"><a href="#__codelineno-0-233">233</a></span>
<span class="normal"><a href="#__codelineno-0-234">234</a></span>
<span class="normal"><a href="#__codelineno-0-235">235</a></span>
<span class="normal"><a href="#__codelineno-0-236">236</a></span>
<span class="normal"><a href="#__codelineno-0-237">237</a></span>
<span class="normal"><a href="#__codelineno-0-238">238</a></span>
<span class="normal"><a href="#__codelineno-0-239">239</a></span>
<span class="normal"><a href="#__codelineno-0-240">240</a></span>
<span class="normal"><a href="#__codelineno-0-241">241</a></span>
<span class="normal"><a href="#__codelineno-0-242">242</a></span>
<span class="normal"><a href="#__codelineno-0-243">243</a></span>
<span class="normal"><a href="#__codelineno-0-244">244</a></span>
<span class="normal"><a href="#__codelineno-0-245">245</a></span>
<span class="normal"><a href="#__codelineno-0-246">246</a></span>
<span class="normal"><a href="#__codelineno-0-247">247</a></span>
<span class="normal"><a href="#__codelineno-0-248">248</a></span>
<span class="normal"><a href="#__codelineno-0-249">249</a></span>
<span class="normal"><a href="#__codelineno-0-250">250</a></span>
<span class="normal"><a href="#__codelineno-0-251">251</a></span>
<span class="normal"><a href="#__codelineno-0-252">252</a></span>
<span class="normal"><a href="#__codelineno-0-253">253</a></span>
<span class="normal"><a href="#__codelineno-0-254">254</a></span>
<span class="normal"><a href="#__codelineno-0-255">255</a></span>
<span class="normal"><a href="#__codelineno-0-256">256</a></span>
<span class="normal"><a href="#__codelineno-0-257">257</a></span>
<span class="normal"><a href="#__codelineno-0-258">258</a></span>
<span class="normal"><a href="#__codelineno-0-259">259</a></span>
<span class="normal"><a href="#__codelineno-0-260">260</a></span>
<span class="normal"><a href="#__codelineno-0-261">261</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-180" name="__codelineno-0-180"></a><span class="k">class</span> <span class="nc">MetaTestRunner</span><span class="p">:</span>
<a id="__codelineno-0-181" name="__codelineno-0-181"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-182" name="__codelineno-0-182"></a><span class="sd">    A class for running discovered tests and collecting results.</span>
<a id="__codelineno-0-183" name="__codelineno-0-183"></a>
<a id="__codelineno-0-184" name="__codelineno-0-184"></a><span class="sd">    This class takes discovered tests, runs them using a Django test runner,</span>
<a id="__codelineno-0-185" name="__codelineno-0-185"></a><span class="sd">    and collects and formats the results.</span>
<a id="__codelineno-0-186" name="__codelineno-0-186"></a>
<a id="__codelineno-0-187" name="__codelineno-0-187"></a><span class="sd">    Attributes:</span>
<a id="__codelineno-0-188" name="__codelineno-0-188"></a><span class="sd">        runner (DiscoverRunner): A Django test runner instance.</span>
<a id="__codelineno-0-189" name="__codelineno-0-189"></a><span class="sd">        logger (Logger): A logger instance for this class.</span>
<a id="__codelineno-0-190" name="__codelineno-0-190"></a><span class="sd">        discoverer (MetaTestDiscoverer): An instance of MetaTestDiscoverer for discovering tests.</span>
<a id="__codelineno-0-191" name="__codelineno-0-191"></a><span class="sd">        stream (StringIO): A string buffer for capturing test output.</span>
<a id="__codelineno-0-192" name="__codelineno-0-192"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-193" name="__codelineno-0-193"></a>
<a id="__codelineno-0-194" name="__codelineno-0-194"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-195" name="__codelineno-0-195"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize the MetaTestRunner with a runner, logger, discoverer, and output stream.&quot;&quot;&quot;</span>
<a id="__codelineno-0-196" name="__codelineno-0-196"></a>
<a id="__codelineno-0-197" name="__codelineno-0-197"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">runner</span> <span class="o">=</span> <span class="n">get_runner</span><span class="p">(</span><span class="n">settings</span><span class="p">,</span> <span class="n">test_runner_class</span><span class="o">=</span><span class="s2">&quot;django.test.runner.DiscoverRunner&quot;</span><span class="p">)()</span>
<a id="__codelineno-0-198" name="__codelineno-0-198"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="n">__package__</span><span class="p">)</span>
<a id="__codelineno-0-199" name="__codelineno-0-199"></a>
<a id="__codelineno-0-200" name="__codelineno-0-200"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">stream</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">StringIO</span><span class="p">()</span>
<a id="__codelineno-0-201" name="__codelineno-0-201"></a>
<a id="__codelineno-0-202" name="__codelineno-0-202"></a>        <span class="k">def</span> <span class="nf">overwrite</span><span class="p">(</span><span class="n">runner</span><span class="p">):</span>
<a id="__codelineno-0-203" name="__codelineno-0-203"></a>            <span class="k">return</span> <span class="n">scenery</span><span class="o">.</span><span class="n">common</span><span class="o">.</span><span class="n">overwrite_get_runner_kwargs</span><span class="p">(</span><span class="n">runner</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">stream</span><span class="p">)</span>
<a id="__codelineno-0-204" name="__codelineno-0-204"></a>
<a id="__codelineno-0-205" name="__codelineno-0-205"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">runner</span><span class="o">.</span><span class="n">get_test_runner_kwargs</span> <span class="o">=</span> <span class="n">overwrite</span><span class="o">.</span><span class="fm">__get__</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runner</span><span class="p">)</span>
<a id="__codelineno-0-206" name="__codelineno-0-206"></a>        <span class="n">app_logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s2">&quot;app.close_watch&quot;</span><span class="p">)</span>
<a id="__codelineno-0-207" name="__codelineno-0-207"></a>        <span class="n">app_logger</span><span class="o">.</span><span class="n">propagate</span> <span class="o">=</span> <span class="kc">False</span>
<a id="__codelineno-0-208" name="__codelineno-0-208"></a>
<a id="__codelineno-0-209" name="__codelineno-0-209"></a>    <span class="k">def</span> <span class="fm">__del__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-210" name="__codelineno-0-210"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Clean up resources when the MetaTestRunner is deleted.&quot;&quot;&quot;</span>
<a id="__codelineno-0-211" name="__codelineno-0-211"></a>        <span class="c1"># TODO: a context manager would be ideal, let&#39;s wait v2</span>
<a id="__codelineno-0-212" name="__codelineno-0-212"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">stream</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<a id="__codelineno-0-213" name="__codelineno-0-213"></a>        <span class="n">app_logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s2">&quot;app.close_watch&quot;</span><span class="p">)</span>
<a id="__codelineno-0-214" name="__codelineno-0-214"></a>        <span class="n">app_logger</span><span class="o">.</span><span class="n">propagate</span> <span class="o">=</span> <span class="kc">True</span>
<a id="__codelineno-0-215" name="__codelineno-0-215"></a>
<a id="__codelineno-0-216" name="__codelineno-0-216"></a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tests_discovered</span><span class="p">,</span> <span class="n">verbosity</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]:</span>
<a id="__codelineno-0-217" name="__codelineno-0-217"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-218" name="__codelineno-0-218"></a><span class="sd">        Run the discovered tests and collect results.</span>
<a id="__codelineno-0-219" name="__codelineno-0-219"></a>
<a id="__codelineno-0-220" name="__codelineno-0-220"></a><span class="sd">        Args:</span>
<a id="__codelineno-0-221" name="__codelineno-0-221"></a><span class="sd">            tests_discovered (list): A list of tuples, each containing a test name and a TestSuite.</span>
<a id="__codelineno-0-222" name="__codelineno-0-222"></a><span class="sd">            verbosity (int): The verbosity level for output.</span>
<a id="__codelineno-0-223" name="__codelineno-0-223"></a>
<a id="__codelineno-0-224" name="__codelineno-0-224"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-225" name="__codelineno-0-225"></a><span class="sd">            dict: A dictionary mapping test names to their serialized results.</span>
<a id="__codelineno-0-226" name="__codelineno-0-226"></a>
<a id="__codelineno-0-227" name="__codelineno-0-227"></a><span class="sd">        Note:</span>
<a id="__codelineno-0-228" name="__codelineno-0-228"></a><span class="sd">            This method logs test results and prints them to the console based on the verbosity level.</span>
<a id="__codelineno-0-229" name="__codelineno-0-229"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-230" name="__codelineno-0-230"></a>        <span class="k">if</span> <span class="n">verbosity</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-231" name="__codelineno-0-231"></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Tests runs:&quot;</span><span class="p">)</span>
<a id="__codelineno-0-232" name="__codelineno-0-232"></a>
<a id="__codelineno-0-233" name="__codelineno-0-233"></a>        <span class="n">results</span> <span class="o">=</span> <span class="p">{}</span>
<a id="__codelineno-0-234" name="__codelineno-0-234"></a>        <span class="k">for</span> <span class="n">test_name</span><span class="p">,</span> <span class="n">suite</span> <span class="ow">in</span> <span class="n">tests_discovered</span><span class="p">:</span>
<a id="__codelineno-0-235" name="__codelineno-0-235"></a>            <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner</span><span class="o">.</span><span class="n">run_suite</span><span class="p">(</span><span class="n">suite</span><span class="p">)</span>
<a id="__codelineno-0-236" name="__codelineno-0-236"></a>
<a id="__codelineno-0-237" name="__codelineno-0-237"></a>            <span class="n">result_serialized</span> <span class="o">=</span> <span class="n">scenery</span><span class="o">.</span><span class="n">common</span><span class="o">.</span><span class="n">serialize_unittest_result</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<a id="__codelineno-0-238" name="__codelineno-0-238"></a>
<a id="__codelineno-0-239" name="__codelineno-0-239"></a>            <span class="n">test_name</span> <span class="o">=</span> <span class="n">test_name</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;test_case_&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
<a id="__codelineno-0-240" name="__codelineno-0-240"></a>            <span class="n">test_name</span> <span class="o">=</span> <span class="n">test_name</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;_scene_&quot;</span><span class="p">,</span> <span class="s2">&quot;.&quot;</span><span class="p">)</span>
<a id="__codelineno-0-241" name="__codelineno-0-241"></a>
<a id="__codelineno-0-242" name="__codelineno-0-242"></a>            <span class="n">results</span><span class="p">[</span><span class="n">test_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">result_serialized</span>
<a id="__codelineno-0-243" name="__codelineno-0-243"></a>
<a id="__codelineno-0-244" name="__codelineno-0-244"></a>            <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">errors</span> <span class="ow">or</span> <span class="n">result</span><span class="o">.</span><span class="n">failures</span><span class="p">:</span>
<a id="__codelineno-0-245" name="__codelineno-0-245"></a>                <span class="n">log_lvl</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">ERROR</span><span class="p">,</span> <span class="s2">&quot;red&quot;</span>
<a id="__codelineno-0-246" name="__codelineno-0-246"></a>            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-247" name="__codelineno-0-247"></a>                <span class="n">log_lvl</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">,</span> <span class="s2">&quot;green&quot;</span>
<a id="__codelineno-0-248" name="__codelineno-0-248"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">log_lvl</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">test_name</span><span class="si">}</span><span class="se">\n</span><span class="si">{</span><span class="n">scenery</span><span class="o">.</span><span class="n">common</span><span class="o">.</span><span class="n">tabulate</span><span class="p">(</span><span class="n">result_serialized</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-249" name="__codelineno-0-249"></a>            <span class="k">if</span> <span class="n">verbosity</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-250" name="__codelineno-0-250"></a>                <span class="nb">print</span><span class="p">(</span>
<a id="__codelineno-0-251" name="__codelineno-0-251"></a>                    <span class="sa">f</span><span class="s2">&quot;&gt;&gt; </span><span class="si">{</span><span class="n">scenery</span><span class="o">.</span><span class="n">common</span><span class="o">.</span><span class="n">colorize</span><span class="p">(</span><span class="n">color</span><span class="p">,</span><span class="w"> </span><span class="n">test_name</span><span class="p">)</span><span class="si">}</span><span class="se">\n</span><span class="si">{</span><span class="n">scenery</span><span class="o">.</span><span class="n">common</span><span class="o">.</span><span class="n">tabulate</span><span class="p">({</span><span class="n">key</span><span class="p">:</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">key</span><span class="p">,</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">result_serialized</span><span class="o">.</span><span class="n">items</span><span class="p">()</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">})</span><span class="si">}</span><span class="s2">&quot;</span>
<a id="__codelineno-0-252" name="__codelineno-0-252"></a>                <span class="p">)</span>
<a id="__codelineno-0-253" name="__codelineno-0-253"></a>
<a id="__codelineno-0-254" name="__codelineno-0-254"></a>            <span class="c1"># Log / verbosity</span>
<a id="__codelineno-0-255" name="__codelineno-0-255"></a>            <span class="k">for</span> <span class="n">head</span><span class="p">,</span> <span class="n">traceback</span> <span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">failures</span> <span class="o">+</span> <span class="n">result</span><span class="o">.</span><span class="n">errors</span><span class="p">:</span>
<a id="__codelineno-0-256" name="__codelineno-0-256"></a>                <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">test_name</span><span class="si">}</span><span class="se">\n</span><span class="si">{</span><span class="n">head</span><span class="si">}</span><span class="se">\n</span><span class="si">{</span><span class="n">traceback</span><span class="si">}</span><span class="s2">&quot;</span>
<a id="__codelineno-0-257" name="__codelineno-0-257"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
<a id="__codelineno-0-258" name="__codelineno-0-258"></a>                <span class="k">if</span> <span class="n">verbosity</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-259" name="__codelineno-0-259"></a>                    <span class="nb">print</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
<a id="__codelineno-0-260" name="__codelineno-0-260"></a>
<a id="__codelineno-0-261" name="__codelineno-0-261"></a>        <span class="k">return</span> <span class="n">results</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="scenery.metatest.MetaTestRunner.__del__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__del__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Clean up resources when the MetaTestRunner is deleted.</p>

            <details class="quote">
              <summary>Source code in <code>scenery/metatest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-209">209</a></span>
<span class="normal"><a href="#__codelineno-0-210">210</a></span>
<span class="normal"><a href="#__codelineno-0-211">211</a></span>
<span class="normal"><a href="#__codelineno-0-212">212</a></span>
<span class="normal"><a href="#__codelineno-0-213">213</a></span>
<span class="normal"><a href="#__codelineno-0-214">214</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-209" name="__codelineno-0-209"></a><span class="k">def</span> <span class="fm">__del__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-210" name="__codelineno-0-210"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Clean up resources when the MetaTestRunner is deleted.&quot;&quot;&quot;</span>
<a id="__codelineno-0-211" name="__codelineno-0-211"></a>    <span class="c1"># TODO: a context manager would be ideal, let&#39;s wait v2</span>
<a id="__codelineno-0-212" name="__codelineno-0-212"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">stream</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<a id="__codelineno-0-213" name="__codelineno-0-213"></a>    <span class="n">app_logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s2">&quot;app.close_watch&quot;</span><span class="p">)</span>
<a id="__codelineno-0-214" name="__codelineno-0-214"></a>    <span class="n">app_logger</span><span class="o">.</span><span class="n">propagate</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="scenery.metatest.MetaTestRunner.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Initialize the MetaTestRunner with a runner, logger, discoverer, and output stream.</p>

            <details class="quote">
              <summary>Source code in <code>scenery/metatest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-194">194</a></span>
<span class="normal"><a href="#__codelineno-0-195">195</a></span>
<span class="normal"><a href="#__codelineno-0-196">196</a></span>
<span class="normal"><a href="#__codelineno-0-197">197</a></span>
<span class="normal"><a href="#__codelineno-0-198">198</a></span>
<span class="normal"><a href="#__codelineno-0-199">199</a></span>
<span class="normal"><a href="#__codelineno-0-200">200</a></span>
<span class="normal"><a href="#__codelineno-0-201">201</a></span>
<span class="normal"><a href="#__codelineno-0-202">202</a></span>
<span class="normal"><a href="#__codelineno-0-203">203</a></span>
<span class="normal"><a href="#__codelineno-0-204">204</a></span>
<span class="normal"><a href="#__codelineno-0-205">205</a></span>
<span class="normal"><a href="#__codelineno-0-206">206</a></span>
<span class="normal"><a href="#__codelineno-0-207">207</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-194" name="__codelineno-0-194"></a><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-195" name="__codelineno-0-195"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize the MetaTestRunner with a runner, logger, discoverer, and output stream.&quot;&quot;&quot;</span>
<a id="__codelineno-0-196" name="__codelineno-0-196"></a>
<a id="__codelineno-0-197" name="__codelineno-0-197"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">runner</span> <span class="o">=</span> <span class="n">get_runner</span><span class="p">(</span><span class="n">settings</span><span class="p">,</span> <span class="n">test_runner_class</span><span class="o">=</span><span class="s2">&quot;django.test.runner.DiscoverRunner&quot;</span><span class="p">)()</span>
<a id="__codelineno-0-198" name="__codelineno-0-198"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="n">__package__</span><span class="p">)</span>
<a id="__codelineno-0-199" name="__codelineno-0-199"></a>
<a id="__codelineno-0-200" name="__codelineno-0-200"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">stream</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">StringIO</span><span class="p">()</span>
<a id="__codelineno-0-201" name="__codelineno-0-201"></a>
<a id="__codelineno-0-202" name="__codelineno-0-202"></a>    <span class="k">def</span> <span class="nf">overwrite</span><span class="p">(</span><span class="n">runner</span><span class="p">):</span>
<a id="__codelineno-0-203" name="__codelineno-0-203"></a>        <span class="k">return</span> <span class="n">scenery</span><span class="o">.</span><span class="n">common</span><span class="o">.</span><span class="n">overwrite_get_runner_kwargs</span><span class="p">(</span><span class="n">runner</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">stream</span><span class="p">)</span>
<a id="__codelineno-0-204" name="__codelineno-0-204"></a>
<a id="__codelineno-0-205" name="__codelineno-0-205"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">runner</span><span class="o">.</span><span class="n">get_test_runner_kwargs</span> <span class="o">=</span> <span class="n">overwrite</span><span class="o">.</span><span class="fm">__get__</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runner</span><span class="p">)</span>
<a id="__codelineno-0-206" name="__codelineno-0-206"></a>    <span class="n">app_logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s2">&quot;app.close_watch&quot;</span><span class="p">)</span>
<a id="__codelineno-0-207" name="__codelineno-0-207"></a>    <span class="n">app_logger</span><span class="o">.</span><span class="n">propagate</span> <span class="o">=</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="scenery.metatest.MetaTestRunner.run" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">run</span><span class="p">(</span><span class="n">tests_discovered</span><span class="p">,</span> <span class="n">verbosity</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Run the discovered tests and collect results.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>tests_discovered</code>
            </td>
            <td>
                  <code>list</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of tuples, each containing a test name and a TestSuite.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>verbosity</code>
            </td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The verbosity level for output.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
                  <code>dict[str, dict[str, <span title="typing.Any">Any</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A dictionary mapping test names to their serialized results.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="note" open>
  <summary>Note</summary>
  <p>This method logs test results and prints them to the console based on the verbosity level.</p>
</details>
            <details class="quote">
              <summary>Source code in <code>scenery/metatest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-216">216</a></span>
<span class="normal"><a href="#__codelineno-0-217">217</a></span>
<span class="normal"><a href="#__codelineno-0-218">218</a></span>
<span class="normal"><a href="#__codelineno-0-219">219</a></span>
<span class="normal"><a href="#__codelineno-0-220">220</a></span>
<span class="normal"><a href="#__codelineno-0-221">221</a></span>
<span class="normal"><a href="#__codelineno-0-222">222</a></span>
<span class="normal"><a href="#__codelineno-0-223">223</a></span>
<span class="normal"><a href="#__codelineno-0-224">224</a></span>
<span class="normal"><a href="#__codelineno-0-225">225</a></span>
<span class="normal"><a href="#__codelineno-0-226">226</a></span>
<span class="normal"><a href="#__codelineno-0-227">227</a></span>
<span class="normal"><a href="#__codelineno-0-228">228</a></span>
<span class="normal"><a href="#__codelineno-0-229">229</a></span>
<span class="normal"><a href="#__codelineno-0-230">230</a></span>
<span class="normal"><a href="#__codelineno-0-231">231</a></span>
<span class="normal"><a href="#__codelineno-0-232">232</a></span>
<span class="normal"><a href="#__codelineno-0-233">233</a></span>
<span class="normal"><a href="#__codelineno-0-234">234</a></span>
<span class="normal"><a href="#__codelineno-0-235">235</a></span>
<span class="normal"><a href="#__codelineno-0-236">236</a></span>
<span class="normal"><a href="#__codelineno-0-237">237</a></span>
<span class="normal"><a href="#__codelineno-0-238">238</a></span>
<span class="normal"><a href="#__codelineno-0-239">239</a></span>
<span class="normal"><a href="#__codelineno-0-240">240</a></span>
<span class="normal"><a href="#__codelineno-0-241">241</a></span>
<span class="normal"><a href="#__codelineno-0-242">242</a></span>
<span class="normal"><a href="#__codelineno-0-243">243</a></span>
<span class="normal"><a href="#__codelineno-0-244">244</a></span>
<span class="normal"><a href="#__codelineno-0-245">245</a></span>
<span class="normal"><a href="#__codelineno-0-246">246</a></span>
<span class="normal"><a href="#__codelineno-0-247">247</a></span>
<span class="normal"><a href="#__codelineno-0-248">248</a></span>
<span class="normal"><a href="#__codelineno-0-249">249</a></span>
<span class="normal"><a href="#__codelineno-0-250">250</a></span>
<span class="normal"><a href="#__codelineno-0-251">251</a></span>
<span class="normal"><a href="#__codelineno-0-252">252</a></span>
<span class="normal"><a href="#__codelineno-0-253">253</a></span>
<span class="normal"><a href="#__codelineno-0-254">254</a></span>
<span class="normal"><a href="#__codelineno-0-255">255</a></span>
<span class="normal"><a href="#__codelineno-0-256">256</a></span>
<span class="normal"><a href="#__codelineno-0-257">257</a></span>
<span class="normal"><a href="#__codelineno-0-258">258</a></span>
<span class="normal"><a href="#__codelineno-0-259">259</a></span>
<span class="normal"><a href="#__codelineno-0-260">260</a></span>
<span class="normal"><a href="#__codelineno-0-261">261</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-216" name="__codelineno-0-216"></a><span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tests_discovered</span><span class="p">,</span> <span class="n">verbosity</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]:</span>
<a id="__codelineno-0-217" name="__codelineno-0-217"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-218" name="__codelineno-0-218"></a><span class="sd">    Run the discovered tests and collect results.</span>
<a id="__codelineno-0-219" name="__codelineno-0-219"></a>
<a id="__codelineno-0-220" name="__codelineno-0-220"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-221" name="__codelineno-0-221"></a><span class="sd">        tests_discovered (list): A list of tuples, each containing a test name and a TestSuite.</span>
<a id="__codelineno-0-222" name="__codelineno-0-222"></a><span class="sd">        verbosity (int): The verbosity level for output.</span>
<a id="__codelineno-0-223" name="__codelineno-0-223"></a>
<a id="__codelineno-0-224" name="__codelineno-0-224"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-225" name="__codelineno-0-225"></a><span class="sd">        dict: A dictionary mapping test names to their serialized results.</span>
<a id="__codelineno-0-226" name="__codelineno-0-226"></a>
<a id="__codelineno-0-227" name="__codelineno-0-227"></a><span class="sd">    Note:</span>
<a id="__codelineno-0-228" name="__codelineno-0-228"></a><span class="sd">        This method logs test results and prints them to the console based on the verbosity level.</span>
<a id="__codelineno-0-229" name="__codelineno-0-229"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-230" name="__codelineno-0-230"></a>    <span class="k">if</span> <span class="n">verbosity</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-231" name="__codelineno-0-231"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Tests runs:&quot;</span><span class="p">)</span>
<a id="__codelineno-0-232" name="__codelineno-0-232"></a>
<a id="__codelineno-0-233" name="__codelineno-0-233"></a>    <span class="n">results</span> <span class="o">=</span> <span class="p">{}</span>
<a id="__codelineno-0-234" name="__codelineno-0-234"></a>    <span class="k">for</span> <span class="n">test_name</span><span class="p">,</span> <span class="n">suite</span> <span class="ow">in</span> <span class="n">tests_discovered</span><span class="p">:</span>
<a id="__codelineno-0-235" name="__codelineno-0-235"></a>        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">runner</span><span class="o">.</span><span class="n">run_suite</span><span class="p">(</span><span class="n">suite</span><span class="p">)</span>
<a id="__codelineno-0-236" name="__codelineno-0-236"></a>
<a id="__codelineno-0-237" name="__codelineno-0-237"></a>        <span class="n">result_serialized</span> <span class="o">=</span> <span class="n">scenery</span><span class="o">.</span><span class="n">common</span><span class="o">.</span><span class="n">serialize_unittest_result</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<a id="__codelineno-0-238" name="__codelineno-0-238"></a>
<a id="__codelineno-0-239" name="__codelineno-0-239"></a>        <span class="n">test_name</span> <span class="o">=</span> <span class="n">test_name</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;test_case_&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
<a id="__codelineno-0-240" name="__codelineno-0-240"></a>        <span class="n">test_name</span> <span class="o">=</span> <span class="n">test_name</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;_scene_&quot;</span><span class="p">,</span> <span class="s2">&quot;.&quot;</span><span class="p">)</span>
<a id="__codelineno-0-241" name="__codelineno-0-241"></a>
<a id="__codelineno-0-242" name="__codelineno-0-242"></a>        <span class="n">results</span><span class="p">[</span><span class="n">test_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">result_serialized</span>
<a id="__codelineno-0-243" name="__codelineno-0-243"></a>
<a id="__codelineno-0-244" name="__codelineno-0-244"></a>        <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">errors</span> <span class="ow">or</span> <span class="n">result</span><span class="o">.</span><span class="n">failures</span><span class="p">:</span>
<a id="__codelineno-0-245" name="__codelineno-0-245"></a>            <span class="n">log_lvl</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">ERROR</span><span class="p">,</span> <span class="s2">&quot;red&quot;</span>
<a id="__codelineno-0-246" name="__codelineno-0-246"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-247" name="__codelineno-0-247"></a>            <span class="n">log_lvl</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">,</span> <span class="s2">&quot;green&quot;</span>
<a id="__codelineno-0-248" name="__codelineno-0-248"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">log_lvl</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">test_name</span><span class="si">}</span><span class="se">\n</span><span class="si">{</span><span class="n">scenery</span><span class="o">.</span><span class="n">common</span><span class="o">.</span><span class="n">tabulate</span><span class="p">(</span><span class="n">result_serialized</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-249" name="__codelineno-0-249"></a>        <span class="k">if</span> <span class="n">verbosity</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-250" name="__codelineno-0-250"></a>            <span class="nb">print</span><span class="p">(</span>
<a id="__codelineno-0-251" name="__codelineno-0-251"></a>                <span class="sa">f</span><span class="s2">&quot;&gt;&gt; </span><span class="si">{</span><span class="n">scenery</span><span class="o">.</span><span class="n">common</span><span class="o">.</span><span class="n">colorize</span><span class="p">(</span><span class="n">color</span><span class="p">,</span><span class="w"> </span><span class="n">test_name</span><span class="p">)</span><span class="si">}</span><span class="se">\n</span><span class="si">{</span><span class="n">scenery</span><span class="o">.</span><span class="n">common</span><span class="o">.</span><span class="n">tabulate</span><span class="p">({</span><span class="n">key</span><span class="p">:</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">key</span><span class="p">,</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">result_serialized</span><span class="o">.</span><span class="n">items</span><span class="p">()</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">})</span><span class="si">}</span><span class="s2">&quot;</span>
<a id="__codelineno-0-252" name="__codelineno-0-252"></a>            <span class="p">)</span>
<a id="__codelineno-0-253" name="__codelineno-0-253"></a>
<a id="__codelineno-0-254" name="__codelineno-0-254"></a>        <span class="c1"># Log / verbosity</span>
<a id="__codelineno-0-255" name="__codelineno-0-255"></a>        <span class="k">for</span> <span class="n">head</span><span class="p">,</span> <span class="n">traceback</span> <span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">failures</span> <span class="o">+</span> <span class="n">result</span><span class="o">.</span><span class="n">errors</span><span class="p">:</span>
<a id="__codelineno-0-256" name="__codelineno-0-256"></a>            <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">test_name</span><span class="si">}</span><span class="se">\n</span><span class="si">{</span><span class="n">head</span><span class="si">}</span><span class="se">\n</span><span class="si">{</span><span class="n">traceback</span><span class="si">}</span><span class="s2">&quot;</span>
<a id="__codelineno-0-257" name="__codelineno-0-257"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
<a id="__codelineno-0-258" name="__codelineno-0-258"></a>            <span class="k">if</span> <span class="n">verbosity</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-259" name="__codelineno-0-259"></a>                <span class="nb">print</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
<a id="__codelineno-0-260" name="__codelineno-0-260"></a>
<a id="__codelineno-0-261" name="__codelineno-0-261"></a>    <span class="k">return</span> <span class="n">results</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div><h2 id="method-builder">Method builder</h2>


<div class="doc doc-object doc-module">



<a id="scenery.method_builder"></a>
    <div class="doc doc-contents first">








  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="scenery.method_builder.MethodBuilder" class="doc doc-heading">
            <code>MethodBuilder</code>


</h2>


    <div class="doc doc-contents ">


        <p>A utility class for building test methods dynamically based on manifest data.</p>
<p>This class provides static methods to create setup and test methods
that can be added to Django test cases.</p>






              <details class="quote">
                <summary>Source code in <code>scenery/method_builder.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-15">15</a></span>
<span class="normal"><a href="#__codelineno-0-16">16</a></span>
<span class="normal"><a href="#__codelineno-0-17">17</a></span>
<span class="normal"><a href="#__codelineno-0-18">18</a></span>
<span class="normal"><a href="#__codelineno-0-19">19</a></span>
<span class="normal"><a href="#__codelineno-0-20">20</a></span>
<span class="normal"><a href="#__codelineno-0-21">21</a></span>
<span class="normal"><a href="#__codelineno-0-22">22</a></span>
<span class="normal"><a href="#__codelineno-0-23">23</a></span>
<span class="normal"><a href="#__codelineno-0-24">24</a></span>
<span class="normal"><a href="#__codelineno-0-25">25</a></span>
<span class="normal"><a href="#__codelineno-0-26">26</a></span>
<span class="normal"><a href="#__codelineno-0-27">27</a></span>
<span class="normal"><a href="#__codelineno-0-28">28</a></span>
<span class="normal"><a href="#__codelineno-0-29">29</a></span>
<span class="normal"><a href="#__codelineno-0-30">30</a></span>
<span class="normal"><a href="#__codelineno-0-31">31</a></span>
<span class="normal"><a href="#__codelineno-0-32">32</a></span>
<span class="normal"><a href="#__codelineno-0-33">33</a></span>
<span class="normal"><a href="#__codelineno-0-34">34</a></span>
<span class="normal"><a href="#__codelineno-0-35">35</a></span>
<span class="normal"><a href="#__codelineno-0-36">36</a></span>
<span class="normal"><a href="#__codelineno-0-37">37</a></span>
<span class="normal"><a href="#__codelineno-0-38">38</a></span>
<span class="normal"><a href="#__codelineno-0-39">39</a></span>
<span class="normal"><a href="#__codelineno-0-40">40</a></span>
<span class="normal"><a href="#__codelineno-0-41">41</a></span>
<span class="normal"><a href="#__codelineno-0-42">42</a></span>
<span class="normal"><a href="#__codelineno-0-43">43</a></span>
<span class="normal"><a href="#__codelineno-0-44">44</a></span>
<span class="normal"><a href="#__codelineno-0-45">45</a></span>
<span class="normal"><a href="#__codelineno-0-46">46</a></span>
<span class="normal"><a href="#__codelineno-0-47">47</a></span>
<span class="normal"><a href="#__codelineno-0-48">48</a></span>
<span class="normal"><a href="#__codelineno-0-49">49</a></span>
<span class="normal"><a href="#__codelineno-0-50">50</a></span>
<span class="normal"><a href="#__codelineno-0-51">51</a></span>
<span class="normal"><a href="#__codelineno-0-52">52</a></span>
<span class="normal"><a href="#__codelineno-0-53">53</a></span>
<span class="normal"><a href="#__codelineno-0-54">54</a></span>
<span class="normal"><a href="#__codelineno-0-55">55</a></span>
<span class="normal"><a href="#__codelineno-0-56">56</a></span>
<span class="normal"><a href="#__codelineno-0-57">57</a></span>
<span class="normal"><a href="#__codelineno-0-58">58</a></span>
<span class="normal"><a href="#__codelineno-0-59">59</a></span>
<span class="normal"><a href="#__codelineno-0-60">60</a></span>
<span class="normal"><a href="#__codelineno-0-61">61</a></span>
<span class="normal"><a href="#__codelineno-0-62">62</a></span>
<span class="normal"><a href="#__codelineno-0-63">63</a></span>
<span class="normal"><a href="#__codelineno-0-64">64</a></span>
<span class="normal"><a href="#__codelineno-0-65">65</a></span>
<span class="normal"><a href="#__codelineno-0-66">66</a></span>
<span class="normal"><a href="#__codelineno-0-67">67</a></span>
<span class="normal"><a href="#__codelineno-0-68">68</a></span>
<span class="normal"><a href="#__codelineno-0-69">69</a></span>
<span class="normal"><a href="#__codelineno-0-70">70</a></span>
<span class="normal"><a href="#__codelineno-0-71">71</a></span>
<span class="normal"><a href="#__codelineno-0-72">72</a></span>
<span class="normal"><a href="#__codelineno-0-73">73</a></span>
<span class="normal"><a href="#__codelineno-0-74">74</a></span>
<span class="normal"><a href="#__codelineno-0-75">75</a></span>
<span class="normal"><a href="#__codelineno-0-76">76</a></span>
<span class="normal"><a href="#__codelineno-0-77">77</a></span>
<span class="normal"><a href="#__codelineno-0-78">78</a></span>
<span class="normal"><a href="#__codelineno-0-79">79</a></span>
<span class="normal"><a href="#__codelineno-0-80">80</a></span>
<span class="normal"><a href="#__codelineno-0-81">81</a></span>
<span class="normal"><a href="#__codelineno-0-82">82</a></span>
<span class="normal"><a href="#__codelineno-0-83">83</a></span>
<span class="normal"><a href="#__codelineno-0-84">84</a></span>
<span class="normal"><a href="#__codelineno-0-85">85</a></span>
<span class="normal"><a href="#__codelineno-0-86">86</a></span>
<span class="normal"><a href="#__codelineno-0-87">87</a></span>
<span class="normal"><a href="#__codelineno-0-88">88</a></span>
<span class="normal"><a href="#__codelineno-0-89">89</a></span>
<span class="normal"><a href="#__codelineno-0-90">90</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-15" name="__codelineno-0-15"></a><span class="k">class</span> <span class="nc">MethodBuilder</span><span class="p">:</span>
<a id="__codelineno-0-16" name="__codelineno-0-16"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-17" name="__codelineno-0-17"></a><span class="sd">    A utility class for building test methods dynamically based on manifest data.</span>
<a id="__codelineno-0-18" name="__codelineno-0-18"></a>
<a id="__codelineno-0-19" name="__codelineno-0-19"></a><span class="sd">    This class provides static methods to create setup and test methods</span>
<a id="__codelineno-0-20" name="__codelineno-0-20"></a><span class="sd">    that can be added to Django test cases.</span>
<a id="__codelineno-0-21" name="__codelineno-0-21"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-22" name="__codelineno-0-22"></a>
<a id="__codelineno-0-23" name="__codelineno-0-23"></a>    <span class="nd">@staticmethod</span>
<a id="__codelineno-0-24" name="__codelineno-0-24"></a>    <span class="k">def</span> <span class="nf">build_setUpTestData</span><span class="p">(</span><span class="n">instructions</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">scenery</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">SetUpInstruction</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">classmethod</span><span class="p">:</span>
<a id="__codelineno-0-25" name="__codelineno-0-25"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-26" name="__codelineno-0-26"></a><span class="sd">        Build a setUpTestData class method for a Django test case.</span>
<a id="__codelineno-0-27" name="__codelineno-0-27"></a>
<a id="__codelineno-0-28" name="__codelineno-0-28"></a><span class="sd">        This method creates a class method that executes a series of setup</span>
<a id="__codelineno-0-29" name="__codelineno-0-29"></a><span class="sd">        instructions before any test methods are run.</span>
<a id="__codelineno-0-30" name="__codelineno-0-30"></a>
<a id="__codelineno-0-31" name="__codelineno-0-31"></a><span class="sd">        Args:</span>
<a id="__codelineno-0-32" name="__codelineno-0-32"></a><span class="sd">            instructions (list[str]): A list of setup instructions to be executed.</span>
<a id="__codelineno-0-33" name="__codelineno-0-33"></a>
<a id="__codelineno-0-34" name="__codelineno-0-34"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-35" name="__codelineno-0-35"></a><span class="sd">            classmethod: A class method that can be added to a Django test case.</span>
<a id="__codelineno-0-36" name="__codelineno-0-36"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-37" name="__codelineno-0-37"></a>
<a id="__codelineno-0-38" name="__codelineno-0-38"></a>        <span class="k">def</span> <span class="nf">setUpTestData</span><span class="p">(</span><span class="n">django_testcase</span><span class="p">:</span> <span class="n">django</span><span class="o">.</span><span class="n">test</span><span class="o">.</span><span class="n">TestCase</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-39" name="__codelineno-0-39"></a>            <span class="k">for</span> <span class="n">instruction</span> <span class="ow">in</span> <span class="n">instructions</span><span class="p">:</span>
<a id="__codelineno-0-40" name="__codelineno-0-40"></a>                <span class="n">SetUpHandler</span><span class="o">.</span><span class="n">exec_set_up_instruction</span><span class="p">(</span><span class="n">django_testcase</span><span class="p">,</span> <span class="n">instruction</span><span class="p">)</span>
<a id="__codelineno-0-41" name="__codelineno-0-41"></a>
<a id="__codelineno-0-42" name="__codelineno-0-42"></a>        <span class="k">return</span> <span class="nb">classmethod</span><span class="p">(</span><span class="n">setUpTestData</span><span class="p">)</span>
<a id="__codelineno-0-43" name="__codelineno-0-43"></a>
<a id="__codelineno-0-44" name="__codelineno-0-44"></a>    <span class="nd">@staticmethod</span>
<a id="__codelineno-0-45" name="__codelineno-0-45"></a>    <span class="k">def</span> <span class="nf">build_setUp</span><span class="p">(</span>
<a id="__codelineno-0-46" name="__codelineno-0-46"></a>        <span class="n">instructions</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">scenery</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">SetUpInstruction</span><span class="p">],</span>
<a id="__codelineno-0-47" name="__codelineno-0-47"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">django</span><span class="o">.</span><span class="n">test</span><span class="o">.</span><span class="n">TestCase</span><span class="p">],</span> <span class="kc">None</span><span class="p">]:</span>
<a id="__codelineno-0-48" name="__codelineno-0-48"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-49" name="__codelineno-0-49"></a><span class="sd">        Build a setUp instance method for a Django test case.</span>
<a id="__codelineno-0-50" name="__codelineno-0-50"></a>
<a id="__codelineno-0-51" name="__codelineno-0-51"></a><span class="sd">        This method creates an instance method that executes a series of setup</span>
<a id="__codelineno-0-52" name="__codelineno-0-52"></a><span class="sd">        instructions before each test method is run.</span>
<a id="__codelineno-0-53" name="__codelineno-0-53"></a>
<a id="__codelineno-0-54" name="__codelineno-0-54"></a><span class="sd">        Args:</span>
<a id="__codelineno-0-55" name="__codelineno-0-55"></a><span class="sd">            instructions (list[str]): A list of setup instructions to be executed.</span>
<a id="__codelineno-0-56" name="__codelineno-0-56"></a>
<a id="__codelineno-0-57" name="__codelineno-0-57"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-58" name="__codelineno-0-58"></a><span class="sd">            function: An instance method that can be added to a Django test case.</span>
<a id="__codelineno-0-59" name="__codelineno-0-59"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-60" name="__codelineno-0-60"></a>
<a id="__codelineno-0-61" name="__codelineno-0-61"></a>        <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="n">django_testcase</span><span class="p">:</span> <span class="n">django</span><span class="o">.</span><span class="n">test</span><span class="o">.</span><span class="n">TestCase</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-62" name="__codelineno-0-62"></a>            <span class="k">for</span> <span class="n">instruction</span> <span class="ow">in</span> <span class="n">instructions</span><span class="p">:</span>
<a id="__codelineno-0-63" name="__codelineno-0-63"></a>                <span class="n">SetUpHandler</span><span class="o">.</span><span class="n">exec_set_up_instruction</span><span class="p">(</span><span class="n">django_testcase</span><span class="p">,</span> <span class="n">instruction</span><span class="p">)</span>
<a id="__codelineno-0-64" name="__codelineno-0-64"></a>
<a id="__codelineno-0-65" name="__codelineno-0-65"></a>        <span class="k">return</span> <span class="n">setUp</span>
<a id="__codelineno-0-66" name="__codelineno-0-66"></a>
<a id="__codelineno-0-67" name="__codelineno-0-67"></a>    <span class="nd">@staticmethod</span>
<a id="__codelineno-0-68" name="__codelineno-0-68"></a>    <span class="k">def</span> <span class="nf">build_test_from_take</span><span class="p">(</span><span class="n">take</span><span class="p">:</span> <span class="n">scenery</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">HttpTake</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">:</span>
<a id="__codelineno-0-69" name="__codelineno-0-69"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-70" name="__codelineno-0-70"></a><span class="sd">        Build a test method from an HttpTake object.</span>
<a id="__codelineno-0-71" name="__codelineno-0-71"></a>
<a id="__codelineno-0-72" name="__codelineno-0-72"></a><span class="sd">        This method creates a test function that sends an HTTP request</span>
<a id="__codelineno-0-73" name="__codelineno-0-73"></a><span class="sd">        based on the take&#39;s specifications and executes a series of checks</span>
<a id="__codelineno-0-74" name="__codelineno-0-74"></a><span class="sd">        on the response.</span>
<a id="__codelineno-0-75" name="__codelineno-0-75"></a>
<a id="__codelineno-0-76" name="__codelineno-0-76"></a><span class="sd">        Args:</span>
<a id="__codelineno-0-77" name="__codelineno-0-77"></a><span class="sd">            take (scenery.manifest.HttpTake): An HttpTake object specifying</span>
<a id="__codelineno-0-78" name="__codelineno-0-78"></a><span class="sd">                the request to be made and the checks to be performed.</span>
<a id="__codelineno-0-79" name="__codelineno-0-79"></a>
<a id="__codelineno-0-80" name="__codelineno-0-80"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-81" name="__codelineno-0-81"></a><span class="sd">            function: A test method that can be added to a Django test case.</span>
<a id="__codelineno-0-82" name="__codelineno-0-82"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-83" name="__codelineno-0-83"></a>
<a id="__codelineno-0-84" name="__codelineno-0-84"></a>        <span class="k">def</span> <span class="nf">test</span><span class="p">(</span><span class="n">django_testcase</span><span class="p">:</span> <span class="n">django</span><span class="o">.</span><span class="n">test</span><span class="o">.</span><span class="n">TestCase</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-85" name="__codelineno-0-85"></a>            <span class="n">response</span> <span class="o">=</span> <span class="n">HttpChecker</span><span class="o">.</span><span class="n">get_http_client_response</span><span class="p">(</span><span class="n">django_testcase</span><span class="o">.</span><span class="n">client</span><span class="p">,</span> <span class="n">take</span><span class="p">)</span>
<a id="__codelineno-0-86" name="__codelineno-0-86"></a>            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">check</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">take</span><span class="o">.</span><span class="n">checks</span><span class="p">):</span>
<a id="__codelineno-0-87" name="__codelineno-0-87"></a>                <span class="k">with</span> <span class="n">django_testcase</span><span class="o">.</span><span class="n">subTest</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="n">i</span><span class="p">):</span>
<a id="__codelineno-0-88" name="__codelineno-0-88"></a>                    <span class="n">HttpChecker</span><span class="o">.</span><span class="n">exec_check</span><span class="p">(</span><span class="n">django_testcase</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">check</span><span class="p">)</span>
<a id="__codelineno-0-89" name="__codelineno-0-89"></a>
<a id="__codelineno-0-90" name="__codelineno-0-90"></a>        <span class="k">return</span> <span class="n">test</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="scenery.method_builder.MethodBuilder.build_setUp" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">build_setUp</span><span class="p">(</span><span class="n">instructions</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Build a setUp instance method for a Django test case.</p>
<p>This method creates an instance method that executes a series of setup
instructions before each test method is run.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>instructions</code>
            </td>
            <td>
                  <code>list[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of setup instructions to be executed.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>function</code></td>            <td>
                  <code><span title="typing.Callable">Callable</span>[[<span title="django.test.TestCase">TestCase</span>], None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An instance method that can be added to a Django test case.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>scenery/method_builder.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-44">44</a></span>
<span class="normal"><a href="#__codelineno-0-45">45</a></span>
<span class="normal"><a href="#__codelineno-0-46">46</a></span>
<span class="normal"><a href="#__codelineno-0-47">47</a></span>
<span class="normal"><a href="#__codelineno-0-48">48</a></span>
<span class="normal"><a href="#__codelineno-0-49">49</a></span>
<span class="normal"><a href="#__codelineno-0-50">50</a></span>
<span class="normal"><a href="#__codelineno-0-51">51</a></span>
<span class="normal"><a href="#__codelineno-0-52">52</a></span>
<span class="normal"><a href="#__codelineno-0-53">53</a></span>
<span class="normal"><a href="#__codelineno-0-54">54</a></span>
<span class="normal"><a href="#__codelineno-0-55">55</a></span>
<span class="normal"><a href="#__codelineno-0-56">56</a></span>
<span class="normal"><a href="#__codelineno-0-57">57</a></span>
<span class="normal"><a href="#__codelineno-0-58">58</a></span>
<span class="normal"><a href="#__codelineno-0-59">59</a></span>
<span class="normal"><a href="#__codelineno-0-60">60</a></span>
<span class="normal"><a href="#__codelineno-0-61">61</a></span>
<span class="normal"><a href="#__codelineno-0-62">62</a></span>
<span class="normal"><a href="#__codelineno-0-63">63</a></span>
<span class="normal"><a href="#__codelineno-0-64">64</a></span>
<span class="normal"><a href="#__codelineno-0-65">65</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-44" name="__codelineno-0-44"></a><span class="nd">@staticmethod</span>
<a id="__codelineno-0-45" name="__codelineno-0-45"></a><span class="k">def</span> <span class="nf">build_setUp</span><span class="p">(</span>
<a id="__codelineno-0-46" name="__codelineno-0-46"></a>    <span class="n">instructions</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">scenery</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">SetUpInstruction</span><span class="p">],</span>
<a id="__codelineno-0-47" name="__codelineno-0-47"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">django</span><span class="o">.</span><span class="n">test</span><span class="o">.</span><span class="n">TestCase</span><span class="p">],</span> <span class="kc">None</span><span class="p">]:</span>
<a id="__codelineno-0-48" name="__codelineno-0-48"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-49" name="__codelineno-0-49"></a><span class="sd">    Build a setUp instance method for a Django test case.</span>
<a id="__codelineno-0-50" name="__codelineno-0-50"></a>
<a id="__codelineno-0-51" name="__codelineno-0-51"></a><span class="sd">    This method creates an instance method that executes a series of setup</span>
<a id="__codelineno-0-52" name="__codelineno-0-52"></a><span class="sd">    instructions before each test method is run.</span>
<a id="__codelineno-0-53" name="__codelineno-0-53"></a>
<a id="__codelineno-0-54" name="__codelineno-0-54"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-55" name="__codelineno-0-55"></a><span class="sd">        instructions (list[str]): A list of setup instructions to be executed.</span>
<a id="__codelineno-0-56" name="__codelineno-0-56"></a>
<a id="__codelineno-0-57" name="__codelineno-0-57"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-58" name="__codelineno-0-58"></a><span class="sd">        function: An instance method that can be added to a Django test case.</span>
<a id="__codelineno-0-59" name="__codelineno-0-59"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-60" name="__codelineno-0-60"></a>
<a id="__codelineno-0-61" name="__codelineno-0-61"></a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="n">django_testcase</span><span class="p">:</span> <span class="n">django</span><span class="o">.</span><span class="n">test</span><span class="o">.</span><span class="n">TestCase</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-62" name="__codelineno-0-62"></a>        <span class="k">for</span> <span class="n">instruction</span> <span class="ow">in</span> <span class="n">instructions</span><span class="p">:</span>
<a id="__codelineno-0-63" name="__codelineno-0-63"></a>            <span class="n">SetUpHandler</span><span class="o">.</span><span class="n">exec_set_up_instruction</span><span class="p">(</span><span class="n">django_testcase</span><span class="p">,</span> <span class="n">instruction</span><span class="p">)</span>
<a id="__codelineno-0-64" name="__codelineno-0-64"></a>
<a id="__codelineno-0-65" name="__codelineno-0-65"></a>    <span class="k">return</span> <span class="n">setUp</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="scenery.method_builder.MethodBuilder.build_setUpTestData" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">build_setUpTestData</span><span class="p">(</span><span class="n">instructions</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Build a setUpTestData class method for a Django test case.</p>
<p>This method creates a class method that executes a series of setup
instructions before any test methods are run.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>instructions</code>
            </td>
            <td>
                  <code>list[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of setup instructions to be executed.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>classmethod</code></td>            <td>
                  <code>classmethod</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A class method that can be added to a Django test case.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>scenery/method_builder.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-23">23</a></span>
<span class="normal"><a href="#__codelineno-0-24">24</a></span>
<span class="normal"><a href="#__codelineno-0-25">25</a></span>
<span class="normal"><a href="#__codelineno-0-26">26</a></span>
<span class="normal"><a href="#__codelineno-0-27">27</a></span>
<span class="normal"><a href="#__codelineno-0-28">28</a></span>
<span class="normal"><a href="#__codelineno-0-29">29</a></span>
<span class="normal"><a href="#__codelineno-0-30">30</a></span>
<span class="normal"><a href="#__codelineno-0-31">31</a></span>
<span class="normal"><a href="#__codelineno-0-32">32</a></span>
<span class="normal"><a href="#__codelineno-0-33">33</a></span>
<span class="normal"><a href="#__codelineno-0-34">34</a></span>
<span class="normal"><a href="#__codelineno-0-35">35</a></span>
<span class="normal"><a href="#__codelineno-0-36">36</a></span>
<span class="normal"><a href="#__codelineno-0-37">37</a></span>
<span class="normal"><a href="#__codelineno-0-38">38</a></span>
<span class="normal"><a href="#__codelineno-0-39">39</a></span>
<span class="normal"><a href="#__codelineno-0-40">40</a></span>
<span class="normal"><a href="#__codelineno-0-41">41</a></span>
<span class="normal"><a href="#__codelineno-0-42">42</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-23" name="__codelineno-0-23"></a><span class="nd">@staticmethod</span>
<a id="__codelineno-0-24" name="__codelineno-0-24"></a><span class="k">def</span> <span class="nf">build_setUpTestData</span><span class="p">(</span><span class="n">instructions</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">scenery</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">SetUpInstruction</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">classmethod</span><span class="p">:</span>
<a id="__codelineno-0-25" name="__codelineno-0-25"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-26" name="__codelineno-0-26"></a><span class="sd">    Build a setUpTestData class method for a Django test case.</span>
<a id="__codelineno-0-27" name="__codelineno-0-27"></a>
<a id="__codelineno-0-28" name="__codelineno-0-28"></a><span class="sd">    This method creates a class method that executes a series of setup</span>
<a id="__codelineno-0-29" name="__codelineno-0-29"></a><span class="sd">    instructions before any test methods are run.</span>
<a id="__codelineno-0-30" name="__codelineno-0-30"></a>
<a id="__codelineno-0-31" name="__codelineno-0-31"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-32" name="__codelineno-0-32"></a><span class="sd">        instructions (list[str]): A list of setup instructions to be executed.</span>
<a id="__codelineno-0-33" name="__codelineno-0-33"></a>
<a id="__codelineno-0-34" name="__codelineno-0-34"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-35" name="__codelineno-0-35"></a><span class="sd">        classmethod: A class method that can be added to a Django test case.</span>
<a id="__codelineno-0-36" name="__codelineno-0-36"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-37" name="__codelineno-0-37"></a>
<a id="__codelineno-0-38" name="__codelineno-0-38"></a>    <span class="k">def</span> <span class="nf">setUpTestData</span><span class="p">(</span><span class="n">django_testcase</span><span class="p">:</span> <span class="n">django</span><span class="o">.</span><span class="n">test</span><span class="o">.</span><span class="n">TestCase</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-39" name="__codelineno-0-39"></a>        <span class="k">for</span> <span class="n">instruction</span> <span class="ow">in</span> <span class="n">instructions</span><span class="p">:</span>
<a id="__codelineno-0-40" name="__codelineno-0-40"></a>            <span class="n">SetUpHandler</span><span class="o">.</span><span class="n">exec_set_up_instruction</span><span class="p">(</span><span class="n">django_testcase</span><span class="p">,</span> <span class="n">instruction</span><span class="p">)</span>
<a id="__codelineno-0-41" name="__codelineno-0-41"></a>
<a id="__codelineno-0-42" name="__codelineno-0-42"></a>    <span class="k">return</span> <span class="nb">classmethod</span><span class="p">(</span><span class="n">setUpTestData</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="scenery.method_builder.MethodBuilder.build_test_from_take" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">build_test_from_take</span><span class="p">(</span><span class="n">take</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Build a test method from an HttpTake object.</p>
<p>This method creates a test function that sends an HTTP request
based on the take's specifications and executes a series of checks
on the response.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>take</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="scenery.manifest.HttpTake" href="#scenery.manifest.HttpTake">HttpTake</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An HttpTake object specifying
the request to be made and the checks to be performed.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>function</code></td>            <td>
                  <code><span title="typing.Callable">Callable</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A test method that can be added to a Django test case.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>scenery/method_builder.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-67">67</a></span>
<span class="normal"><a href="#__codelineno-0-68">68</a></span>
<span class="normal"><a href="#__codelineno-0-69">69</a></span>
<span class="normal"><a href="#__codelineno-0-70">70</a></span>
<span class="normal"><a href="#__codelineno-0-71">71</a></span>
<span class="normal"><a href="#__codelineno-0-72">72</a></span>
<span class="normal"><a href="#__codelineno-0-73">73</a></span>
<span class="normal"><a href="#__codelineno-0-74">74</a></span>
<span class="normal"><a href="#__codelineno-0-75">75</a></span>
<span class="normal"><a href="#__codelineno-0-76">76</a></span>
<span class="normal"><a href="#__codelineno-0-77">77</a></span>
<span class="normal"><a href="#__codelineno-0-78">78</a></span>
<span class="normal"><a href="#__codelineno-0-79">79</a></span>
<span class="normal"><a href="#__codelineno-0-80">80</a></span>
<span class="normal"><a href="#__codelineno-0-81">81</a></span>
<span class="normal"><a href="#__codelineno-0-82">82</a></span>
<span class="normal"><a href="#__codelineno-0-83">83</a></span>
<span class="normal"><a href="#__codelineno-0-84">84</a></span>
<span class="normal"><a href="#__codelineno-0-85">85</a></span>
<span class="normal"><a href="#__codelineno-0-86">86</a></span>
<span class="normal"><a href="#__codelineno-0-87">87</a></span>
<span class="normal"><a href="#__codelineno-0-88">88</a></span>
<span class="normal"><a href="#__codelineno-0-89">89</a></span>
<span class="normal"><a href="#__codelineno-0-90">90</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-67" name="__codelineno-0-67"></a><span class="nd">@staticmethod</span>
<a id="__codelineno-0-68" name="__codelineno-0-68"></a><span class="k">def</span> <span class="nf">build_test_from_take</span><span class="p">(</span><span class="n">take</span><span class="p">:</span> <span class="n">scenery</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">HttpTake</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">:</span>
<a id="__codelineno-0-69" name="__codelineno-0-69"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-70" name="__codelineno-0-70"></a><span class="sd">    Build a test method from an HttpTake object.</span>
<a id="__codelineno-0-71" name="__codelineno-0-71"></a>
<a id="__codelineno-0-72" name="__codelineno-0-72"></a><span class="sd">    This method creates a test function that sends an HTTP request</span>
<a id="__codelineno-0-73" name="__codelineno-0-73"></a><span class="sd">    based on the take&#39;s specifications and executes a series of checks</span>
<a id="__codelineno-0-74" name="__codelineno-0-74"></a><span class="sd">    on the response.</span>
<a id="__codelineno-0-75" name="__codelineno-0-75"></a>
<a id="__codelineno-0-76" name="__codelineno-0-76"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-77" name="__codelineno-0-77"></a><span class="sd">        take (scenery.manifest.HttpTake): An HttpTake object specifying</span>
<a id="__codelineno-0-78" name="__codelineno-0-78"></a><span class="sd">            the request to be made and the checks to be performed.</span>
<a id="__codelineno-0-79" name="__codelineno-0-79"></a>
<a id="__codelineno-0-80" name="__codelineno-0-80"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-81" name="__codelineno-0-81"></a><span class="sd">        function: A test method that can be added to a Django test case.</span>
<a id="__codelineno-0-82" name="__codelineno-0-82"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-83" name="__codelineno-0-83"></a>
<a id="__codelineno-0-84" name="__codelineno-0-84"></a>    <span class="k">def</span> <span class="nf">test</span><span class="p">(</span><span class="n">django_testcase</span><span class="p">:</span> <span class="n">django</span><span class="o">.</span><span class="n">test</span><span class="o">.</span><span class="n">TestCase</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-85" name="__codelineno-0-85"></a>        <span class="n">response</span> <span class="o">=</span> <span class="n">HttpChecker</span><span class="o">.</span><span class="n">get_http_client_response</span><span class="p">(</span><span class="n">django_testcase</span><span class="o">.</span><span class="n">client</span><span class="p">,</span> <span class="n">take</span><span class="p">)</span>
<a id="__codelineno-0-86" name="__codelineno-0-86"></a>        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">check</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">take</span><span class="o">.</span><span class="n">checks</span><span class="p">):</span>
<a id="__codelineno-0-87" name="__codelineno-0-87"></a>            <span class="k">with</span> <span class="n">django_testcase</span><span class="o">.</span><span class="n">subTest</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="n">i</span><span class="p">):</span>
<a id="__codelineno-0-88" name="__codelineno-0-88"></a>                <span class="n">HttpChecker</span><span class="o">.</span><span class="n">exec_check</span><span class="p">(</span><span class="n">django_testcase</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">check</span><span class="p">)</span>
<a id="__codelineno-0-89" name="__codelineno-0-89"></a>
<a id="__codelineno-0-90" name="__codelineno-0-90"></a>    <span class="k">return</span> <span class="n">test</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div><h2 id="method-builder_1">Method builder</h2>


<div class="doc doc-object doc-module">



<a id="scenery.set_up_handler"></a>
    <div class="doc doc-contents first">








  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="scenery.set_up_handler.SetUpHandler" class="doc doc-heading">
            <code>SetUpHandler</code>


</h2>


    <div class="doc doc-contents ">


        <p>Responsible for executing instructions used in <code>TestCase.setUp</code> and <code>TestCase.setUpTestData</code>
provided in the manifest.</p>
<p>This class dynamically imports and executes setup instructions specified in the test manifest.
It is typically used by the MethodBuilder to construct setup methods for test cases.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="scenery.set_up_handler.SetUpHandler.module">module</span></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The imported module containing setup instruction implementations.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="scenery.set_up_handler.SetUpHandler.logger">logger</span></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A logger instance for debug output.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>






              <details class="quote">
                <summary>Source code in <code>scenery/set_up_handler.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-10">10</a></span>
<span class="normal"><a href="#__codelineno-0-11">11</a></span>
<span class="normal"><a href="#__codelineno-0-12">12</a></span>
<span class="normal"><a href="#__codelineno-0-13">13</a></span>
<span class="normal"><a href="#__codelineno-0-14">14</a></span>
<span class="normal"><a href="#__codelineno-0-15">15</a></span>
<span class="normal"><a href="#__codelineno-0-16">16</a></span>
<span class="normal"><a href="#__codelineno-0-17">17</a></span>
<span class="normal"><a href="#__codelineno-0-18">18</a></span>
<span class="normal"><a href="#__codelineno-0-19">19</a></span>
<span class="normal"><a href="#__codelineno-0-20">20</a></span>
<span class="normal"><a href="#__codelineno-0-21">21</a></span>
<span class="normal"><a href="#__codelineno-0-22">22</a></span>
<span class="normal"><a href="#__codelineno-0-23">23</a></span>
<span class="normal"><a href="#__codelineno-0-24">24</a></span>
<span class="normal"><a href="#__codelineno-0-25">25</a></span>
<span class="normal"><a href="#__codelineno-0-26">26</a></span>
<span class="normal"><a href="#__codelineno-0-27">27</a></span>
<span class="normal"><a href="#__codelineno-0-28">28</a></span>
<span class="normal"><a href="#__codelineno-0-29">29</a></span>
<span class="normal"><a href="#__codelineno-0-30">30</a></span>
<span class="normal"><a href="#__codelineno-0-31">31</a></span>
<span class="normal"><a href="#__codelineno-0-32">32</a></span>
<span class="normal"><a href="#__codelineno-0-33">33</a></span>
<span class="normal"><a href="#__codelineno-0-34">34</a></span>
<span class="normal"><a href="#__codelineno-0-35">35</a></span>
<span class="normal"><a href="#__codelineno-0-36">36</a></span>
<span class="normal"><a href="#__codelineno-0-37">37</a></span>
<span class="normal"><a href="#__codelineno-0-38">38</a></span>
<span class="normal"><a href="#__codelineno-0-39">39</a></span>
<span class="normal"><a href="#__codelineno-0-40">40</a></span>
<span class="normal"><a href="#__codelineno-0-41">41</a></span>
<span class="normal"><a href="#__codelineno-0-42">42</a></span>
<span class="normal"><a href="#__codelineno-0-43">43</a></span>
<span class="normal"><a href="#__codelineno-0-44">44</a></span>
<span class="normal"><a href="#__codelineno-0-45">45</a></span>
<span class="normal"><a href="#__codelineno-0-46">46</a></span>
<span class="normal"><a href="#__codelineno-0-47">47</a></span>
<span class="normal"><a href="#__codelineno-0-48">48</a></span>
<span class="normal"><a href="#__codelineno-0-49">49</a></span>
<span class="normal"><a href="#__codelineno-0-50">50</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-10" name="__codelineno-0-10"></a><span class="k">class</span> <span class="nc">SetUpHandler</span><span class="p">:</span>
<a id="__codelineno-0-11" name="__codelineno-0-11"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-12" name="__codelineno-0-12"></a><span class="sd">    Responsible for executing instructions used in `TestCase.setUp` and `TestCase.setUpTestData`</span>
<a id="__codelineno-0-13" name="__codelineno-0-13"></a><span class="sd">    provided in the manifest.</span>
<a id="__codelineno-0-14" name="__codelineno-0-14"></a>
<a id="__codelineno-0-15" name="__codelineno-0-15"></a><span class="sd">    This class dynamically imports and executes setup instructions specified in the test manifest.</span>
<a id="__codelineno-0-16" name="__codelineno-0-16"></a><span class="sd">    It is typically used by the MethodBuilder to construct setup methods for test cases.</span>
<a id="__codelineno-0-17" name="__codelineno-0-17"></a>
<a id="__codelineno-0-18" name="__codelineno-0-18"></a><span class="sd">    Attributes:</span>
<a id="__codelineno-0-19" name="__codelineno-0-19"></a><span class="sd">        module: The imported module containing setup instruction implementations.</span>
<a id="__codelineno-0-20" name="__codelineno-0-20"></a><span class="sd">        logger: A logger instance for debug output.</span>
<a id="__codelineno-0-21" name="__codelineno-0-21"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-22" name="__codelineno-0-22"></a>
<a id="__codelineno-0-23" name="__codelineno-0-23"></a>    <span class="n">module</span> <span class="o">=</span> <span class="n">importlib</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span>
<a id="__codelineno-0-24" name="__codelineno-0-24"></a>        <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;SCENERY_SET_UP_INSTRUCTIONS&quot;</span><span class="p">),</span>
<a id="__codelineno-0-25" name="__codelineno-0-25"></a>    <span class="p">)</span>
<a id="__codelineno-0-26" name="__codelineno-0-26"></a>
<a id="__codelineno-0-27" name="__codelineno-0-27"></a>    <span class="nd">@staticmethod</span>
<a id="__codelineno-0-28" name="__codelineno-0-28"></a>    <span class="k">def</span> <span class="nf">exec_set_up_instruction</span><span class="p">(</span>
<a id="__codelineno-0-29" name="__codelineno-0-29"></a>        <span class="n">django_testcase</span><span class="p">:</span> <span class="n">django</span><span class="o">.</span><span class="n">test</span><span class="o">.</span><span class="n">TestCase</span><span class="p">,</span>
<a id="__codelineno-0-30" name="__codelineno-0-30"></a>        <span class="n">instruction</span><span class="p">:</span> <span class="n">scenery</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">SetUpInstruction</span><span class="p">,</span>
<a id="__codelineno-0-31" name="__codelineno-0-31"></a>    <span class="p">):</span>
<a id="__codelineno-0-32" name="__codelineno-0-32"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-33" name="__codelineno-0-33"></a><span class="sd">        Execute the method corresponding to the SetUpInstruction.</span>
<a id="__codelineno-0-34" name="__codelineno-0-34"></a>
<a id="__codelineno-0-35" name="__codelineno-0-35"></a><span class="sd">        This method dynamically retrieves and executes the setup function specified</span>
<a id="__codelineno-0-36" name="__codelineno-0-36"></a><span class="sd">        by the SetUpInstruction. It logs the execution for debugging purposes.</span>
<a id="__codelineno-0-37" name="__codelineno-0-37"></a>
<a id="__codelineno-0-38" name="__codelineno-0-38"></a><span class="sd">        Args:</span>
<a id="__codelineno-0-39" name="__codelineno-0-39"></a><span class="sd">            django_testcase (django.test.TestCase): The Django test case instance.</span>
<a id="__codelineno-0-40" name="__codelineno-0-40"></a><span class="sd">            instruction (scenery.manifest.SetUpInstruction): The setup instruction to execute.</span>
<a id="__codelineno-0-41" name="__codelineno-0-41"></a>
<a id="__codelineno-0-42" name="__codelineno-0-42"></a><span class="sd">        Raises:</span>
<a id="__codelineno-0-43" name="__codelineno-0-43"></a><span class="sd">            AttributeError: If the specified setup function is not found in the imported module.</span>
<a id="__codelineno-0-44" name="__codelineno-0-44"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-45" name="__codelineno-0-45"></a>
<a id="__codelineno-0-46" name="__codelineno-0-46"></a>        <span class="n">func</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">SetUpHandler</span><span class="o">.</span><span class="n">module</span><span class="p">,</span> <span class="n">instruction</span><span class="o">.</span><span class="n">command</span><span class="p">)</span>
<a id="__codelineno-0-47" name="__codelineno-0-47"></a>        <span class="n">func</span><span class="p">(</span><span class="n">django_testcase</span><span class="p">,</span> <span class="o">**</span><span class="n">instruction</span><span class="o">.</span><span class="n">args</span><span class="p">)</span>
<a id="__codelineno-0-48" name="__codelineno-0-48"></a>
<a id="__codelineno-0-49" name="__codelineno-0-49"></a>        <span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="n">__package__</span><span class="p">)</span>
<a id="__codelineno-0-50" name="__codelineno-0-50"></a>        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Applied </span><span class="si">{</span><span class="n">instruction</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="scenery.set_up_handler.SetUpHandler.exec_set_up_instruction" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">exec_set_up_instruction</span><span class="p">(</span><span class="n">django_testcase</span><span class="p">,</span> <span class="n">instruction</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Execute the method corresponding to the SetUpInstruction.</p>
<p>This method dynamically retrieves and executes the setup function specified
by the SetUpInstruction. It logs the execution for debugging purposes.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>django_testcase</code>
            </td>
            <td>
                  <code><span title="django.test.TestCase">TestCase</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The Django test case instance.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>instruction</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="scenery.manifest.SetUpInstruction" href="#scenery.manifest.SetUpInstruction">SetUpInstruction</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The setup instruction to execute.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>AttributeError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the specified setup function is not found in the imported module.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>scenery/set_up_handler.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-27">27</a></span>
<span class="normal"><a href="#__codelineno-0-28">28</a></span>
<span class="normal"><a href="#__codelineno-0-29">29</a></span>
<span class="normal"><a href="#__codelineno-0-30">30</a></span>
<span class="normal"><a href="#__codelineno-0-31">31</a></span>
<span class="normal"><a href="#__codelineno-0-32">32</a></span>
<span class="normal"><a href="#__codelineno-0-33">33</a></span>
<span class="normal"><a href="#__codelineno-0-34">34</a></span>
<span class="normal"><a href="#__codelineno-0-35">35</a></span>
<span class="normal"><a href="#__codelineno-0-36">36</a></span>
<span class="normal"><a href="#__codelineno-0-37">37</a></span>
<span class="normal"><a href="#__codelineno-0-38">38</a></span>
<span class="normal"><a href="#__codelineno-0-39">39</a></span>
<span class="normal"><a href="#__codelineno-0-40">40</a></span>
<span class="normal"><a href="#__codelineno-0-41">41</a></span>
<span class="normal"><a href="#__codelineno-0-42">42</a></span>
<span class="normal"><a href="#__codelineno-0-43">43</a></span>
<span class="normal"><a href="#__codelineno-0-44">44</a></span>
<span class="normal"><a href="#__codelineno-0-45">45</a></span>
<span class="normal"><a href="#__codelineno-0-46">46</a></span>
<span class="normal"><a href="#__codelineno-0-47">47</a></span>
<span class="normal"><a href="#__codelineno-0-48">48</a></span>
<span class="normal"><a href="#__codelineno-0-49">49</a></span>
<span class="normal"><a href="#__codelineno-0-50">50</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-27" name="__codelineno-0-27"></a><span class="nd">@staticmethod</span>
<a id="__codelineno-0-28" name="__codelineno-0-28"></a><span class="k">def</span> <span class="nf">exec_set_up_instruction</span><span class="p">(</span>
<a id="__codelineno-0-29" name="__codelineno-0-29"></a>    <span class="n">django_testcase</span><span class="p">:</span> <span class="n">django</span><span class="o">.</span><span class="n">test</span><span class="o">.</span><span class="n">TestCase</span><span class="p">,</span>
<a id="__codelineno-0-30" name="__codelineno-0-30"></a>    <span class="n">instruction</span><span class="p">:</span> <span class="n">scenery</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">SetUpInstruction</span><span class="p">,</span>
<a id="__codelineno-0-31" name="__codelineno-0-31"></a><span class="p">):</span>
<a id="__codelineno-0-32" name="__codelineno-0-32"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-33" name="__codelineno-0-33"></a><span class="sd">    Execute the method corresponding to the SetUpInstruction.</span>
<a id="__codelineno-0-34" name="__codelineno-0-34"></a>
<a id="__codelineno-0-35" name="__codelineno-0-35"></a><span class="sd">    This method dynamically retrieves and executes the setup function specified</span>
<a id="__codelineno-0-36" name="__codelineno-0-36"></a><span class="sd">    by the SetUpInstruction. It logs the execution for debugging purposes.</span>
<a id="__codelineno-0-37" name="__codelineno-0-37"></a>
<a id="__codelineno-0-38" name="__codelineno-0-38"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-39" name="__codelineno-0-39"></a><span class="sd">        django_testcase (django.test.TestCase): The Django test case instance.</span>
<a id="__codelineno-0-40" name="__codelineno-0-40"></a><span class="sd">        instruction (scenery.manifest.SetUpInstruction): The setup instruction to execute.</span>
<a id="__codelineno-0-41" name="__codelineno-0-41"></a>
<a id="__codelineno-0-42" name="__codelineno-0-42"></a><span class="sd">    Raises:</span>
<a id="__codelineno-0-43" name="__codelineno-0-43"></a><span class="sd">        AttributeError: If the specified setup function is not found in the imported module.</span>
<a id="__codelineno-0-44" name="__codelineno-0-44"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-45" name="__codelineno-0-45"></a>
<a id="__codelineno-0-46" name="__codelineno-0-46"></a>    <span class="n">func</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">SetUpHandler</span><span class="o">.</span><span class="n">module</span><span class="p">,</span> <span class="n">instruction</span><span class="o">.</span><span class="n">command</span><span class="p">)</span>
<a id="__codelineno-0-47" name="__codelineno-0-47"></a>    <span class="n">func</span><span class="p">(</span><span class="n">django_testcase</span><span class="p">,</span> <span class="o">**</span><span class="n">instruction</span><span class="o">.</span><span class="n">args</span><span class="p">)</span>
<a id="__codelineno-0-48" name="__codelineno-0-48"></a>
<a id="__codelineno-0-49" name="__codelineno-0-49"></a>    <span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="n">__package__</span><span class="p">)</span>
<a id="__codelineno-0-50" name="__codelineno-0-50"></a>    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Applied </span><span class="si">{</span><span class="n">instruction</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.83f73b43.min.js"></script>
      
    
  </body>
</html>