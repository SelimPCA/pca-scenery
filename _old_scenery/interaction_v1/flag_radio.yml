set_up_test_data:
  - reset_db
  - create_testuser: !common-item TESTUSER

set_up:
  - login: !common-item CREDENTIALS

# variables:
#   - &answer_data
#     !common-item 
#       ID: INTERACTION_BASE
#       interaction_ftype: radio_
#       fragment_pos: 4
#       fragment_id: 4

cases:
  CORRECT_RADIO:
    answer:
      !common-item 
        ID: INTERACTION_BASE
        interaction_ftype: radio_
        fragment_pos: 6
        fragment_id: 6
        radio_pos_and_flag: 1|20
        flag: 20

  WRONG_RADIO:
    answer:
      !common-item 
        ID: INTERACTION_BASE
        interaction_ftype: radio_
        fragment_pos: 6
        fragment_id: 6
        radio_pos_and_flag: 0|21
        flag: 21

scene:

  method: POST
  url: app:interaction_v1
  url_parameters: 
    origin: tests/tests/0-00
    id_or_pos_min: 6
  data: !case answer
  directives:
    - status_code: 201
    - count_instances:
        model: UserInteraction
        n: 1
    - dom_element:
        find:
          id: flag-6-dynamic
        attribute: 
          name: data-flag
          value: !case answer:flag
